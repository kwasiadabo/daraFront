(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[66],{1301:function(e,t,a){"use strict";a.r(t);var n=a(109),l=a.n(n),c=a(165),r=a(658),u=a(1),o=a.n(u),m=a(45),s=a.n(m),i=(a(661),a(662),a(669),a(660),a(111)),f=a(164),p=(a(694),a(664)),E=a(657);t.default=function(){var e=Object(u.useState)(!1),t=Object(r.a)(e,2),a=(t[0],t[1],Object(u.useState)(!1)),n=Object(r.a)(a,2),m=(n[0],n[1],Object(u.useState)([])),d=Object(r.a)(m,2),b=d[0],h=d[1],O=Object(u.useState)(0),v=Object(r.a)(O,2),N=v[0],g=v[1],j=Object(u.useState)([]),y=Object(r.a)(j,2),S=y[0],w=y[1],D=Object(u.useState)((new Date).toISOString().slice(0,10)),x=Object(r.a)(D,2),C=x[0],k=x[1],I=(i.a.getCurrentUser(),new Intl.NumberFormat("en-US",{style:"currency",currency:"GHS"}));Object(u.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(f.apiUrl+"/setup/staff");case 2:t=e.sent,w(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(u.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get(f.apiUrl+"/loan/dailycollections/collectionsheet/"+N+"/"+C);case 2:t=e.sent,h(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N,C]);new Intl.NumberFormat("de-CH",{style:"currency",currency:"CHF"});var A=new Date;A.toLocaleString("default",{month:"long"}),A.getDate(),A.getFullYear();b.reduce((function(e,t){return e+t.DailyAmt}),0);return o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"m-3"},o.a.createElement("div",{className:"mb-3"},o.a.createElement(E.vb,null,o.a.createElement(E.u,{lg:12},o.a.createElement(E.j,{lg:12},o.a.createElement(E.n,{className:"text-right"},o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("h4",{className:"centertext mb-2"},"DAILY COLLECTION SHEET --"))),o.a.createElement(E.k,null,o.a.createElement("div",{class:"mb-3 row"},o.a.createElement(E.wb,{className:"col-sm-12","aria-label":"Default select example",value:N,onChange:function(e){g(e.currentTarget.value)}},o.a.createElement("option",{defaultValue:""},"--Select Officer *--"),S.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id,id:e.id},e.nameOfStaff)})))),o.a.createElement("label",{className:"col-sm-3 col-form-label"},"Collection Date"),o.a.createElement(E.R,{id:"collectionDate",type:"date",className:" form-control text-center col-sm-12","aria-label":"Default select example",value:C,onChange:function(e){return k(e.currentTarget.value)}}),o.a.createElement(p.c,{className:"table-lg col-sm-12"},o.a.createElement("thead",null,o.a.createElement("tr",{className:""},o.a.createElement("th",null),o.a.createElement("th",null,"Account Number"),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Loan ID"),o.a.createElement("th",null,"Phone"),o.a.createElement("th",null,"Amount"))),o.a.createElement("tbody",null,b.map((function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.accountNumber),o.a.createElement("td",null,e.Name),o.a.createElement("td",null,e.loanId),o.a.createElement("td",null,e.phone),o.a.createElement("td",null,I.format(e.DailyAmt)))})))))),o.a.createElement(E.f,{className:"float-right m-3 col-sm-2",color:"success",onClick:function(){return e=f.reportUrl+"/collectionSheet.aspx?"+N+"?"+C,void window.open(e,"Collection Sheet","popup","left=100,top=100,width=320,height=320");var e}},"Generate Sheet"))))))}}}]);
//# sourceMappingURL=66.d67f8e30.chunk.js.map