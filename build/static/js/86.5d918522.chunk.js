(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[86],{1281:function(e,a,t){"use strict";t.r(a);var r=t(112),n=t(109),c=t.n(n),s=t(165),l=t(658),o=t(1),u=t.n(o),i=t(45),m=t.n(i),f=(t(661),t(660)),p=t.n(f),b=t(164),d=t(657);a.default=function(e){var a=Object(o.useState)([]),t=Object(l.a)(a,2),n=t[0],i=t[1],f=Object(o.useState)([]),h=Object(l.a)(f,2),v=h[0],E=h[1],O=Object(o.useState)({username:"",password:"pass1234",staff:0,branch:0,userRole:""}),w=Object(l.a)(O,2),g=w[0],j=w[1];Object(o.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b.apiUrl+"/setup/staff");case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(o.useEffect)((function(){function e(){return(e=Object(s.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b.apiUrl+"/setup/branch");case 2:a=e.sent,E(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){for(var e="123456789abcdefghijklmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",a=0;a<=8;a++){var t=Math.floor(Math.random()*e.length);e.substring(t,t+1)}j(Object(r.a)(Object(r.a)({},g),{},{password:"pass1234"}))}()}),[]);var k=function(){var e=Object(s.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(g),e.prev=2,e.next=5,m.a.post(b.apiUrl+"/setup/user",g);case 5:if(200===e.sent.status){e.next=10;break}return e.abrupt("return",p.a.fire("Failed","Submission Failed ! Check Entries and try again !","error"));case 10:p.a.fire("Success","User Account Created Successfully","success"),p.a.fire("Default Password","Default Password: "+g.password+" : Change this on your first login.","info"),j({username:"",password:"pass1234",userRole:"",branch:0,staff:0});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),p.a.fire("OOPS ! "+e.t0,"error");case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(a){return e.apply(this,arguments)}}(),S=function(){var e=Object(s.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(b.apiUrl+"/backup",{db:"Daraplus"});case 2:if(200===e.sent.status){e.next=7;break}return e.abrupt("return",p.a.fire("Backup Failed","Db Back Failed ! try again !","error"));case 7:p.a.fire("Success","Backup Completed Successfully","success");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"container"},u.a.createElement("h1",{className:"centertext"},"Setup User Accounts"),u.a.createElement("p",{className:"staffp mb-3"},"A user account is an established technique for connecting a user and an information service and/or computer network. User accounts determine whether or not a user can connect to a computer, network or similar networks."),u.a.createElement("div",{className:"mb-3 row"},u.a.createElement("label",{htmlFor:"phoneworship",className:"form-label col-sm-2"},"FullName"),u.a.createElement(d.wb,{className:"col-sm-6","aria-label":"Default select example",value:g.staff,onChange:function(e){return j(Object(r.a)(Object(r.a)({},g),{},{staff:e.currentTarget.value}))}},u.a.createElement("option",{defaultValue:""},"--Select Officer--"),n.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id,id:e.id},e.nameOfStaff)})))),u.a.createElement("div",{className:"mb-3 row"},u.a.createElement("label",{htmlFor:"username",className:"form-label col-sm-2"},"Username"),u.a.createElement(d.R,{type:"text",className:"col-sm-6",id:"username",value:g.username,onChange:function(e){return j(Object(r.a)(Object(r.a)({},g),{},{username:e.currentTarget.value}))}})),u.a.createElement("div",{className:"mb-3 row"},u.a.createElement("label",{htmlFor:"gender",className:"form-label col-sm-2"},"User Role"),u.a.createElement(d.wb,{className:"col-sm-6","aria-label":"Default select example",value:g.userRole,onChange:function(e){j(Object(r.a)(Object(r.a)({},g),{},{userRole:e.currentTarget.value}))}},u.a.createElement("option",{defaultValue:""},"--Select User Role--"),u.a.createElement("option",{value:"Admin"},"Admin"),u.a.createElement("option",{value:"Loan Officer"},"Loan Officer"),u.a.createElement("option",{value:"Supervisor"},"Supervisor"),u.a.createElement("option",{value:"Recovery Officer"},"Recovery Officer"),u.a.createElement("option",{value:"Customer Service Officer"},"Customer Service Officer"),u.a.createElement("option",{value:"Management"},"Management"))),u.a.createElement("div",{className:"mb-3 row"},u.a.createElement("label",{htmlFor:"branch",className:"form-label col-sm-2"},"Branch"),u.a.createElement(d.wb,{className:"col-sm-6","aria-label":"Default select example",value:g.branch,onChange:function(e){j(Object(r.a)(Object(r.a)({},g),{},{branch:e.currentTarget.value}))}},u.a.createElement("option",{defaultValue:""},"--Select Branch--"),v.map((function(e){return u.a.createElement("option",{key:e.id,value:e.id,id:e.id},e.branch)})))),u.a.createElement(d.f,{className:"col-sm-3 mt-3 btn-sm float-right mt-3",color:"success",onClick:k},"Submit"),u.a.createElement(d.f,{color:"danger",className:"btn-sm",onClick:S},"DB Backup"))}}}]);
//# sourceMappingURL=86.5d918522.chunk.js.map