(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[55],{1286:function(e,t,a){"use strict";a.r(t);var r=a(112),n=a(109),l=a.n(n),i=a(165),s=a(658),o=a(1),c=a.n(o),u=(a(665),a(45)),m=a.n(u),d=a(662),f=a.n(d),g=a(660),p=a.n(g),b=a(661),h=a.n(b),E=a(657);a(667);t.default=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],u=Object(o.useState)({holiday:"",hdate:new Date,year:null}),d=Object(s.a)(u,2),g=d[0],b=d[1],v=Object(o.useState)([]),y=Object(s.a)(v,2),S=y[0],A=y[1],j=Object(o.useState)(""),O=Object(s.a)(j,2),k=O[0],N=O[1],M=Object(o.useState)(!1),w=Object(s.a)(M,2),C=(w[0],w[1]);Object(o.useEffect)((function(){function e(){return(e=Object(i.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://ugmcservice.herokuapp.com/api/holidays/days/"+(new Date).getFullYear());case 2:t=e.sent,A(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[S]);var P=f.a.object().keys({holiday:f.a.string().required().label("Holiday"),hdate:f.a.date().required().label("date"),year:f.a.number().required().label("Year")}),D=function(){var e=f.a.validate(g,P);return e.error?e.error.details[0].message:null},F=function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(),C(!0),console.log(g),e.prev=3,e.next=6,m.a.post("https://ugmcservice.herokuapp.com/api/holidays",g);case 6:200===e.sent.status?(p.a.fire("Success","Holiday Setup Successfully","success"),C(!1)):(p.a.fire("OOPS","Holiday Setup Failed","error"),C(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),p.a.fire("OOPS","Holiday Setup Failed "+e.t0,"error"),C(!1);case 14:b({holiday:"",hdate:"",year:""});case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),H={holidays:S.filter((function(e){return e.holiday.toLowerCase().includes(k.toLowerCase())}))},x=0===k.length?S:H.holidays;return c.a.createElement(c.a.Fragment,null,c.a.createElement(E.vb,null,c.a.createElement(E.u,null,c.a.createElement(E.j,null,c.a.createElement("div",null,c.a.createElement(E.ib,null,c.a.createElement(E.u,null,c.a.createElement(E.K,null,c.a.createElement(E.bb,{htmlFor:"appendedInputButtons"}),c.a.createElement("div",{className:"controls"},c.a.createElement(E.U,null,c.a.createElement(E.R,{id:"appendedInputButtons",size:"16",type:"text",onChange:function(e){N(e.currentTarget.value)}}),c.a.createElement(E.V,null,c.a.createElement(E.u,null,c.a.createElement(E.f,{color:"primary"},"Search")),c.a.createElement(E.f,{color:"primary",onClick:function(){return n(!a)}},"+ New Holidays")," ",c.a.createElement(E.f,{color:"success",onClick:function(){return n(!a)}},"Export Report")))))))),c.a.createElement(E.fb,{show:a,onClose:function(){return n(!a)},color:"primary",size:"lg"},c.a.createElement(E.ib,{closeButton:!0},c.a.createElement(E.jb,null,"Setup | Holidays")),c.a.createElement(E.gb,null,c.a.createElement("form",null,c.a.createElement(E.vb,null,c.a.createElement(E.u,{xs:"12",md:"12"},c.a.createElement(E.j,null,c.a.createElement(E.n,null,"HOLIDAYS SETUP"),c.a.createElement(E.k,null,c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"LeaveYear",className:"form-label"},"Holiday"),c.a.createElement("input",{className:"form-control",type:"text",value:g.holiday,onChange:function(e){return b(Object(r.a)(Object(r.a)({},g),{},{holiday:e.target.value}))}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"date",className:"form-label"},"Holiday Date")," ",c.a.createElement("input",{type:"date",className:"form-control myInput",value:g.hdate,onChange:function(e){return b(Object(r.a)(Object(r.a)({},g),{},{hdate:e.currentTarget.value}))}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"LeaveYear",className:"form-label"},"Year"),c.a.createElement("input",{className:"form-control",type:"text",value:g.year,placeholder:"2001",onChange:function(e){return b(Object(r.a)(Object(r.a)({},g),{},{year:e.target.value}))}})))))))))),c.a.createElement(E.hb,null,c.a.createElement(E.f,{color:"primary",onClick:F},"Save")," ",c.a.createElement(E.f,{color:"warning",onClick:function(){return n(!a)}},"Reset")," ",c.a.createElement(E.f,{color:"danger",onClick:function(){return n(!a)}},"Close"))),c.a.createElement(E.k,null,c.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},c.a.createElement("caption",null,"Holidays"),c.a.createElement("thead",{className:"thead-light"},c.a.createElement("tr",null,c.a.createElement("th",null,"Number"),c.a.createElement("th",null,"Holiday"),c.a.createElement("th",null,"Date"),c.a.createElement("th",null,"Action"))),c.a.createElement("tbody",{className:""},x.map((function(e,t){return c.a.createElement("tr",{key:e._id},c.a.createElement("td",null,t+1),c.a.createElement("td",null,e.holiday),c.a.createElement("td",null,h()(e.hdate).format("DD,MMMM,YYYY")),c.a.createElement("td",{className:"float-right"},c.a.createElement(E.f,{color:"info",size:"sm",onClick:function(e){return function(e){console.log(e)}(e)}},"Edit")))})))))))))}},667:function(e,t,a){"use strict";t.a=[{id:0,name:"John Doe",registered:"2018/01/01",role:"Guest",status:"Pending",ok:"Pending"},{id:1,name:"Samppa Nori",registered:"2018/01/01",role:"Member",status:"Active"},{id:2,name:"Estavan Lykos",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:3,name:"Chetan Mohamed",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:4,name:"Derick Maximinus",registered:"2018/03/01",role:"Member",status:"Pending"},{id:5,name:"Friderik D\xe1vid",registered:"2018/01/21",role:"Staff",status:"Active"},{id:6,name:"Yiorgos Avraamu",registered:"2018/01/01",role:"Member",status:"Active"},{id:7,name:"Avram Tarasios",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:8,name:"Quintin Ed",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:9,name:"En\xe9as Kwadwo",registered:"2018/03/01",role:"Member",status:"Pending"},{id:10,name:"Agapetus Tade\xe1\u0161",registered:"2018/01/21",role:"Staff",status:"Active"},{id:11,name:"Carwyn Fachtna",registered:"2018/01/01",role:"Member",status:"Active"},{id:12,name:"Nehemiah Tatius",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:13,name:"Ebbe Gemariah",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:14,name:"Eustorgios Amulius",registered:"2018/03/01",role:"Member",status:"Pending"},{id:15,name:"Leopold G\xe1sp\xe1r",registered:"2018/01/21",role:"Staff",status:"Active"},{id:16,name:"Pompeius Ren\xe9",registered:"2018/01/01",role:"Member",status:"Active"},{id:17,name:"Pa\u0109jo Jadon",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:18,name:"Micheal Mercurius",registered:"2018/02/01",role:"Admin",status:"Inactive"},{id:19,name:"Ganesha Dubhghall",registered:"2018/03/01",role:"Member",status:"Pending"},{id:20,name:"Hiroto \u0160imun",registered:"2018/01/21",role:"Staff",status:"Active"},{id:21,name:"Vishnu Serghei",registered:"2018/01/01",role:"Member",status:"Active"},{id:22,name:"Zbyn\u011bk Phoibos",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:23,name:"Aulus Agmundr",registered:"2018/01/01",role:"Member",status:"Pending"},{id:42,name:"Ford Prefect",registered:"2001/05/25",role:"Alien",status:"Don't panic!"},{id:43,name:"Ford Correct",registered:"2001/05/25",role:"Alien",status:"Don't panic!"},{id:44,name:"Zbyn\u011bk Phoibos",registered:"2018/02/01",role:"Staff",status:"Banned"},{id:45,name:"Aulus Agmundr",registered:"2018/01/01",role:"Member",status:"Pending"},{id:46,name:"Ford Good",registered:"2008/05/25",role:"Avata",status:"Don't panic!"},{id:47,name:"Ford Fine",registered:"2009/05/25",role:"Alien",status:"Don't panic!"}]}}]);
//# sourceMappingURL=55.7b5687d2.chunk.js.map