(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[96],{1288:function(e,t,a){"use strict";a.r(t);var n=a(109),r=a.n(n),l=a(165),c=a(658),u=a(665),o=a(1),s=a.n(o),i=a(45),m=a.n(i),d=a(662),E=a.n(d),p=a(660),f=a.n(p),b=a(657);t.default=function(){var e=Object(o.useState)([]),t=Object(c.a)(e,2),a=(t[0],t[1],Object(o.useState)(!1)),n=Object(c.a)(a,2),i=n[0],d=n[1],p=Object(o.useState)(""),g=Object(c.a)(p,2),v=g[0],h=g[1],j=Object(o.useState)([]),O=Object(c.a)(j,2),k=O[0],S=O[1],y=Object(o.useState)(!1),N=Object(c.a)(y,2),x=(N[0],N[1]);Object(o.useEffect)((function(){function e(){return(e=Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://ugmcservice.herokuapp.com/api/grades");case 2:t=e.sent,S(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[k]);var w=Object(o.useState)(""),C=Object(c.a)(w,2),G=C[0],M=C[1],z=Object(o.useState)(""),L=Object(c.a)(z,2),A=L[0],J=L[1],R=Object(o.useState)(""),T=Object(c.a)(R,2),B=(T[0],T[1]),F=E.a.object().keys({grade:E.a.string().required().label("Grade"),level:E.a.string().required().label("Level"),days:E.a.number().label("Days")}),I=function(){var e=E.a.validate({grade:G,level:A},F);return e.error?e.error.details[0].message:null},U=function(){var e=Object(l.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Management"===A?42:"Senior"===A?36:"Middle"===A?28:21,null!==(a=I())){e.next=17;break}return e.prev=3,x(!0),e.next=7,m.a.post("https://ugmcservice.herokuapp.com/api/grades",{grade:G,level:A,days:t});case 7:200===e.sent.status?(f.a.fire({title:"Success",text:"Grade Successfully Added",icon:"success"}),d(!1)):f.a.fire({title:"Oops!",text:"Grade Failed",icon:"danger"}),e.next=15;break;case 11:if(e.prev=11,e.t0=e.catch(3),!e.t0.response||400!==e.t0.response.status){e.next=15;break}return e.abrupt("return",f.a.fire({title:"Oops!",text:e.t0.response.data,icon:"danger"}));case 15:e.next=18;break;case 17:f.a.fire("Validation Error",a,"error");case 18:M(""),J(""),B(""),x(!1);case 22:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),q={grades:k.filter((function(e){return e.grade.toLowerCase().includes(v.toLowerCase())}))},D=0===v.length?k:q.grades;return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.vb,null,s.a.createElement(b.u,null,s.a.createElement(b.j,null,s.a.createElement("div",null,s.a.createElement(b.ib,null,s.a.createElement(b.u,null,s.a.createElement(b.K,null,s.a.createElement(b.bb,{htmlFor:"appendedInputButtons"}),s.a.createElement("div",{className:"controls"},s.a.createElement(b.U,null,s.a.createElement(b.R,{id:"appendedInputButtons",size:"16",type:"text",onChange:function(e){h(e.currentTarget.value)}}),s.a.createElement(b.V,null,s.a.createElement(b.u,null,s.a.createElement(b.f,{color:"primary"},"Search")),s.a.createElement(b.f,{color:"primary",onClick:function(){return d(!i)}},"+ New Grade")," ",s.a.createElement(b.f,{color:"success",onClick:function(){return d(!i)}},"Export Report")))))))),s.a.createElement(b.fb,{show:i,onClose:function(){return d(!i)},color:"primary",size:"lg"},s.a.createElement(b.ib,{closeButton:!0},s.a.createElement(b.jb,null,"System Setup | Grade ")),s.a.createElement(b.gb,null,s.a.createElement("form",null,s.a.createElement(b.vb,null,s.a.createElement(b.u,{xs:"12",md:"12"},s.a.createElement(b.j,null,s.a.createElement(b.n,null,"GRADE MANAGEMENT"),s.a.createElement(b.k,null,s.a.createElement(b.J,{action:"",method:"post",className:"form-horizontal"},s.a.createElement(b.K,{row:!0},s.a.createElement(b.u,{md:"12"},s.a.createElement(b.U,null,s.a.createElement(b.W,null,s.a.createElement(b.f,{type:"InsName",color:"primary"},s.a.createElement(u.a,{name:"cil-magnifying-glass"}))),s.a.createElement(b.R,{id:"Grade",name:"Grade",placeholder:"Grade Name",value:G,onChange:function(e){return M(e.currentTarget.value)}}))),s.a.createElement(b.u,{md:"12",className:"mt-3"},s.a.createElement(b.U,null,s.a.createElement("select",{name:"Levels",id:"Levels",className:"form-control col-6 mt-3",value:A,onChange:function(e){J(e.currentTarget.value)}},s.a.createElement("option",{value:""},"--Select Level--"),s.a.createElement("option",{value:"Management"},"Management"),s.a.createElement("option",{value:"Senior"},"Senior"),s.a.createElement("option",{value:"Middle"},"Middle"),s.a.createElement("option",{value:"Junior"},"Junior")))))))))))),s.a.createElement(b.hb,null,s.a.createElement(b.f,{color:"success",size:"sm",onClick:U},"Save")," ",s.a.createElement(b.f,{color:"warning",size:"sm",onClick:function(){return d(!i)}},"Reset"),s.a.createElement(b.f,{color:"danger",size:"sm",onClick:function(){return d(!i)}},"Cancel"))),s.a.createElement(b.k,null,s.a.createElement("table",{className:"table table-hover table-outline mb-0 d-none d-sm-table"},s.a.createElement("caption",null,"Grades"),s.a.createElement("thead",{className:"thead-light"},s.a.createElement("tr",null,s.a.createElement("th",null,"Number"),s.a.createElement("th",null,"Grade"),s.a.createElement("th",null,"Action"))),s.a.createElement("tbody",{className:""},D.map((function(e,t){return s.a.createElement("tr",{key:e._id},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.grade),s.a.createElement("td",{className:"float-right"},s.a.createElement(b.f,{color:"info",size:"sm",onClick:function(e){return function(e){console.log(e)}(e)}},"Edit")))})))),s.a.createElement("p",{className:"hou-p"},"Showing ",k.length," Grades..."))))))}}}]);
//# sourceMappingURL=96.4341d944.chunk.js.map