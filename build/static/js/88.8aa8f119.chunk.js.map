{"version":3,"sources":["views/pages/viewCustomerDetails.jsx"],"names":["ViewCustomerDetails","useState","customer","useParams","customerDetails","setCustomerDetails","buffer","setBuffer","navigate","Intl","NumberFormat","style","currency","useHistory","useEffect","a","axios","get","apiUrl","results","data","img","console","log","getCustomer","bb","Buffer","from","toString","className","src","width","fullName","gender","phone","dob","idType","idNumber","tin","hometown","placeOfBirth","residentialAddress","ghanaPostGPS","nationality","occupation","directions","marritalStatus","nameOfSpouse","phoneOfSpouse","occupationOfSpouse","religion","placeOfWorship","leaderOfPlaceOfWorship","phoneOfPlaceOfWorship","association","assignedOfficer","color","onClick","window","print","push","url","reportUrl","open"],"mappings":"kVAiNeA,UAnMa,WAAO,IAAD,EACFC,mBAAS,IADP,mBAExBC,GAFwB,UAEXC,cAAbD,UAFwB,EAGcD,mBAAS,IAHvB,mBAGzBG,EAHyB,KAGRC,EAHQ,OAIJJ,mBAAS,IAJL,mBAIzBK,EAJyB,KAIjBC,EAJiB,OAKJN,oBAAS,GALL,mBAe5BO,GAf4B,UAOhB,IAAIC,KAAKC,aAAa,QAAS,CAC7CC,MAAO,WACPC,SAAU,QAMGC,eACfC,qBAAU,WAAM,4CACd,4BAAAC,EAAA,sEACwBC,IAAMC,IAAIC,SAAS,aAAehB,GAD1D,OACQiB,EADR,OAEEd,EAAmBc,EAAQC,KAAK,IAChCb,EAAUY,EAAQC,KAAK,GAAGC,IAAID,MAC9BE,QAAQC,IAAIJ,EAAQC,KAAK,IAJ3B,4CADc,uBAAC,WAAD,wBAQdI,KACC,CAACtB,IAEJ,IAAMuB,EAAKC,EAAOC,KAAKrB,GAAQsB,SAAS,UAMxC,OACE,yBAAKC,UAAU,aACb,wBAAIA,UAAU,oBAAd,+BAEA,yBAAKA,UAAU,YACb,yBACEC,IAAG,iCAA4BL,GAC/BM,MAAM,QACNF,UAAU,2BAId,yBAAKA,UAAU,OACb,wBAAIA,UAAU,8BAAd,OACA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,SADF,KACoCzB,EAAgB4B,UAGpD,yBAAKH,UAAU,YACb,0BAAMA,UAAU,IAAhB,YADF,IACsCzB,EAAgB6B,QAGtD,yBAAKJ,UAAU,YACb,0BAAMA,UAAU,IAAhB,WADF,IACqCzB,EAAgB8B,OAErD,yBAAKL,UAAU,YACb,0BAAMA,UAAU,IAAhB,mBADF,IAC6CzB,EAAgB+B,MAI/D,yBAAKN,UAAU,YACb,wBAAIA,UAAU,8BAAd,kBACA,yBAAKA,UAAU,iBACb,0BAAMA,UAAU,IAAhB,aADF,IACuCzB,EAAgBgC,QAGvD,yBAAKP,UAAU,iBACb,0BAAMA,UAAU,IAAhB,eADF,IACyCzB,EAAgBiC,UAEzD,yBAAKR,UAAU,iBACb,0BAAMA,UAAU,IAAhB,gBADF,IAC0CzB,EAAgBkC,MAI5D,yBAAKT,UAAU,YACb,wBAAIA,UAAU,8BAAd,uBACA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,aADF,KACwCzB,EAAgBmC,UAGxD,yBAAKV,UAAU,YACb,0BAAMA,UAAU,IAAhB,mBAA0C,IACzCzB,EAAgBoC,cAGnB,yBAAKX,UAAU,YACb,0BAAMA,UAAU,IAAhB,yBAAgD,IAC/CzB,EAAgBqC,qBAIrB,yBAAKZ,UAAU,YACb,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,mBACCzB,EAAgBsC,cAEnB,yBAAKb,UAAU,YACb,0BAAMA,UAAU,IAAhB,kBADF,IAC4CzB,EAAgBuC,aAE5D,yBAAKd,UAAU,YACb,0BAAMA,UAAU,IAAhB,kBADF,IAC4CzB,EAAgBwC,aAI9D,yBAAKf,UAAU,aACb,wBAAIA,UAAU,8BAAd,uBACA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,oBAA2C,IAC1CzB,EAAgByC,aAIrB,yBAAKhB,UAAU,aACb,wBAAIA,UAAU,8BAAd,mBACA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,oBAA2C,IAC1CzB,EAAgB0C,gBAEnB,yBAAKjB,UAAU,aACb,0BAAMA,UAAU,IAAhB,oBAA2C,IAC1CzB,EAAgB2C,cAEnB,yBAAKlB,UAAU,YACb,0BAAMA,UAAU,IAAhB,sBAA6C,IAC5CzB,EAAgB4C,eAEnB,yBAAKnB,UAAU,iBACb,0BAAMA,UAAU,IAAhB,0BAAiD,IAChDzB,EAAgB6C,qBAIrB,yBAAKpB,UAAU,aACb,wBAAIA,UAAU,8BAAd,YACA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,cADF,IACwCzB,EAAgB8C,UAExD,yBAAKrB,UAAU,aACb,0BAAMA,UAAU,IAAhB,sBAA6C,IAC5CzB,EAAgB+C,gBAEnB,yBAAKtB,UAAU,YACb,0BAAMA,UAAU,IAAhB,aAAoC,IACnCzB,EAAgBgD,wBAEnB,yBAAKvB,UAAU,iBACb,0BAAMA,UAAU,IAAhB,+BAAsD,IACrDzB,EAAgBiD,wBAIrB,yBAAKxB,UAAU,aACb,wBAAIA,UAAU,8BAAd,oBAEA,yBAAKA,UAAU,YACb,0BAAMA,UAAU,IAAhB,WADF,IACqCzB,EAAgBkD,aAGrD,yBAAKzB,UAAU,YACb,0BAAMA,UAAU,IAAhB,YADF,IACsCzB,EAAgBmD,kBAGxD,yBAAK1B,UAAU,8BACb,kBAAC,IAAD,CACEA,UAAU,wBACV2B,MAAM,UACNC,QAAS,kBAAMC,OAAOC,UAHxB,SAOA,kBAAC,IAAD,CACE9B,UAAU,wBACV2B,MAAM,SACNC,QAAS,kBAAMjD,EAASoD,KAAK,4BAH/B,SAOA,kBAAC,KAAD,CACE/B,UAAU,4CACV4B,QAAS,kBA1JiBI,EA4JtBC,YAAY,2BAA6B5D,OA1JnDwD,OAAOK,KAAKF,EAAK,eAAgB,QADV,yCADQ,IAACA,IAwJ5B,sB","file":"static/js/88.8aa8f119.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport Joi from 'joi-browser'\nimport CurrencyFormat from 'react-currency-format'\nimport Swal from 'sweetalert2'\nimport auth from '../../components/services/authService'\nimport { apiUrl, reportUrl } from '../../config.json'\nimport '../../../src/schedulecards.css'\nimport { CButton } from '@coreui/react'\n\nimport { CLink } from '@coreui/react'\n\nconst ViewCustomerDetails = () => {\n  const [summary, setSummary] = useState({})\n  const { customer } = useParams()\n  const [customerDetails, setCustomerDetails] = useState('')\n  const [buffer, setBuffer] = useState('')\n  const [render, setRender] = useState(false)\n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS',\n\n    // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n  })\n  let navigate = useHistory()\n  useEffect(() => {\n    async function getCustomer() {\n      const results = await axios.get(apiUrl + '/customer/' + customer)\n      setCustomerDetails(results.data[0])\n      setBuffer(results.data[0].img.data)\n      console.log(results.data[0])\n      //console.log(customer)\n    }\n    getCustomer()\n  }, [customer])\n\n  const bb = Buffer.from(buffer).toString('base64')\n  const openCustomerListAsReport = (url) => {\n    const windowFeatures = 'left=100,top=100,width=320,height=320'\n    window.open(url, 'customerlist', 'popup', windowFeatures)\n  }\n\n  return (\n    <div className=\"container\">\n      <h4 className=\"mb-3 text-center\">Registered Customer Details</h4>\n\n      <div className=\"row mb-3\">\n        <img\n          src={`data:image/jpeg;base64,${bb}`}\n          width=\"120px\"\n          className=\"ms-3 mb-3 float-right\"\n        />\n      </div>\n\n      <div className=\"row\">\n        <h5 className=\"customerheadings col-sm-12\">Bio</h5>\n        <div className=\"col-sm-3\">\n          <span className=\"\">Name </span>: {customerDetails.fullName}\n        </div>\n\n        <div className=\"col-sm-3\">\n          <span className=\"\">Gender :</span> {customerDetails.gender}\n        </div>\n\n        <div className=\"col-sm-3\">\n          <span className=\"\">Phone :</span> {customerDetails.phone}\n        </div>\n        <div className=\"col-sm-3\">\n          <span className=\"\">Date of Birth :</span> {customerDetails.dob}\n        </div>\n      </div>\n\n      <div className=\"row mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Identification</h5>\n        <div className=\"col-sm-4 mt-3\">\n          <span className=\"\">ID Type :</span> {customerDetails.idType}\n        </div>\n\n        <div className=\"col-sm-4 mt-3\">\n          <span className=\"\">ID Number :</span> {customerDetails.idNumber}\n        </div>\n        <div className=\"col-sm-4 mt-3\">\n          <span className=\"\">TIN Number :</span> {customerDetails.tin}\n        </div>\n      </div>\n\n      <div className=\"row mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Places and Location</h5>\n        <div className=\"col-sm-4\">\n          <span className=\"\">Hometown </span>: {customerDetails.hometown}\n        </div>\n\n        <div className=\"col-sm-4\">\n          <span className=\"\">Place of Birth:</span>{' '}\n          {customerDetails.placeOfBirth}\n        </div>\n\n        <div className=\"col-sm-4\">\n          <span className=\"\">Residential Address :</span>{' '}\n          {customerDetails.residentialAddress}\n        </div>\n      </div>\n\n      <div className=\"row mt-3\">\n        <div className=\"col-sm-4\">\n          <span className=\"\">Ghana Post GPS:</span>\n          {customerDetails.ghanaPostGPS}\n        </div>\n        <div className=\"col-sm-4\">\n          <span className=\"\"> Nationality :</span> {customerDetails.nationality}\n        </div>\n        <div className=\"col-sm-4\">\n          <span className=\"\"> Occupation. :</span> {customerDetails.occupation}\n        </div>\n      </div>\n\n      <div className=\"row  mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Physical Directions</h5>\n        <div className=\"col-sm-8\">\n          <span className=\"\"> Directions to :</span>{' '}\n          {customerDetails.directions}\n        </div>\n      </div>\n\n      <div className=\"row  mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Marital Details</h5>\n        <div className=\"col-sm-4\">\n          <span className=\"\">Marital Status :</span>{' '}\n          {customerDetails.marritalStatus}\n        </div>\n        <div className=\"col-sm-4 \">\n          <span className=\"\">Name of Spouse :</span>{' '}\n          {customerDetails.nameOfSpouse}\n        </div>\n        <div className=\"col-sm-4\">\n          <span className=\"\"> Phone of Spouse :</span>{' '}\n          {customerDetails.phoneOfSpouse}\n        </div>\n        <div className=\"col-sm-4 mt-3\">\n          <span className=\"\"> Occupation of Spouse:</span>{' '}\n          {customerDetails.occupationOfSpouse}\n        </div>\n      </div>\n\n      <div className=\"row  mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Religion</h5>\n        <div className=\"col-sm-4\">\n          <span className=\"\">Religion :</span> {customerDetails.religion}\n        </div>\n        <div className=\"col-sm-4 \">\n          <span className=\"\">Place of Worship :</span>{' '}\n          {customerDetails.placeOfWorship}\n        </div>\n        <div className=\"col-sm-4\">\n          <span className=\"\"> Leader :</span>{' '}\n          {customerDetails.leaderOfPlaceOfWorship}\n        </div>\n        <div className=\"col-sm-4 mt-3\">\n          <span className=\"\"> Phone Of Place Of Worship:</span>{' '}\n          {customerDetails.phoneOfPlaceOfWorship}\n        </div>\n      </div>\n\n      <div className=\"row  mt-3\">\n        <h5 className=\"customerheadings col-sm-12\">Officer Assigned</h5>\n\n        <div className=\"col-sm-4\">\n          <span className=\"\"> Group:</span> {customerDetails.association}\n        </div>\n\n        <div className=\"col-sm-4\">\n          <span className=\"\">Officer:</span> {customerDetails.assignedOfficer}\n        </div>\n      </div>\n      <div className=\"col-sm-12 mt-3 float-right\">\n        <CButton\n          className=\"float-right mb-3 mr-3\"\n          color=\"success\"\n          onClick={() => window.print()}\n        >\n          Print\n        </CButton>\n        <CButton\n          className=\"float-right mb-3 mr-3\"\n          color=\"danger\"\n          onClick={() => navigate.push('/customer/customerlist')}\n        >\n          Close\n        </CButton>\n        <CLink\n          className=\"btn-block col-sm-4 float-left btn-sm mb-3\"\n          onClick={() =>\n            openCustomerListAsReport(\n              reportUrl + '/IndividualDetails.aspx?' + customer,\n            )\n          }\n        >\n          View as Report\n        </CLink>\n      </div>\n    </div>\n  )\n}\n\nexport default ViewCustomerDetails\n"],"sourceRoot":""}