{"version":3,"sources":["views/pages/login/Login.js"],"names":["Login","useState","username","password","formData","setFormData","history","useHistory","schemaMap","Joi","string","required","label","schema","object","validateForm","result","validate","error","details","message","handleSubmit","a","console","log","Swal","fire","auth","login","push","response","status","className","md","name","type","placeholder","autoComplete","value","onChange","e","currentTarget","xs","color","onClick","style","width"],"mappings":"6TAmMeA,UA5KD,WAAO,IAAD,EACaC,mBAAS,CACxCC,SAAU,GACVC,SAAU,KAHQ,mBACZC,EADY,KACFC,EADE,KAKfC,EAAUC,cAERC,EAAY,CACjBN,SAAUO,IAAIC,SAASC,WAAWC,MAAM,YACxCT,SAAUM,IAAIC,SAASC,WAAWC,MAAM,aAGnCC,EAASJ,IAAIK,OAAON,GAEpBO,EAAe,WACpB,IAAMC,EAASP,IAAIQ,SAASb,EAAUS,GACtC,OAAIG,EAAOE,MACHF,EAAOE,MAAMC,QAAQ,GAAGC,QAExB,MAKHC,EAAY,uCAAG,gCAAAC,EAAA,kEAEXpB,EAAuBE,EAAvBF,SAAUC,EAAaC,EAAbD,SAClBoB,QAAQC,IAAIrB,GAEK,QADXc,EAAWF,KAJE,yCAMXU,IAAKC,KAAK,SAAUT,EAAU,UANnB,uBAQbU,IAAKC,MAAM1B,EAAUC,GARR,OASF,aAAbA,EACHG,EAAQuB,KAAK,yBAEbvB,EAAQuB,KAAK,SAZK,sDAef,KAAGC,UAAmC,MAAvB,KAAGA,SAASC,OAfZ,0CAgBXN,IAAKC,KACX,eACA,mCACA,UAnBiB,0DAAH,qDA8ClB,OACC,yBAAKM,UAAU,sDACd,kBAAC,IAAD,KACC,kBAAC,KAAD,CAAMA,UAAU,0BACf,kBAAC,IAAD,CAAMC,GAAG,KACR,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOD,UAAU,OAChB,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,qCACA,uBAAGA,UAAU,cAAb,2BACA,kBAAC,IAAD,CAAaA,UAAU,QACtB,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOE,KAAK,eAGd,kBAAC,IAAD,CACCC,KAAK,OACLC,YAAY,WACZC,aAAa,WACbC,MAAOlC,EAASF,SAChBqC,SAAU,SAACC,GAAD,OACTnC,EAAY,2BACRD,GADO,IAEVF,SAAUsC,EAAEC,cAAcH,aAK9B,kBAAC,IAAD,CAAaN,UAAU,QACtB,kBAAC,IAAD,KACC,kBAAC,IAAD,KACC,kBAAC,IAAD,CAAOE,KAAK,sBAGd,kBAAC,IAAD,CACCC,KAAK,WACLC,YAAY,WACZC,aAAa,mBACbC,MAAOlC,EAASD,SAChBoC,SAAU,SAACC,GAAD,OACTnC,EAAY,2BACRD,GADO,IAEVD,SAAUqC,EAAEC,cAAcH,aAK9B,kBAAC,KAAD,KACC,kBAAC,IAAD,CAAMI,GAAG,KACR,kBAAC,IAAD,CACCC,MAAM,UACNX,UAAU,OACVY,QAASvB,GAHV,UAQD,kBAAC,IAAD,CAAMqB,GAAG,IAAIV,UAAU,cACtB,kBAAC,IAAD,CAASW,MAAM,OAAOX,UAAU,QAAhC,yBAQL,kBAAC,IAAD,CACCA,UAAU,4CACVa,MAAO,CAAEC,MAAO,QAEhB,kBAAC,IAAD,CAAWd,UAAU,eACpB,6BACC,4CACA","file":"static/js/76.1372c9ba.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Swal from 'sweetalert2';\nimport { useHistory } from 'react-router-dom';\nimport auth from '../../../components/services/authService';\nimport Joi from 'joi-browser';\nimport {\n\tCButton,\n\tCCard,\n\tCCardBody,\n\tCCardGroup,\n\tCCol,\n\tCContainer,\n\tCForm,\n\tCInput,\n\tCInputGroup,\n\tCInputGroupPrepend,\n\tCInputGroupText,\n\tCRow,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\n\nconst Login = () => {\n\tconst [formData, setFormData] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\tlet history = useHistory();\n\n\tconst schemaMap = {\n\t\tusername: Joi.string().required().label('Username'),\n\t\tpassword: Joi.string().required().label('Password'),\n\t};\n\n\tconst schema = Joi.object(schemaMap);\n\n\tconst validateForm = () => {\n\t\tconst result = Joi.validate(formData, schema);\n\t\tif (result.error) {\n\t\t\treturn result.error.details[0].message;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\t//toast.error(result.error.details[0].message);\n\t};\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tconst { username, password } = formData;\n\t\t\tconsole.log(password);\n\t\t\tconst validate = validateForm();\n\t\t\tif (validate !== null) {\n\t\t\t\treturn Swal.fire('OOPS !', validate, 'error');\n\t\t\t}\n\t\t\tawait auth.login(username, password);\n\t\t\tif (password === 'pass1234') {\n\t\t\t\thistory.push('/setup/changepassword');\n\t\t\t} else {\n\t\t\t\thistory.push('/home');\n\t\t\t}\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'LOGIN FAILED',\n\t\t\t\t\t'Incorrect Username or Password !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleResetPassword = async () => {\n\t\t// console.log(formData)\n\t\ttry {\n\t\t\tconst { username, password } = formData;\n\t\t\tconst validate = validateForm();\n\t\t\tif (validate !== null) {\n\t\t\t\treturn Swal.fire('OOPS !', validate, 'error');\n\t\t\t}\n\t\t\tawait auth.login(username, password);\n\t\t\thistory.push('/home');\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'LOGIN FAILED',\n\t\t\t\t\t'Incorrect Username or Password !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"c-app c-default-layout flex-row align-items-center\">\n\t\t\t<CContainer>\n\t\t\t\t<CRow className=\"justify-content-center\">\n\t\t\t\t\t<CCol md=\"8\">\n\t\t\t\t\t\t<CCardGroup>\n\t\t\t\t\t\t\t<CCard className=\"p-4\">\n\t\t\t\t\t\t\t\t<CCardBody>\n\t\t\t\t\t\t\t\t\t<CForm>\n\t\t\t\t\t\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Sign In to your account</p>\n\t\t\t\t\t\t\t\t\t\t<CInputGroup className=\"mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t<CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t\t<CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CIcon name=\"cil-user\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t</CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusername: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t\t\t\t<CInputGroup className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t<CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t\t<CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CIcon name=\"cil-lock-locked\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t</CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassword: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t\t\t\t<CRow>\n\t\t\t\t\t\t\t\t\t\t\t<CCol xs=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t\t\t\t\t\t<CCol xs=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CButton color=\"link\" className=\"px-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t\t\t\t\t</CRow>\n\t\t\t\t\t\t\t\t\t</CForm>\n\t\t\t\t\t\t\t\t</CCardBody>\n\t\t\t\t\t\t\t</CCard>\n\t\t\t\t\t\t\t<CCard\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-primary py-5 d-md-down-none\"\n\t\t\t\t\t\t\t\tstyle={{ width: '44%' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CCardBody className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>DARA CAPITAL</h3>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tPlease note that you must be a registered user to get\n\t\t\t\t\t\t\t\t\t\t\taccess to the Dara Plus system. Please contact systems\n\t\t\t\t\t\t\t\t\t\t\tadministrator for your credentials\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t{/*<Link to=\"/register\">\n                      <CButton\n                        color=\"primary\"\n                        className=\"mt-3\"\n                        active\n                        tabIndex={-1}\n                      >\n                        Register Now!\n                      </CButton>\n                      </Link>*/}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CCardBody>\n\t\t\t\t\t\t\t</CCard>\n\t\t\t\t\t\t</CCardGroup>\n\t\t\t\t\t</CCol>\n\t\t\t\t</CRow>\n\t\t\t</CContainer>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n"],"sourceRoot":""}