(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[73],{1299:function(e,t,a){"use strict";a.r(t);var c=a(112),n=a(109),s=a.n(n),r=a(165),l=a(658),m=a(1),o=a.n(m),u=a(19),i=a(45),d=a.n(i),b=a(661),f=a.n(b),E=(a(662),a(669),a(660)),h=a.n(E),p=a(111),N=a(164),O=a(679),j=a(680),v=a(681),k=a(682),x=a(683),D=a(684),y=a(664),w=a(657);t.default=function(){var e=Object(m.useState)(!1),t=Object(l.a)(e,2),a=(t[0],t[1],Object(m.useState)(!1)),n=Object(l.a)(a,2),i=n[0],b=(n[1],Object(m.useState)({})),E=Object(l.a)(b,2),g=(E[0],E[1],Object(m.useState)(!1)),S=Object(l.a)(g,2),B=(S[0],S[1],Object(m.useState)(!1)),C=Object(l.a)(B,2),Y=C[0],M=C[1],I=Object(m.useState)([]),A=Object(l.a)(I,2),U=(A[0],A[1],Object(m.useState)([])),G=Object(l.a)(U,2),z=G[0],L=G[1],P=Object(m.useState)([]),q=Object(l.a)(P,2),F=q[0],R=q[1],T=Object(m.useState)([]),H=Object(l.a)(T,2),J=H[0],V=H[1],K=Object(m.useState)({disbursementId:0,disbursedBy:0,amount:"",customer:0,cashCollateral:0}),Q=Object(l.a)(K,2),W=Q[0],X=Q[1],Z=Object(m.useState)([]),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=Object(m.useState)({}),ae=Object(l.a)(te,2),ce=(ae[0],ae[1],Object(m.useState)({})),ne=Object(l.a)(ce,2),se=(ne[0],ne[1],Object(m.useState)(!1)),re=Object(l.a)(se,2),le=re[0],me=re[1],oe=Object(m.useState)(!1),ue=Object(l.a)(oe,2),ie=ue[0],de=ue[1],be=Object(m.useState)(!1),fe=Object(l.a)(be,2),Ee=fe[0],he=fe[1],pe=Object(m.useState)(!1),Ne=Object(l.a)(pe,2),Oe=Ne[0],je=Ne[1],ve=Object(m.useState)(!1),ke=Object(l.a)(ve,2),xe=ke[0],De=ke[1],ye=Object(m.useState)(""),we=Object(l.a)(ye,2),ge=(we[0],we[1],Object(m.useState)("")),Se=Object(l.a)(ge,2),Be=(Se[0],Se[1],Object(m.useState)("")),Ce=Object(l.a)(Be,2),Ye=(Ce[0],Ce[1]),Me=Object(m.useState)(""),Ie=Object(l.a)(Me,2),Ae=(Ie[0],Ie[1]),Ue=Object(m.useState)({}),Ge=Object(l.a)(Ue,2),ze=Ge[0],Le=Ge[1],Pe=Object(m.useState)({customer:0,chequeId:0,modeOfPayment:"",amount:""}),qe=Object(l.a)(Pe,2),Fe=(qe[0],qe[1],Object(m.useState)(new Date)),Re=Object(l.a)(Fe,2),Te=(Re[0],Re[1],Object(m.useState)(new Date)),He=Object(l.a)(Te,2),Je=(He[0],He[1],Object(m.useState)(0)),Ve=Object(l.a)(Je,2),Ke=Ve[0],Qe=Ve[1],We=Object(m.useState)(0),Xe=Object(l.a)(We,2),Ze=Xe[0],$e=Xe[1],_e=Object(m.useState)(""),et=Object(l.a)(_e,2),tt=et[0],at=et[1],ct=Object(m.useState)(""),nt=Object(l.a)(ct,2),st=nt[0],rt=nt[1],lt=Object(u.g)(),mt=(p.a.getCurrentUser(),new Intl.NumberFormat("en-US",{style:"currency",currency:"GHS"}));Object(m.useEffect)((function(){function e(){return(e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/disburse/unbooked");case 2:t=e.sent,R(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),Object(m.useEffect)((function(){function e(){return(e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/registrationfee");case 2:t=e.sent,L(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[z,i]),Object(m.useEffect)((function(){function e(){return(e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/cashcollateral");case 2:t=e.sent,V(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[J,i]);var ot=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/booking/checkproduct/"+t.customer);case 2:a=e.sent,Le(t),a.data[0]?Qe(a.data[0].product):Qe(null),ut(t),it(t),dt(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/booking/checkprincipal/"+t.customer);case 2:(a=e.sent).data[0]?$e(a.data[0].principal):$e(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/booking/checkfirstguarantor/"+t.customer);case 2:(a=e.sent).data[0]?at(a.data[0].firstGuarantor):at(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(N.apiUrl+"/loan/booking/checksecondguarantor/"+t.customer);case 2:(a=e.sent).data[0]?rt(a.data[0].secondGuarantor):rt(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(Object(c.a)(Object(c.a)({},W),{},{disbursementId:t.disbursementId,customer:t.customer,cashCollateral:t.collateralAmount})),M(!Y);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(Object(c.a)(Object(c.a)({},W),{},{disbursementId:t.disbursementId,customer:t.customer,amount:t.amount})),me(!le);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Et=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(Object(c.a)(Object(c.a)({},W),{},{disbursementId:t.disbursementId,customer:t.customer})),de(!ie),e.next=4,d.a.get(N.apiUrl+"/loan/booking/check/"+t.customer+"/"+t.disbursementId);case 4:(a=e.sent).data.length>0&&(ee(a.data),Ye(_.firstGuarantor));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(Object(c.a)(Object(c.a)({},W),{},{disbursementId:t.disbursementId,customer:t.customer})),he(!Ee),e.next=4,d.a.get(N.apiUrl+"/loan/booking/check/"+t.customer+"/"+t.disbursementId);case 4:(a=e.sent).data.length>0&&(ee(a.data),Ae(_.secondGuarantor));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.fire({title:"Do you want to Delete Booking?",html:"You are about to remove loan booking entry. You can re-book this loan after removal.",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(function(){var e=Object(r.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=17;break}return e.prev=1,e.next=4,d.a.delete(N.apiUrl+"/loan/booking/"+t.disbursementId);case 4:if(200===e.sent.status){e.next=9;break}return e.abrupt("return",h.a.fire("OOPs !","Deletion Failed ! Check Entries and try again !","error"));case 9:h.a.fire("Good job!","Loan Booking Deleted Successfully","success");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),h.a.fire("OOPS ! ","Loan Booking NOT Deleted","error");case 15:e.next=18;break;case 17:a.isDenied&&h.a.fire("Cancelled","","info");case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row justify-content-center mb-3"},o.a.createElement("p",{className:"centertext mb-2"},"Loan booking activities are to be carried out from here. Select an activity from the list of disbursed cheques and enter the required details.")),o.a.createElement("div",{className:"mb-3"},o.a.createElement(w.vb,null,o.a.createElement(w.u,{lg:12},o.a.createElement(w.j,null,o.a.createElement(w.n,{className:"text-right"},o.a.createElement(w.R,{placeholder:"Search",className:"col-sm-3 float-right"})),o.a.createElement("h4",{className:"text-center mt-3"},"Disbursed Cheques"),o.a.createElement(w.k,null,o.a.createElement(y.c,{className:"table-sm"},o.a.createElement("caption",null,"Disbursed Loans Not Booked"),o.a.createElement("thead",null,o.a.createElement("tr",{className:"fs-sm"},o.a.createElement("th",null),o.a.createElement("th",null,"Name on Cheque"),o.a.createElement("th",null,"Bank"),o.a.createElement("th",null,"Date Disbursed"),o.a.createElement("th",null,"Cheque No."),o.a.createElement("th",null,"Amount (GHC)"),o.a.createElement("th",null,"Status"),o.a.createElement("th",null))),o.a.createElement("tbody",null,F.map((function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.fullName),o.a.createElement("td",null,e.bank),o.a.createElement("td",null,f()(e.disburseDate).format("DD,MMMM,YYYY")),o.a.createElement("td",null,e.chequeNumber),o.a.createElement("td",null,mt.format(e.amount)),o.a.createElement("td",null,o.a.createElement(w.z,{className:""},o.a.createElement(w.E,{color:"info",size:"sm",onClick:function(){ot(e)}},"Activities"),o.a.createElement(w.D,{size:"sm"},!Ke&&o.a.createElement(w.C,{onClick:function(){bt(e)}},"Loan Product"),o.a.createElement(w.A,null),!Ze&&o.a.createElement(w.C,{onClick:function(){ft(e)}},"Principal Details"),o.a.createElement(w.A,null),!tt&&o.a.createElement(w.C,{onClick:function(){return Et(e)}},"First Guarantor"),o.a.createElement(w.A,null),!st&&o.a.createElement(w.C,{onClick:function(){return ht(e)}},"Second Guarantor"),o.a.createElement(w.A,null),o.a.createElement(w.C,{onClick:function(){return t=e,void lt.push("/summary/"+t.customer+"/"+t.disbursementId);var t}},"Summary")))),o.a.createElement("td",null,!F.booked&&o.a.createElement(w.f,{className:"btn-sm",color:"danger",onClick:function(){return pt(e)}},"Remove")))}))))),o.a.createElement("div",{className:"d-flex justify-content-center"},o.a.createElement(w.f,{className:"col-sm-2 m-2  btn-sm",color:"success",onClick:function(){lt.push("/viewbookings")}},"View Booked Loans")))))),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:Y,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){M(!Y)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Select Loan Product"),o.a.createElement(O.a,{customer:W.customer,disbursementId:W.disbursementId,cashCollateral:W.cashCollateral})),o.a.createElement(w.hb,null)),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:le,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){me(!le)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Loan Principal And Purpose"),o.a.createElement(j.a,{customer:W.customer,disbursementId:W.disbursementId,disbursedAmount:W.amount})),o.a.createElement(w.hb,null)),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:ie,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){de(!ie)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount On Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Add First Guarantor"),o.a.createElement(v.a,{customer:W.customer,disbursementId:W.disbursementId})),o.a.createElement(w.hb,null)),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:Ee,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){he(!Ee)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Add Second Guarantor"),o.a.createElement(k.a,{customer:W.customer,disbursementId:W.disbursementId})),o.a.createElement(w.hb,null)),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:Oe,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){je(!Oe)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Add Business Details"),o.a.createElement(x.a,{customer:W.customer,disbursementId:W.disbursementId})),o.a.createElement(w.hb,null)),o.a.createElement(w.fb,{className:"modal fade col-sm-12",size:"lg",show:xe,color:"info","data-backdrop":"static","data-keyboard":"false",onClose:function(){De(!xe)}},o.a.createElement(w.ib,{className:"modal-header",closeButton:!0},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Applicant: ",ze.fullName)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Bank: ",ze.bank)),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Amount Disbursed: ",mt.format(ze.amount))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Date Disbursed :",f()(ze.disburseDate).format("DD,MMMM,YYYY"))),o.a.createElement("div",{className:"col-sm-4 text-left"},o.a.createElement("h6",{className:""},"Disbursed By: ",ze.disbursedBy)))),o.a.createElement(w.gb,{className:"modal-body col-sm-12"},o.a.createElement("h4",{className:"text-center mb-3"},"Enter Residence and Business Directions"),o.a.createElement(D.a,{customer:W.customer,disbursementId:W.disbursementId})),o.a.createElement(w.hb,null)))}}}]);
//# sourceMappingURL=73.a95178c0.chunk.js.map