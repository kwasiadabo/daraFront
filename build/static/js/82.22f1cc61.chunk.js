(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[82],{1245:function(e,t,a){"use strict";a.r(t);var r=a(112),n=a(109),l=a.n(n),c=a(165),s=a(658),o=a(1),u=a.n(o),i=a(45),m=a.n(i),d=(a(661),a(164)),p=(a(111),a(662)),f=a.n(p),b=a(664),h=a(657),E=a(660),g=a.n(E);t.default=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],i=Object(o.useState)(!1),p=Object(s.a)(i,2),E=(p[0],p[1],Object(o.useState)(!1)),N=Object(s.a)(E,2),y=N[0],v=N[1],C=Object(o.useState)(!1),F=Object(s.a)(C,2),O=F[0],j=F[1],k=Object(o.useState)({product:"",processingFee:"",frequency:"",interestRate:"",registrationFee:"",duration:"",shortName:"",cashCollateral:0}),R=Object(s.a)(k,2),S=R[0],x=R[1],q={product:f.a.string().required().label("Product Field"),processingFee:f.a.number().required().label("Processing Fee Field"),frequency:f.a.string().required().label("Frequency Field"),interestRate:f.a.number().required().label("Interest Rate Field"),registrationFee:f.a.number().required().label("Registration Fee Field"),duration:f.a.number().required().label("duration Field"),cashCollateral:f.a.number().required().label("Cash Collateral"),id:f.a.string().allow("").label("ID"),shortName:f.a.string().allow("")},P=f.a.object(q),w=function(){var e=f.a.validate(S,P);return e.error?e.error.details[0].message:null},U=function(){var e=Object(c.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(S),t.preventDefault(),j(!1),e.prev=3,null===(a=w())){e.next=7;break}return e.abrupt("return",g.a.fire("error",a,"error"));case 7:return e.next=9,m.a.post(d.apiUrl+"/setup/product",S);case 9:if(200===e.sent.status){e.next=14;break}return e.abrupt("return",g.a.fire("OOPS !","Submission Failed ! Check Entries and try again !","error"));case 14:g.a.fire("Success","Product Saved Successfully","success"),x({product:"",processingFee:"",frequency:"",interestRate:"",registrationFee:"",duration:"",fixation:"",allowedAmount:0,cashCollateral:0,shortName:""}),v(!y);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),g.a.fire("OOPS ! "+e.t0.message,"error");case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){function e(){return(e=Object(c.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(d.apiUrl+"/setup/product");case 2:t=e.sent,n(t.data),j(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y]);var D=function(){var e=Object(c.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===S.product){e.next=20;break}return e.prev=2,e.next=5,m.a.put(d.apiUrl+"/setup/product",S);case 5:if(200===e.sent.status){e.next=10;break}return e.abrupt("return",g.a.fire("OOPS !","Submission Failed ! Check Entries and try again !","error"));case 10:g.a.fire("Success","Product Updated Successfully","success"),x({product:"",processingFee:"",frequency:"",interestRate:"",registrationFee:"",duration:"",fixation:"",allowedAmount:0,cashCollateral:0,shortName:"",id:""}),v(!y);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),g.a.fire("OOPS ! "+e.t0.message,"error");case 18:e.next=21;break;case 20:return e.abrupt("return",g.a.fire("OOPS","Enter all Details !","error"));case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("h1",{className:"centertext mt-5"},"Setup Products"),u.a.createElement("p",{className:"staffp"},"Setup all products you deal in. Your products brings in the income, capture all details about them."),u.a.createElement(h.J,{className:"row g-3 m-5"},u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"product",className:"col-sm-3"},"Product Name"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"col-sm-8",id:"product",value:S.product,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{product:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"shortName",className:"col-sm-3"},"Short Name"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"col-sm-4",id:"shortName",value:S.shortName,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{shortName:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"processingFee",className:"col-sm-3"},"Proc. Fee (%)"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"col-sm-8",id:"processingFee",value:S.processingFee,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{processingFee:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"frequency",className:"col-sm-3"},"Repayment Frequency"),u.a.createElement(h.wb,{id:"frequency",className:"form-select col-sm-8",value:S.frequency,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{frequency:e.currentTarget.value}))}},u.a.createElement("option",{selected:!0},"Choose..."),u.a.createElement("option",{value:"Daily"},"Daily"),u.a.createElement("option",{value:"Weekly"},"Weekly"),u.a.createElement("option",{value:"Bi Weekly"},"Bi Weekly"),u.a.createElement("option",{value:"Monthly"}," Monthly"))),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"minInterest",className:"col-sm-3"},"Interest Rate (%)"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"form-control-md col-sm-8",id:"minInterest",value:S.interestRate,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{interestRate:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"registrationFee",className:"col-sm-3"},"Reg. Fee (GHC)"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"form-control-md col-sm-8",id:"registrationFee",value:S.registrationFee,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{registrationFee:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{for:"duration",className:"col-sm-3"},"Duration (Days)"),u.a.createElement(h.R,{autoComplete:"off",type:"text",className:"form-control-md col-sm-8",id:"duration",value:S.duration,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{duration:e.currentTarget.value}))}})),u.a.createElement(h.U,{className:"mt-3"},u.a.createElement(h.bb,{htmlFor:"cashCollateral",className:"col-sm-3"},"Cash Collateral (%)"),u.a.createElement(h.R,{autoComplete:"off",type:"number",pattern:"([0-9]{1,3}).([0-9]{1,3})",className:"form-control-md col-sm-8",id:"cashCollateral",value:S.cashCollateral,onChange:function(e){return x(Object(r.a)(Object(r.a)({},S),{},{cashCollateral:e.currentTarget.value}))}})),u.a.createElement("div",{className:"row"},O?null:u.a.createElement(h.f,{type:"submit",className:"btn btn-danger mt-5",onClick:U},"Save Product"),O?u.a.createElement(h.f,{type:"submit",class:"btn btn-success mt-5 ms-5",onClick:D},"Edit Product"):null)),u.a.createElement(b.c,{className:"sm table-sm"},u.a.createElement("caption",null,"Click on any product details to update"),u.a.createElement("thead",null,u.a.createElement("tr",{className:"fs-sm"},u.a.createElement("th",null),u.a.createElement("th",null,"Product Name"),u.a.createElement("th",null,"Short Name"),u.a.createElement("th",null,"Proc. Fee(%)"),u.a.createElement("th",null,"Frequency"),u.a.createElement("th",null,"Interest Rate (%)"),u.a.createElement("th",null,"Reg. Fee"),u.a.createElement("th",null,"Duration"),u.a.createElement("th",null,"Cash Collateral (%)"))),u.a.createElement("tbody",null,a.map((function(e,t){return u.a.createElement("tr",{key:e._id,onClick:function(){return t=e,j(!0),void x({product:t.product,processingFee:t.processingFee,frequency:t.frequency,interestRate:t.interestRate,registrationFee:t.registrationFee,duration:t.duration,cashCollateral:t.cashCollateral,shortName:t.shortName,id:t.id});var t},Style:"cursor: pointer;"},u.a.createElement("td",null,t+1),u.a.createElement("td",null,e.product),u.a.createElement("td",null,e.shortName),u.a.createElement("td",null,e.processingFee),u.a.createElement("td",null,e.frequency),u.a.createElement("td",null,e.interestRate),u.a.createElement("td",null,e.registrationFee),u.a.createElement("td",null,e.duration),u.a.createElement("td",null,e.cashCollateral))})))))}}}]);
//# sourceMappingURL=82.22f1cc61.chunk.js.map