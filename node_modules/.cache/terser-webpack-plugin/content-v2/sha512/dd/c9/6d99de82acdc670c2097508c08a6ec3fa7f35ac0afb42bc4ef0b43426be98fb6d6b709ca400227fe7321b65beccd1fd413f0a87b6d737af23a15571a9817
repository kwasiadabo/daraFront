{"map":{"version":3,"sources":["static/js/73.adf729e3.chunk.js"],"names":["this","push","1301","module","__webpack_exports__","__webpack_require__","r","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","axios__WEBPACK_IMPORTED_MODULE_5__","axios__WEBPACK_IMPORTED_MODULE_5___default","_config_json__WEBPACK_IMPORTED_MODULE_7__","_components_services_authService__WEBPACK_IMPORTED_MODULE_8__","_coreui_react__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","_useState","Object","_useState2","arrears","setArrears","_useState3","_useState4","staffData","setStaffData","_useState5","_useState6","officer","setOfficer","_useState7","_useState8","render","_useState9","Date","toISOString","slice","_useState10","tDate","user","getCurrentUser","userRole","staff","_getArrears","a","mark","_callee","results","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","getArrears","_getStaff","_callee2","_context2","getStaff","sData","filter","item","toLowerCase","includes","dataTouse","length","formatter","Intl","NumberFormat","style","currency","totalDue","reduce","i","due","totalPaid","paid","totalArrears","Arrears","createElement","className","color","onClick","url","window","open","aria-label","value","onChange","e","currentTarget","defaultValue","map","b","key","id","nameOfStaff","format","c","index","Style","idNumber","customer"],"mappings":"CAACA,KAAK,wDAA0DA,KAAK,yDAA2D,IAAIC,KAAK,CAAC,CAAC,IAAI,CAEzIC,KACA,SAAUC,EAAQC,EAAqBC,GAE7C,aACAA,EAAoBC,EAAEF,GACD,IAAIG,EAA0JF,EAAoB,KAC9KG,EAA+KH,EAAoBI,EAAEF,GACrMG,EAA2KL,EAAoB,KAC/LM,EAAwKN,EAAoB,KAC5LO,EAAqCP,EAAoB,GACzDQ,EAA0DR,EAAoBI,EAAEG,GAChFE,EAAgDT,EAAoB,IACpEU,EAAqCV,EAAoB,IACzDW,EAA0DX,EAAoBI,EAAEM,GAGhFE,GAFsCZ,EAAoB,KAEdA,EAAoB,MAEhEa,EAAgEb,EAAoB,KAOpFc,GAN2Cd,EAAoB,KAEnBA,EAAoB,KAEtBA,EAAoB,KAEhBA,EAAoB,MAClEe,EAA2Cf,EAAoB,KAU3DD,EAA6B,QALxC,WAAyB,IAAIiB,EAAUC,OAAOV,EAA6C,SAApDU,CAAuD,IAAIC,EAAWD,OAAOX,EAAuL,EAA9LW,CAAiMD,EAAU,GAAGG,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWJ,OAAOV,EAA6C,SAApDU,CAAuD,IAAIK,EAAWL,OAAOX,EAAuL,EAA9LW,CAAiMI,EAAW,GAAGE,EAAUD,EAAW,GAAGE,EAAaF,EAAW,GAAOG,EAAWR,OAAOV,EAA6C,SAApDU,CAAuD,IAAIS,EAAWT,OAAOX,EAAuL,EAA9LW,CAAiMQ,EAAW,GAAGE,EAAQD,EAAW,GAAGE,EAAWF,EAAW,GAAOG,EAAWZ,OAAOV,EAA6C,SAApDU,EAAuD,GAAOa,EAAWb,OAAOX,EAAuL,EAA9LW,CAAiMY,EAAW,GAAGE,EAAOD,EAAW,GAA+BE,GAAlBF,EAAW,GAAkBb,OAAOV,EAA6C,SAApDU,EAAuD,IAAIgB,MAAOC,cAAcC,MAAM,EAAE,MAAKC,EAAYnB,OAAOX,EAAuL,EAA9LW,CAAiMe,EAAW,GAAGK,EAAMD,EAAY,GAA0HE,GAA9GF,EAAY,GAAgBnB,OAAOR,EAAkE,EAAzEQ,GAAuFJ,EAA+E,EAAE0B,kBAAkD,gBAAfD,EAAKE,UAAyBF,EAAKG,MAAgBxB,OAAOV,EAA8C,UAArDU,EAAwD,WAA2E,SAASyB,IAA87B,OAAh7BA,EAAYzB,OAAOZ,EAA0L,EAAjMY,CAAiNd,EAAgKwC,EAAEC,MAAK,SAASC,IAAU,IAAIC,EAAQ,OAAO3C,EAAgKwC,EAAEI,MAAK,SAAkBC,GAAU,OAAS,OAAOA,EAASC,KAAKD,EAASE,MAAM,KAAK,EAAkB,OAAhBF,EAASE,KAAK,EAASvC,EAA2CgC,EAAEQ,IAAIvC,EAAkD,OAAE,wBAAwB0B,EAAKG,OAAO,KAAK,EAAEK,EAAQE,EAASI,KAAKhC,EAAW0B,EAAQO,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOL,EAASM,UAAWT,QAAgCU,MAAM5D,KAAK6D,YAAriC,WAA6Bd,EAAYa,MAAM5D,KAAK6D,WAA6/BC,KAAe,CAACpB,IAAQpB,OAAOV,EAA8C,UAArDU,EAAwD,WAAuE,SAASyC,IAAi7B,OAAr6BA,EAAUzC,OAAOZ,EAA0L,EAAjMY,CAAiNd,EAAgKwC,EAAEC,MAAK,SAASe,IAAW,IAAIb,EAAQ,OAAO3C,EAAgKwC,EAAEI,MAAK,SAAmBa,GAAW,OAAS,OAAOA,EAAUX,KAAKW,EAAUV,MAAM,KAAK,EAAmB,OAAjBU,EAAUV,KAAK,EAASvC,EAA2CgC,EAAEQ,IAAIvC,EAAkD,OAAE,gBAAgB,KAAK,EAAEkC,EAAQc,EAAUR,KAAK5B,EAAasB,EAAQO,MAAM,KAAK,EAAE,IAAI,MAAM,OAAOO,EAAUN,UAAWK,QAA+BJ,MAAM5D,KAAK6D,YAAlhC,WAA2BE,EAAUH,MAAM5D,KAAK6D,WAA8+BK,KAAa,CAAC9B,EAAOR,IAAY,IAAI8B,EAAK,CAACS,MAAM3C,EAAQ4C,QAAO,SAASC,GAAM,OAAOA,EAAKvB,MAAMwB,cAAcC,SAASvC,EAAQsC,mBAAuBE,EAA2B,IAAjBxC,EAAQyC,OAAWjD,EAAQkC,EAAKS,MAAqMO,EAAU,IAAIC,KAAKC,aAAa,QAAQ,CAACC,MAAM,WAAWC,SAAS,QAGplJC,EAASvD,EAAQwD,QAAO,SAAShC,EAAEiC,GAAG,OAAOjC,EAAEiC,EAAEC,MAAM,GAAOC,EAAU3D,EAAQwD,QAAO,SAAShC,EAAEiC,GAAG,OAAOjC,EAAEiC,EAAEG,OAAO,GAAOC,EAAa7D,EAAQwD,QAAO,SAAShC,EAAEiC,GAAG,OAAOjC,EAAEiC,EAAEK,UAAU,GAAG,OAAmBzE,EAA2CmC,EAAEuC,cAAc,MAAM,KAAkB1E,EAA2CmC,EAAEuC,cAAc,MAAM,CAACC,UAAU,uBAAoC3E,EAA2CmC,EAAEuC,cAAc,KAAK,KAAK,oBAAiC1E,EAA2CmC,EAAEuC,cAAc,MAAM,CAACC,UAAU,oBAAiC3E,EAA2CmC,EAAEuC,cAAcpE,EAA6D,EAAE,CAACsE,MAAM,UAAUD,UAAU,mCAAmCE,QAAQ,WAAmB,OAHqlHC,EAGrjH1E,EAAqD,UAAE,wBAAwB0B,EAAKG,WAHiiH8C,OAAOC,KAAKF,EAAI,kBAAkB,QAA1E,yCAA1D,IAAkCA,IAGv9G,kBAAiC,gBAAfhD,EAAKE,UAAuChC,EAA2CmC,EAAEuC,cAAcpE,EAA8D,GAAE,CAACqE,UAAU,6BAA6BM,aAAa,UAAUC,MAAM/D,EAAQgE,SAAS,SAAkBC,GAAG,OAAOhE,EAAWgE,EAAEC,cAAcH,SAAuBlF,EAA2CmC,EAAEuC,cAAc,SAAS,CAACY,aAAa,IAAI,wBAAwBvE,EAAUwE,KAAI,SAASC,GAAG,OAAmBxF,EAA2CmC,EAAEuC,cAAc,SAAS,CAACe,IAAID,EAAEE,GAAGR,MAAMM,EAAEG,YAAYD,GAAGF,EAAEE,IAAIF,EAAEG,iBAA8B3F,EAA2CmC,EAAEuC,cAAcnE,EAAwD,EAAE,CAACoE,UAAU,YAAyB3E,EAA2CmC,EAAEuC,cAAc,QAAQ,KAAkB1E,EAA2CmC,EAAEuC,cAAc,KAAK,CAACC,UAAU,SAAsB3E,EAA2CmC,EAAEuC,cAAc,KAAK,MAAmB1E,EAA2CmC,EAAEuC,cAAc,KAAK,KAAK,WAAwB1E,EAA2CmC,EAAEuC,cAAc,KAAK,KAAK,YAAyB1E,EAA2CmC,EAAEuC,cAAc,KAAK,KAAkB1E,EAA2CmC,EAAEuC,cAAc,MAAM,CAACC,UAAU,WAAwB3E,EAA2CmC,EAAEuC,cAAc,SAAS,KAAK,IAAIb,EAAU+B,OAAO1B,KAAY,OAAoBlE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAkB1E,EAA2CmC,EAAEuC,cAAc,MAAM,CAACC,UAAU,WAAwB3E,EAA2CmC,EAAEuC,cAAc,SAAS,KAAK,IAAIb,EAAU+B,OAAOtB,KAAa,QAAqBtE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAkB1E,EAA2CmC,EAAEuC,cAAc,MAAM,CAACC,UAAU,WAAwB3E,EAA2CmC,EAAEuC,cAAc,SAAS,KAAK,IAAIb,EAAU+B,OAAOpB,KAAgB,UAAU,KAAkBxE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAK,aAA0B1E,EAA2CmC,EAAEuC,cAAc,QAAQ,KAAKf,EAAU4B,KAAI,SAASM,EAAEC,GAAO,OAAmB9F,EAA2CmC,EAAEuC,cAAc,KAAK,CAACe,IAAII,EAAEH,GAC/7GK,MAAM,oBAAiC/F,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKoB,EAAM,GAAgB9F,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKmB,EAAEG,UAAuBhG,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKmB,EAAEI,UAAuBjG,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKb,EAAU+B,OAAOC,EAAExB,MAAmBrE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKb,EAAU+B,OAAOC,EAAEtB,OAAoBvE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKb,EAAU+B,OAAOC,EAAEpB,UAAuBzE,EAA2CmC,EAAEuC,cAAc,KAAK,KAAKmB,EAAE5D"},"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[73],{1301:function(e,t,a){\"use strict\";a.r(t);var r=a(109),n=a.n(r),l=a(164),c=a(654),s=a(1),u=a.n(s),o=a(19),m=a(45),i=a.n(m),f=(a(657),a(163)),p=a(111),d=(a(658),a(656),a(692),a(653)),E=a(659);t.default=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],m=Object(s.useState)([]),b=Object(c.a)(m,2),h=b[0],O=b[1],v=Object(s.useState)(\"\"),j=Object(c.a)(v,2),w=j[0],g=j[1],S=Object(s.useState)(!1),y=Object(c.a)(S,2),N=y[0],k=(y[1],Object(s.useState)((new Date).toISOString().slice(0,10))),C=Object(c.a)(k,2),D=C[0],L=(C[1],Object(o.g)(),p.a.getCurrentUser());\"Loan Officer\"==L.userRole&&L.staff;Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(f.apiUrl+\"/loanreports/arrears/\"+L.staff);case 2:t=e.sent,r(t.data);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[D]),Object(s.useEffect)((function(){function e(){return(e=Object(l.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get(f.apiUrl+\"/setup/staff\");case 2:t=e.sent,O(t.data);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N,h]);var x={sData:a.filter((function(e){return e.staff.toLowerCase().includes(w.toLowerCase())}))},A=0===w.length?a:x.sData,I=new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"GHS\"}),U=a.reduce((function(e,t){return e+t.due}),0),R=a.reduce((function(e,t){return e+t.paid}),0),J=a.reduce((function(e,t){return e+t.Arrears}),0);return u.a.createElement(\"div\",null,u.a.createElement(\"div\",{className:\"col-sm-12 mt-3 mb-3\"},u.a.createElement(\"h3\",null,\"Loans In Arrears\"),u.a.createElement(\"div\",{className:\"table-responsive\"},u.a.createElement(d.f,{color:\"success\",className:\"col-sm-2 float-right btn-sm mb-3\",onClick:function(){return e=f.reportUrl+\"/loansInArrears.aspx?\"+L.staff,void window.open(e,\"loan in arrears\",\"popup\",\"left=100,top=100,width=320,height=320\");var e}},\"View as Report\"),\"Loan Officer\"!=L.userRole&&u.a.createElement(d.wb,{className:\"form-select col-sm-12 mb-3\",\"aria-label\":\"Default\",value:w,onChange:function(e){return g(e.currentTarget.value)}},u.a.createElement(\"option\",{defaultValue:\"\"},\"--Select Officer *--\"),h.map((function(e){return u.a.createElement(\"option\",{key:e.id,value:e.nameOfStaff,id:e.id},e.nameOfStaff)}))),u.a.createElement(E.c,{className:\"table-sm\"},u.a.createElement(\"thead\",null,u.a.createElement(\"tr\",{className:\"fs-sm\"},u.a.createElement(\"th\",null),u.a.createElement(\"th\",null,\"Loan ID\"),u.a.createElement(\"th\",null,\"Customer\"),u.a.createElement(\"th\",null,u.a.createElement(\"div\",{className:\"sm mb-3\"},u.a.createElement(\"strong\",null,\" \",I.format(U))),\"Due\"),u.a.createElement(\"th\",null,u.a.createElement(\"div\",{className:\"sm mb-3\"},u.a.createElement(\"strong\",null,\" \",I.format(R))),\"Paid\"),u.a.createElement(\"th\",null,u.a.createElement(\"div\",{className:\"sm mb-3\"},u.a.createElement(\"strong\",null,\" \",I.format(J))),\"Arrears\",\" \"),u.a.createElement(\"th\",null,\"Officer\"))),u.a.createElement(\"tbody\",null,A.map((function(e,t){return u.a.createElement(\"tr\",{key:e.id,Style:\"cursor: pointer;\"},u.a.createElement(\"td\",null,t+1),u.a.createElement(\"td\",null,e.idNumber),u.a.createElement(\"td\",null,e.customer),u.a.createElement(\"td\",null,I.format(e.due)),u.a.createElement(\"td\",null,I.format(e.paid)),u.a.createElement(\"td\",null,I.format(e.Arrears)),u.a.createElement(\"td\",null,e.staff))})))))))}}}]);","extractedComments":[]}