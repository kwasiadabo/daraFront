{"map":{"version":3,"sources":["static/js/85.f96ea330.chunk.js"],"names":["this","push","1300","module","__webpack_exports__","__webpack_require__","r","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","react_router_dom__WEBPACK_IMPORTED_MODULE_4__","axios__WEBPACK_IMPORTED_MODULE_5__","axios__WEBPACK_IMPORTED_MODULE_5___default","_components_services_authService__WEBPACK_IMPORTED_MODULE_7__","sweetalert2__WEBPACK_IMPORTED_MODULE_9__","sweetalert2__WEBPACK_IMPORTED_MODULE_9___default","_config_json__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","_coreui_react__WEBPACK_IMPORTED_MODULE_12__","_useState","Object","getCurrentUser","_useState2","user","_useState3","_useState4","withdrawals","setWithdrawals","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","render","setRender","_useState11","_useState12","_useState13","_useState14","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","_useState21","customer","amount","narration","entryBy","staff","_useState22","_useState23","idNumber","dr","date","Date","_useState24","setItems","_useState25","_useState26","_useState27","_useState28","_useState29","toISOString","slice","_useState30","startDate","setStartDate","_useState31","_useState32","endDate","setEndDate","_getData","a","mark","_callee","results","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","getData","formatter","Intl","NumberFormat","style","currency","totalAmt","reduce","i","Dr","createElement","className","class","htmlFor","type","id","value","onChange","e","currentTarget","format","map","c","index","key","fullName","tDate","onClick","item","tdate","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","then","_ref","_callee2","result","_context2","isConfirmed","console","log","put","isDenied","_x","color","url","window","open"],"mappings":"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"},"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[85],{1300:function(e,t,a){\"use strict\";a.r(t);var n=a(109),r=a.n(n),c=a(164),l=a(654),s=a(1),o=a.n(s),u=a(19),i=a(45),m=a.n(i),d=(a(657),a(111)),b=(a(658),a(656)),f=a.n(b),h=a(163),O=a(659),E=a(653);t.default=function(){var e=Object(s.useState)(d.a.getCurrentUser),t=Object(l.a)(e,2),a=t[0],n=(t[1],Object(s.useState)([])),i=Object(l.a)(n,2),b=i[0],j=i[1],p=Object(s.useState)(\"\"),v=Object(l.a)(p,2),w=(v[0],v[1],Object(s.useState)(!1)),N=Object(l.a)(w,2),S=(N[0],N[1],Object(s.useState)(!1)),D=Object(l.a)(S,2),g=D[0],y=D[1],C=Object(s.useState)(0),x=Object(l.a)(C,2),k=(x[0],x[1],Object(s.useState)(0)),B=Object(l.a)(k,2),T=(B[0],B[1],Object(s.useState)(\"\")),R=Object(l.a)(T,2),U=(R[0],R[1],Object(s.useState)(0)),q=Object(l.a)(U,2),I=(q[0],q[1],Object(s.useState)(0)),F=Object(l.a)(I,2),A=(F[0],F[1],Object(s.useState)({customer:0,amount:0,narration:\"\",entryBy:a.staff})),J=Object(l.a)(A,2),G=(J[0],J[1],Object(s.useState)({idNumber:\"\",dr:0,narration:\"\",date:new Date})),H=Object(l.a)(G,2),V=(H[0],H[1]),W=Object(s.useState)(5),Y=Object(l.a)(W,2),z=(Y[0],Y[1],Object(s.useState)(1)),K=Object(l.a)(z,2),L=(K[0],K[1],Object(s.useState)((new Date).toISOString().slice(0,10))),M=Object(l.a)(L,2),P=M[0],Q=M[1],X=Object(s.useState)((new Date).toISOString().slice(0,10)),Z=Object(l.a)(X,2),$=Z[0],_=Z[1];Object(u.g)();Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h.apiUrl+\"/loan/cashcollateral/withdrawals/\"+P+\"/\"+$);case 2:t=e.sent,j(t.data);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[P,$,g]);var ee=new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"GHS\"}),te=b.reduce((function(e,t){return e+t.Dr}),0);return o.a.createElement(\"div\",{className:\"container-fluid\"},o.a.createElement(\"div\",{className:\"row\"},o.a.createElement(\"div\",{className:\"col-sm-12 mt-2\"},o.a.createElement(\"div\",{className:\"row justify-content-center\"},o.a.createElement(\"h4\",{className:\"centertext mb-3\"},\"Cash Collateral Withdrawals and Transfers\")),o.a.createElement(\"p\",{className:\"text-left\"},\"NB: The list shows customer collateral withdrawals and Transfers. You can filter by selecting a date range. Using the start and end Dates.\"),o.a.createElement(\"div\",{class:\"mb-3 row mt-5 col-sm-12\"},o.a.createElement(E.bb,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"Start Date\"),o.a.createElement(\"div\",{className:\"col-sm-3\"},o.a.createElement(E.R,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:P,onChange:function(e){Q(e.currentTarget.value)}})),o.a.createElement(E.bb,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"End Date\"),o.a.createElement(\"div\",{className:\"col-sm-3\"},o.a.createElement(E.R,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:$,onChange:function(e){_(e.currentTarget.value)}})),o.a.createElement(\"div\",{className:\"col-sm-4 text-right\"},\"Total Amt: \",o.a.createElement(\"strong\",null,ee.format(te)))),o.a.createElement(O.c,{className:\"table-sm col-sm-12\"},o.a.createElement(\"thead\",{className:\"\"},o.a.createElement(\"tr\",{className:\"fs-sm\"},o.a.createElement(\"th\",null),o.a.createElement(\"th\",null,\"ID\"),o.a.createElement(\"th\",null,\"Drawer\"),o.a.createElement(\"th\",null,\"Date\"),o.a.createElement(\"th\",null,\"Amount\"),o.a.createElement(\"th\",null,\"Description\"))),o.a.createElement(\"tbody\",null,b.map((function(e,t){return o.a.createElement(\"tr\",{key:e.id},o.a.createElement(\"td\",null,t+1),o.a.createElement(\"td\",null,e.idNumber),o.a.createElement(\"td\",null,e.fullName),o.a.createElement(\"td\",null,e.tDate),o.a.createElement(\"td\",null,ee.format(e.Dr)),o.a.createElement(\"td\",null,e.narration),o.a.createElement(\"td\",null,o.a.createElement(E.f,{onClick:function(){return V({id:(t=e).id,idNumber:t.idNumber,dr:t.Dr,narration:t.narration,date:new Date(t.tdate)}),void f.a.fire({title:\"Do you want to REVERSE this transaction?\",showDenyButton:!0,showCancelButton:!0,confirmButtonText:\"Reverse\",denyButtonText:\"Don't\"}).then(function(){var e=Object(c.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.isConfirmed){e.next=9;break}return console.log(t),e.next=4,m.a.put(h.apiUrl+\"/loan/cashcollateral/reversal\",{id:t.id,idNumber:t.idNumber,dr:t.Dr,narration:t.narration,date:t.tdate});case 4:e.sent,f.a.fire(\"Reversed!\",\"\",\"success\"),y(!g),e.next=10;break;case 9:a.isDenied&&f.a.fire(\"Cancelled\",\"\",\"info\");case 10:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var t},className:\"btn-sm float-right mt-3\",color:\"danger\"},\"Reverse\")))})))),o.a.createElement(E.f,{onClick:function(){return e=h.reportUrl+\"/collateralBalances.aspx\",void window.open(e,\"customerlist\",\"popup\",\"left=100,top=100,width=320,height=320\");var e},className:\"btn-sm float-left mt-3 mb-3\",color:\"success\"},\"Collateral Balances\"))))}}}]);","extractedComments":[]}