{"map":{"version":3,"sources":["static/js/81.8920408b.chunk.js"],"names":["this","push","1290","module","__webpack_exports__","__webpack_require__","r","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_mac_Documents_Dara_daraPlusApp_daraFront_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_4___default","axios__WEBPACK_IMPORTED_MODULE_5__","axios__WEBPACK_IMPORTED_MODULE_5___default","_config_json__WEBPACK_IMPORTED_MODULE_7__","joi_browser__WEBPACK_IMPORTED_MODULE_9__","joi_browser__WEBPACK_IMPORTED_MODULE_9___default","sweetalert2__WEBPACK_IMPORTED_MODULE_10__","sweetalert2__WEBPACK_IMPORTED_MODULE_10___default","_coreui_react__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","_useState","Object","_useState2","staff","setStaff","_useState3","_useState4","customers","setCustomers","_useState5","_useState6","render","setRender","_useState7","_useState8","officer","setOfficer","_useState9","_useState10","newOfficer","setNewOfficer","_useState11","_useState12","selected","setSelected","_getStaff","a","mark","_callee","wrap","_context","prev","next","get","sent","data","stop","apply","arguments","getStaff","loadCustomers","_ref","_callee2","e","customer","_context2","console","log","currentTarget","value","_x","schemaMap","number","required","label","results","object","handleSubmit","_ref2","_callee4","_context4","abrupt","fire","length","map","_ref3","_callee3","s","_context3","post","_x2","ex","message","createElement","className","htmlFor","aria-label","onChange","key","id","nameOfStaff","type","onClick","c","index","Style","fullName","gender","idNumber","phone","residentialAddress","event","updatedList","target","checked","concat","splice","indexOf","handleSelected"],"mappings":"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"},"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[81],{1290:function(e,t,a){\"use strict\";a.r(t);var r=a(746),n=a(109),c=a.n(n),l=a(164),s=a(654),u=a(1),i=a.n(u),o=a(45),m=a.n(o),f=(a(657),a(163)),p=(a(111),a(658)),b=a.n(p),d=a(656),h=a.n(d),O=(a(692),a(653)),E=a(659);t.default=function(){var e=Object(u.useState)([]),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(u.useState)([]),p=Object(s.a)(o,2),d=p[0],v=p[1],g=Object(u.useState)(!1),w=Object(s.a)(g,2),N=w[0],j=w[1],k=Object(u.useState)(0),x=Object(s.a)(k,2),S=x[0],y=x[1],C=Object(u.useState)(0),U=Object(s.a)(C,2),A=U[0],T=U[1],q=Object(u.useState)([]),D=Object(s.a)(q,2),P=D[0],F=D[1];Object(u.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(f.apiUrl+\"/setup/staff\");case 2:t=e.sent,n(t.data);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[N]);var J=function(){var e=Object(l.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"Officer :\"+t.currentTarget.value),y(t.currentTarget.value),e.next=4,m.a.get(f.apiUrl+\"/customer/officer/\"+t.currentTarget.value);case 4:a=e.sent,v(a.data);case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R={officer:b.a.number().required().label(\"Current Officer\"),newOfficer:b.a.number().required().label(\"New Officer\"),customer:b.a.number().required().label(\"Customer\")},G=(b.a.object(R),\"\"),I=function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==A){e.next=2;break}return e.abrupt(\"return\",h.a.fire(\"OOPS!\",\"New Officer Not Selected\",\"error\"));case 2:if(!(P.length<1)){e.next=4;break}return e.abrupt(\"return\");case 4:try{P.map(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(f.apiUrl+\"/customer/reassign\",t);case 2:G=e.sent;case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(a){h.a.fire(\"OOPS!\",a.message,\"error\")}if(console.log(G.length),!(G.length>=0)){e.next=12;break}return h.a.fire(\"Success!\",\"Customers Re-assigned\",\"success\"),e.next=10,m.a.get(f.apiUrl+\"/customer/officer/\"+S);case 10:t=e.sent,v(t.data);case 12:F([]),y(0),T(0),j(!N);case 16:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(\"div\",null,i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(O.U,{className:\"mt-3\"},i.a.createElement(O.bb,{htmlFor:\"phoneworship\",className:\"form-label col-sm-3\"},\"Current Assigned Officer *\"),i.a.createElement(O.wb,{className:\"form-select col-sm-8\",\"aria-label\":\"Default select example\",value:S,onChange:J},i.a.createElement(\"option\",{value:\"\"},\"Current Officer *\"),a.map((function(e){return i.a.createElement(\"option\",{key:e.id,value:e.id,id:e.id},e.nameOfStaff)}))))),i.a.createElement(\"div\",{className:\"row\"},i.a.createElement(O.U,{className:\"mt-3\"},i.a.createElement(O.bb,{htmlFor:\"phoneworship\",className:\"form-label col-sm-3\"},\"New Assigned Officer *\"),i.a.createElement(O.wb,{className:\"form-select col-sm-8\",\"aria-label\":\"Default select example\",value:A,onChange:function(e){console.log(\"new Officer: \"+e.currentTarget.value),T(e.currentTarget.value)}},i.a.createElement(\"option\",{value:\"\"},\"New Officer *\"),a.map((function(e){return i.a.createElement(\"option\",{key:e.id,value:e.id,id:e.id},e.nameOfStaff)})))),i.a.createElement(O.f,{type:\"submit\",className:\"btn btn-success btn-block col-sm-2 float-right btn-sm mt-3 mb-3\",onClick:I},\"+ Assign\")),i.a.createElement(\"div\",{className:\"row mt-3\"},i.a.createElement(E.c,{className:\"table-sm\"},i.a.createElement(\"thead\",null,i.a.createElement(\"tr\",{className:\"fs-sm\"},i.a.createElement(\"th\",null),i.a.createElement(\"th\",null,\"Name\"),i.a.createElement(\"th\",null,\"Gender\"),i.a.createElement(\"th\",null,\"ID Number\"),i.a.createElement(\"th\",null,\"Phone\"),i.a.createElement(\"th\",null,\"Res. Address\"),i.a.createElement(\"th\",null,\"Officer\"),i.a.createElement(\"th\",null,\"Select\"))),i.a.createElement(\"tbody\",null,d.map((function(e,t){return i.a.createElement(\"tr\",{key:e.id,Style:\"cursor: pointer;\"},i.a.createElement(\"td\",null,t+1),i.a.createElement(\"td\",null,e.fullName),i.a.createElement(\"td\",null,e.gender),i.a.createElement(\"td\",null,e.idNumber),i.a.createElement(\"td\",null,e.phone),i.a.createElement(\"td\",null,e.residentialAddress),i.a.createElement(\"td\",null,e.nameOfStaff),i.a.createElement(\"td\",null,i.a.createElement(\"input\",{type:\"checkbox\",className:\"\",value:e.id,onChange:function(t){return function(e,t){var a=Object(r.a)(P);e.target.checked?a=[].concat(Object(r.a)(P),[{customer:t.id,officer:S,newOfficer:A}]):a.splice(P.indexOf(t),1),F(a)}(t,e)}})))}))))))}}}]);","extractedComments":[]}