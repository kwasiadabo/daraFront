{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/holiday.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\nimport moment from 'moment';\nimport momentBusinessDays from 'moment-business-days';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\n\nvar HolidaySetup = function HolidaySetup() {\n  var _useState = useState({\n    holiday: '',\n    hdate: '',\n    year: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      holiday = _useState2[0],\n      setHoliday = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      holidays = _useState4[0],\n      setHolidays = _useState4[1];\n\n  var _useState5 = useState(new Date().getFullYear()),\n      _useState6 = _slicedToArray(_useState5, 2),\n      currentYear = _useState6[0],\n      setCurrentYear = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      editMode = _useState8[0],\n      setEditMode = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      render = _useState10[0],\n      setRender = _useState10[1];\n\n  useEffect(function () {\n    function getHolidays() {\n      return _getHolidays.apply(this, arguments);\n    }\n\n    function _getHolidays() {\n      _getHolidays = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var yearInt, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                yearInt = new Date();\n                _context.next = 3;\n                return axios.get(baseUrl.apiUrl + '/setup/holiday/' + currentYear);\n\n              case 3:\n                results = _context.sent;\n                setHolidays(results.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getHolidays.apply(this, arguments);\n    }\n\n    getHolidays();\n  }, [currentYear, render]);\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      disableButton = _useState12[0],\n      setDisableButton = _useState12[1];\n\n  var joiHolidaySchema = Joi.object().keys({\n    holiday: Joi.string().required().label('Holiday'),\n    hdate: Joi.date().required().label('date'),\n    year: Joi.number().required().label('Holiday Year')\n  });\n\n  var validateEntry = function validateEntry() {\n    var result = Joi.validate(holidays, joiHolidaySchema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    }\n  };\n\n  var handleDateChange = function handleDateChange(e) {\n    var year = new Date(e.currentTarget.value);\n    setHoliday(_objectSpread(_objectSpread({}, holiday), {}, {\n      hdate: e.currentTarget.value,\n      year: year.getFullYear()\n    }));\n  };\n\n  var handleOnEdit = function handleOnEdit(p) {\n    console.log(p);\n    setEditMode(true);\n    setHoliday({\n      id: p.id,\n      holiday: p.holiday,\n      hdate: new Date(p.hdate).toISOString().slice(0, 10),\n      year: p.year\n    }); //setDisabled(!disabled);\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              // console.log(holiday)\n              validateEntry();\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios.post(baseUrl.apiUrl + '/setup/holiday', holiday);\n\n            case 4:\n              results = _context2.sent;\n\n              if (results.status === 200) {\n                Swal.fire('Success', 'Holiday Saved', 'success');\n                setRender(!render);\n              } else {\n                Swal.fire('OOPS !', 'Saving Holiday, failed !', 'error');\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              Swal.fire(_context2.t0 + ' Saving Holiday, failed !', 'error');\n\n            case 11:\n              setHoliday({\n                holiday: '',\n                hdate: ''\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(holiday);\n\n              if (!(holiday.holiday !== '')) {\n                _context3.next = 22;\n                break;\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios.put(baseUrl.apiUrl + '/setup/holiday', holiday);\n\n            case 5:\n              results = _context3.sent;\n\n              if (!(results.status !== 200)) {\n                _context3.next = 10;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 10:\n              Swal.fire('Success', 'Holiday Updated Successfully', 'success');\n              setHoliday({\n                holiday: '',\n                hdate: '',\n                year: ''\n              });\n              setRender(!render);\n              setEditMode(false);\n              setRender(!render);\n\n            case 15:\n              _context3.next = 20;\n              break;\n\n            case 17:\n              _context3.prev = 17;\n              _context3.t0 = _context3[\"catch\"](2);\n              Swal.fire('OOPS ! ' + _context3.t0.message, 'error');\n\n            case 20:\n              _context3.next = 23;\n              break;\n\n            case 22:\n              return _context3.abrupt(\"return\", Swal.fire('OOPS', 'Enter all Details !', 'error'));\n\n            case 23:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 17]]);\n    }));\n\n    return function handleUpdate(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(holiday.holiday !== '')) {\n                _context4.next = 21;\n                break;\n              }\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.delete(baseUrl.apiUrl + '/setup/holiday/' + holiday.id);\n\n            case 4:\n              results = _context4.sent;\n\n              if (!(results.status !== 200)) {\n                _context4.next = 9;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'Holiday Deleted Successfully', 'success');\n              setHoliday({\n                holiday: '',\n                hdate: '',\n                year: ''\n              });\n              setRender(!render);\n              setEditMode(false);\n              setRender(!render);\n\n            case 14:\n              _context4.next = 19;\n              break;\n\n            case 16:\n              _context4.prev = 16;\n              _context4.t0 = _context4[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context4.t0.message, 'error');\n\n            case 19:\n              _context4.next = 22;\n              break;\n\n            case 21:\n              return _context4.abrupt(\"return\", Swal.fire('OOPS', 'Select Holiday !', 'error'));\n\n            case 22:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 16]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"centertext m-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }, \"Set up Holidays\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"centertext m-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, \"Set up public holidays here. NB: Holidays are to be setup every year.\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dailysales\",\n    className: \"col-sm-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, \"Year\"), /*#__PURE__*/React.createElement(CSelect, {\n    className: \"form-select col-sm-8 mb-3\",\n    \"aria-label\": \"Default\",\n    value: currentYear,\n    onChange: function onChange(e) {\n      return setCurrentYear(e.currentTarget.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() - 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() - 4), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() - 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() - 3), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() - 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() - 2), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() - 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() - 1), /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: new Date().getFullYear(),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear()), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() + 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() + 1), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() + 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() + 2), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() + 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() + 3), /*#__PURE__*/React.createElement(\"option\", {\n    value: new Date().getFullYear() + 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, new Date().getFullYear() + 4))), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"holiday\",\n    className: \"col-sm-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, \"Holiday\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    name: \"holiday\",\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    value: holiday.holiday,\n    onChange: function onChange(e) {\n      return setHoliday(_objectSpread(_objectSpread({}, holiday), {}, {\n        holiday: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dailysales\",\n    className: \"col-sm-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, \"Holiday Date\"), /*#__PURE__*/React.createElement(CInput, {\n    name: \"hdate\",\n    type: \"date\",\n    className: \"form-control col-sm-8\",\n    value: holiday.hdate,\n    onChange: handleDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }\n  }, !editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-primary col-sm-2 mt-3 btn-sm\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, \"Submit\") : null, editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn-sm m-3 col-sm-2\",\n    color: \"success\",\n    onClick: handleUpdate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }, \"Update\") : null, editMode && /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-danger col-sm-2 m-3 btn-sm\",\n    onClick: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Table, {\n    className: \"sm mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }\n  }, \"Holiday\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 13\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 13\n    }\n  }, \"Year\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }, holidays.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      Style: \"cursor: pointer;\",\n      onClick: function onClick() {\n        return handleOnEdit(c);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 15\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 15\n      }\n    }, c.holiday), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 15\n      }\n    }, moment(c.hdate).format('DD-MMMM-YYYY')), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 15\n      }\n    }, c.year));\n  }))));\n};\n\nexport default HolidaySetup;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/holiday.js"],"names":["React","useState","useEffect","axios","Joi","moment","momentBusinessDays","baseUrl","auth","Swal","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","HolidaySetup","holiday","hdate","year","setHoliday","holidays","setHolidays","Date","getFullYear","currentYear","setCurrentYear","editMode","setEditMode","render","setRender","getHolidays","yearInt","get","apiUrl","results","data","disableButton","setDisableButton","joiHolidaySchema","object","keys","string","required","label","date","number","validateEntry","result","validate","error","details","message","handleDateChange","e","currentTarget","value","handleOnEdit","p","console","log","id","toISOString","slice","handleSubmit","post","status","fire","handleUpdate","put","handleDelete","delete","map","c","index","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Joi from 'joi-browser'\nimport moment from 'moment'\nimport momentBusinessDays from 'moment-business-days'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst HolidaySetup = () => {\n  const [holiday, setHoliday] = useState({\n    holiday: '',\n    hdate: '',\n    year: '',\n  })\n  const [holidays, setHolidays] = useState([])\n  const [currentYear, setCurrentYear] = useState(new Date().getFullYear())\n  const [editMode, setEditMode] = useState(false)\n  const [render, setRender] = useState(false)\n\n  useEffect(() => {\n    async function getHolidays() {\n      const yearInt = new Date()\n      const results = await axios.get(\n        baseUrl.apiUrl + '/setup/holiday/' + currentYear,\n      )\n      setHolidays(results.data)\n    }\n    getHolidays()\n  }, [currentYear, render])\n\n  const [disableButton, setDisableButton] = useState(false)\n\n  const joiHolidaySchema = Joi.object().keys({\n    holiday: Joi.string().required().label('Holiday'),\n    hdate: Joi.date().required().label('date'),\n    year: Joi.number().required().label('Holiday Year'),\n  })\n\n  const validateEntry = () => {\n    const result = Joi.validate(holidays, joiHolidaySchema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleDateChange = (e) => {\n    const year = new Date(e.currentTarget.value)\n    setHoliday({\n      ...holiday,\n      hdate: e.currentTarget.value,\n      year: year.getFullYear(),\n    })\n  }\n\n  const handleOnEdit = (p) => {\n    console.log(p)\n    setEditMode(true)\n    setHoliday({\n      id: p.id,\n      holiday: p.holiday,\n      hdate: new Date(p.hdate).toISOString().slice(0, 10),\n      year: p.year,\n    })\n    //setDisabled(!disabled);\n  }\n\n  const handleSubmit = async () => {\n    // console.log(holiday)\n    validateEntry()\n    try {\n      const results = await axios.post(\n        baseUrl.apiUrl + '/setup/holiday',\n        holiday,\n      )\n\n      if (results.status === 200) {\n        Swal.fire('Success', 'Holiday Saved', 'success')\n        setRender(!render)\n      } else {\n        Swal.fire('OOPS !', 'Saving Holiday, failed !', 'error')\n      }\n    } catch (err) {\n      Swal.fire(err + ' Saving Holiday, failed !', 'error')\n    }\n    setHoliday({ holiday: '', hdate: '' })\n  }\n\n  const handleUpdate = async (e) => {\n    console.log(holiday)\n    if (holiday.holiday !== '') {\n      try {\n        const results = await axios.put(\n          baseUrl.apiUrl + '/setup/holiday',\n          holiday,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Holiday Updated Successfully', 'success')\n\n          setHoliday({\n            holiday: '',\n            hdate: '',\n            year: '',\n          })\n          setRender(!render)\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Enter all Details !', 'error')\n    }\n  }\n\n  const handleDelete = async () => {\n    if (holiday.holiday !== '') {\n      try {\n        const results = await axios.delete(\n          baseUrl.apiUrl + '/setup/holiday/' + holiday.id,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Holiday Deleted Successfully', 'success')\n          setHoliday({\n            holiday: '',\n            hdate: '',\n            year: '',\n          })\n          setRender(!render)\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Select Holiday !', 'error')\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <h3 className=\"centertext m-3\">Set up Holidays</h3>\n      <p className=\"centertext m-3\">\n        Set up public holidays here. NB: Holidays are to be setup every year.\n      </p>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"dailysales\" className=\"col-sm-2\">\n          Year\n        </CLabel>\n        <CSelect\n          className=\"form-select col-sm-8 mb-3\"\n          aria-label=\"Default\"\n          value={currentYear}\n          onChange={(e) => setCurrentYear(e.currentTarget.value)}\n        >\n          <option value={new Date().getFullYear() - 4}>\n            {new Date().getFullYear() - 4}\n          </option>\n          <option value={new Date().getFullYear() - 3}>\n            {new Date().getFullYear() - 3}\n          </option>\n          <option value={new Date().getFullYear() - 2}>\n            {new Date().getFullYear() - 2}\n          </option>\n          <option value={new Date().getFullYear() - 1}>\n            {new Date().getFullYear() - 1}\n          </option>\n          <option defaultValue={new Date().getFullYear()}>\n            {new Date().getFullYear()}\n          </option>\n          <option value={new Date().getFullYear() + 1}>\n            {new Date().getFullYear() + 1}\n          </option>\n          <option value={new Date().getFullYear() + 2}>\n            {new Date().getFullYear() + 2}\n          </option>\n          <option value={new Date().getFullYear() + 3}>\n            {new Date().getFullYear() + 3}\n          </option>\n          <option value={new Date().getFullYear() + 4}>\n            {new Date().getFullYear() + 4}\n          </option>\n        </CSelect>\n      </CInputGroup>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"holiday\" className=\"col-sm-2\">\n          Holiday\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"holiday\"\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          value={holiday.holiday}\n          onChange={(e) =>\n            setHoliday({\n              ...holiday,\n              holiday: e.currentTarget.value,\n            })\n          }\n        />\n      </CInputGroup>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"dailysales\" className=\"col-sm-2\">\n          Holiday Date\n        </CLabel>\n        <CInput\n          name=\"hdate\"\n          type=\"date\"\n          className=\"form-control col-sm-8\"\n          value={holiday.hdate}\n          onChange={handleDateChange}\n        />\n      </CInputGroup>\n      <div className=\"row justify-content-center\">\n        {!editMode ? (\n          <CButton\n            className=\"btn btn-primary col-sm-2 mt-3 btn-sm\"\n            onClick={handleSubmit}\n          >\n            Submit\n          </CButton>\n        ) : null}\n        {editMode ? (\n          <CButton\n            className=\"btn-sm m-3 col-sm-2\"\n            color=\"success\"\n            onClick={handleUpdate}\n          >\n            Update\n          </CButton>\n        ) : null}\n\n        {editMode && (\n          <CButton\n            className=\"btn btn-danger col-sm-2 m-3 btn-sm\"\n            onClick={handleDelete}\n          >\n            Delete\n          </CButton>\n        )}\n      </div>\n      <Table className=\"sm mt-3\">\n        <thead>\n          <tr className=\"fs-sm\">\n            <th></th>\n            <th>Holiday</th>\n            <th>Date</th>\n            <th>Year</th>\n          </tr>\n        </thead>\n        <tbody>\n          {holidays.map((c, index) => (\n            <tr\n              key={c.id}\n              Style=\"cursor: pointer;\"\n              onClick={() => handleOnEdit(c)}\n            >\n              <td>{index + 1}</td>\n              <td>{c.holiday}</td>\n              <td>{moment(c.hdate).format('DD-MMMM-YYYY')}</td>\n              <td>{c.year}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default HolidaySetup\n"]},"metadata":{},"sourceType":"module"}