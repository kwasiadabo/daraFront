{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import baseUrl from'../../config.json';import auth from'../../components/services/authService';import Swal from'sweetalert2';import moment from'moment';import{apiUrl}from'../../config.json';import Joi from'joi-browser';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n,CTextarea,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';var Directions=function Directions(props){var _useState=useState({disbursementId:0,customer:0,directionsToResidence:'',directionsToBusiness:''}),_useState2=_slicedToArray(_useState,2),directionsData=_useState2[0],setDirectionsData=_useState2[1];var handleHouseDirectionsEntry=function handleHouseDirectionsEntry(e){setDirectionsData(_objectSpread(_objectSpread({},directionsData),{},{directionsToResidence:e.currentTarget.value,customer:props.customer,disbursementId:props.disbursementId}));};var handleBusinessDirectionsEntry=function handleBusinessDirectionsEntry(e){setDirectionsData(_objectSpread(_objectSpread({},directionsData),{},{directionsToBusiness:e.currentTarget.value,customer:props.customer,disbursementId:props.disbursementId}));};var schemaMap={disbursementId:Joi.number().required().label('Disbursement ID'),customer:Joi.number().required().label('Customer'),directionsToResidence:Joi.string().required().label('House Directions'),directionsToBusiness:Joi.string().required().label('Business Directions')};var schema=Joi.object(schemaMap);var validateForm=function validateForm(){var result=Joi.validate(directionsData,schema);if(result.error){return result.error.details[0].message;}else{return null;}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var validate,results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:validate=validateForm();if(!(validate!==null)){_context.next=3;break;}return _context.abrupt(\"return\",Swal.fire('Validation',validate,'error'));case 3:_context.prev=3;_context.next=6;return axios.put(apiUrl+'/loan/booking/directions',directionsData);case 6:results=_context.sent;if(!(results.status!==200)){_context.next=11;break;}return _context.abrupt(\"return\",Swal.fire('OOPs !','Submission Failed ! Check Entries and try again !','error'));case 11:Swal.fire('Good job!','Directions Saved Successfully','success');setDirectionsData({disbursementId:0,customer:0,directionsToResidence:'',directionsToBusiness:''});case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](3);Swal.fire('OOPS ! ','Directions NOT Saved','error');case 18:case\"end\":return _context.stop();}}},_callee,null,[[3,15]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"product\",className:\"col-sm-3\"},\"Directions to House *\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CTextarea,{className:\"form-control-xl\",value:directionsData.directionsToResidence,onChange:handleHouseDirectionsEntry}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"product\",className:\"col-sm-3\"},\"Directions to Business *\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CTextarea,{className:\"form-control-xl\",value:directionsData.directionsToBusiness,onChange:handleBusinessDirectionsEntry}))),/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(CButton,{onClick:handleSubmit,className:\"m-3 float-right\",color:\"success\"},\"Submit\")));};export default Directions;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/directions.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","baseUrl","auth","Swal","moment","apiUrl","Joi","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CTextarea","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Directions","props","disbursementId","customer","directionsToResidence","directionsToBusiness","directionsData","setDirectionsData","handleHouseDirectionsEntry","e","currentTarget","value","handleBusinessDirectionsEntry","schemaMap","number","required","label","string","schema","object","validateForm","result","validate","error","details","message","handleSubmit","fire","put","results","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport moment from 'moment'\nimport { apiUrl } from '../../config.json'\nimport Joi from 'joi-browser'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst Directions = (props) => {\n  const [directionsData, setDirectionsData] = useState({\n    disbursementId: 0,\n    customer: 0,\n    directionsToResidence: '',\n    directionsToBusiness: '',\n  })\n\n  const handleHouseDirectionsEntry = (e) => {\n    setDirectionsData({\n      ...directionsData,\n      directionsToResidence: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }\n\n  const handleBusinessDirectionsEntry = (e) => {\n    setDirectionsData({\n      ...directionsData,\n      directionsToBusiness: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }\n\n  const schemaMap = {\n    disbursementId: Joi.number().required().label('Disbursement ID'),\n    customer: Joi.number().required().label('Customer'),\n    directionsToResidence: Joi.string().required().label('House Directions'),\n    directionsToBusiness: Joi.string().required().label('Business Directions'),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(directionsData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.put(\n        apiUrl + '/loan/booking/directions',\n        directionsData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Directions Saved Successfully', 'success')\n        setDirectionsData({\n          disbursementId: 0,\n          customer: 0,\n          directionsToResidence: '',\n          directionsToBusiness: '',\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ', 'Directions NOT Saved', 'error')\n    }\n  }\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"product\" className=\"col-sm-3\">\n          Directions to House *\n        </CLabel>\n        <div class=\"col-sm-8\">\n          <CTextarea\n            className=\"form-control-xl\"\n            value={directionsData.directionsToResidence}\n            onChange={handleHouseDirectionsEntry}\n          />\n        </div>\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"product\" className=\"col-sm-3\">\n          Directions to Business *\n        </CLabel>\n        <div class=\"col-sm-8\">\n          <CTextarea\n            className=\"form-control-xl\"\n            value={directionsData.directionsToBusiness}\n            onChange={handleBusinessDirectionsEntry}\n          />\n        </div>\n      </div>\n\n      <div className=\"justify-content-center\">\n        <CButton\n          onClick={handleSubmit}\n          className=\"m-3 float-right\"\n          color=\"success\"\n        >\n          Submit\n        </CButton>\n      </div>\n    </div>\n  )\n}\n\nexport default Directions\n"]},"metadata":{},"sourceType":"module"}