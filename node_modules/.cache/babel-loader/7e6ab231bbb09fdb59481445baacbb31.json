{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/changePassword.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Swal from 'sweetalert2';\nimport auth from '../../components/services/authService';\nimport { useHistory } from 'react-router-dom';\nimport { apiUrl } from '../../config.json';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CDropdownDivider, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\n\nvar ChangePassword = function ChangePassword() {\n  //const { addToast } = useToasts()\n  var navigate = useHistory();\n  var user = auth.getCurrentUser();\n\n  var _useState = useState({\n    username: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userAccount = _useState2[0],\n      setUserAccount = _useState2[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(userAccount);\n              console.log(user);\n              e.preventDefault();\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.put(apiUrl + '/setup/user/' + user.id + '/', {\n                password: userAccount.password\n              });\n\n            case 6:\n              results = _context.sent;\n\n              if (!(results.status !== 200)) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('OOPS', 'Unsuccessful', 'error'));\n\n            case 11:\n              Swal.fire('Password Changed Successfully', 'success');\n              setUserAccount({\n                username: '',\n                password: ''\n              });\n              navigate.push('/home');\n\n            case 14:\n              _context.next = 19;\n              break;\n\n            case 16:\n              _context.prev = 16;\n              _context.t0 = _context[\"catch\"](3);\n              Swal.fire('OOPS ! ' + _context.t0, 'error');\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 16]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function genPassword() {\n    var chars = '123456789abcdefghijklmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n    var passwordLength = 8;\n    var tempPassword = '';\n\n    for (var i = 0; i <= passwordLength; i++) {\n      var randomNumber = Math.floor(Math.random() * chars.length);\n      tempPassword += chars.substring(randomNumber, randomNumber + 1);\n    }\n\n    setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n      password: tempPassword,\n      confirmPassword: tempPassword\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centertext\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, \"Change User Password\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 4\n    }\n  }, \"A user account is an established technique for connecting a user and an information service and/or computer network. User accounts determine whether or not a user can connect to a computer, network or similar networks.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"nameOfStaff\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 5\n    }\n  }, \"FullName\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"col-sm-6\",\n    id: \"nameOfStaff\",\n    value: user.nameOfStaff,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    className: \" col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"col-sm-6\",\n    id: \"username\",\n    value: user.username,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"gender\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, \"User Role\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"col-sm-6\",\n    \"aria-label\": \"Default select example\",\n    value: user.userRole,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"branch\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"col-sm-6\",\n    \"aria-label\": \"Default select example\",\n    value: user.branch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 5\n    }\n  }, \"New Password\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"password\",\n    className: \"col-sm-6\",\n    value: userAccount.password,\n    onChange: function onChange(e) {\n      return setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        password: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"confirmpassword\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"password\",\n    className: \"col-sm-6\",\n    value: userAccount.confirmPassword,\n    onChange: function onChange(e) {\n      return setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        confirmPassword: e.target.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn-sm col-sm-3 mt-3 float-right\",\n    color: \"danger\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 4\n    }\n  }, \"Submit\"));\n};\n\nexport default ChangePassword;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/changePassword.jsx"],"names":["React","useState","useEffect","axios","moment","Swal","auth","useHistory","apiUrl","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CDropdownDivider","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","ChangePassword","navigate","user","getCurrentUser","username","password","userAccount","setUserAccount","handleSubmit","e","console","log","preventDefault","put","id","results","status","fire","push","genPassword","chars","passwordLength","tempPassword","i","randomNumber","Math","floor","random","length","substring","confirmPassword","nameOfStaff","userRole","branch","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Swal from 'sweetalert2';\nimport auth from '../../components/services/authService';\nimport { useHistory } from 'react-router-dom';\nimport { apiUrl } from '../../config.json';\n\nimport {\n\tCBadge,\n\tCCard,\n\tCCardBody,\n\t//CCardHeader,\n\tCCol,\n\tCDataTable,\n\tCRow,\n\tCButton,\n\tCModal,\n\tCModalFooter,\n\tCModalHeader,\n\tCModalBody,\n\tCCardHeader,\n\tCInputGroupAppend,\n\tCInputGroupPrepend,\n\tCDropdownItem,\n\tCForm,\n\t//CCardFooter,\n\tCDropdownToggle,\n\t//CInputRadio,\n\tCDropdown,\n\tCDropdownDivider,\n\tCModalTitle,\n\t//CFormText,\n\t//CTextarea,\n\tCFormGroup,\n\tCLabel,\n\t// CSwitch,\n\tCInput,\n\t//CInputFile,\n\tCSelect,\n\tCDropdownMenu,\n\t//CCardFooter,\n\tCInputGroup,\n\t//CForm,\n} from '@coreui/react';\nconst ChangePassword = () => {\n\t//const { addToast } = useToasts()\n\tconst navigate = useHistory();\n\tconst user = auth.getCurrentUser();\n\n\tconst [userAccount, setUserAccount] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\n\tconst handleSubmit = async (e) => {\n\t\tconsole.log(userAccount);\n\t\tconsole.log(user);\n\t\te.preventDefault();\n\t\ttry {\n\t\t\tconst results = await axios.put(apiUrl + '/setup/user/' + user.id + '/', {\n\t\t\t\tpassword: userAccount.password,\n\t\t\t});\n\n\t\t\tif (results.status !== 200) {\n\t\t\t\treturn Swal.fire('OOPS', 'Unsuccessful', 'error');\n\t\t\t} else {\n\t\t\t\tSwal.fire('Password Changed Successfully', 'success');\n\t\t\t\tsetUserAccount({\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: '',\n\t\t\t\t});\n\t\t\t\tnavigate.push('/home');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tSwal.fire('OOPS ! ' + err, 'error');\n\t\t}\n\t};\n\n\tfunction genPassword() {\n\t\tlet chars = '123456789abcdefghijklmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n\t\tlet passwordLength = 8;\n\t\tlet tempPassword = '';\n\t\tfor (let i = 0; i <= passwordLength; i++) {\n\t\t\tlet randomNumber = Math.floor(Math.random() * chars.length);\n\t\t\ttempPassword += chars.substring(randomNumber, randomNumber + 1);\n\t\t}\n\t\tsetUserAccount({\n\t\t\t...userAccount,\n\t\t\tpassword: tempPassword,\n\t\t\tconfirmPassword: tempPassword,\n\t\t});\n\t}\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<h1 className=\"centertext\">Change User Password</h1>\n\t\t\t<p className=\"staffp\">\n\t\t\t\tA user account is an established technique for connecting a user and an\n\t\t\t\tinformation service and/or computer network. User accounts determine\n\t\t\t\twhether or not a user can connect to a computer, network or similar\n\t\t\t\tnetworks.\n\t\t\t</p>\n\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"nameOfStaff\" className=\"col-sm-3\">\n\t\t\t\t\tFullName\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\tid=\"nameOfStaff\"\n\t\t\t\t\tvalue={user.nameOfStaff}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"username\" className=\" col-sm-3\">\n\t\t\t\t\tUsername\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tvalue={user.username}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"gender\" className=\"col-sm-3\">\n\t\t\t\t\tUser Role\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tvalue={user.userRole}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"branch\" className=\"col-sm-3\">\n\t\t\t\t\tBranch\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tvalue={user.branch}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"password\" className=\"col-sm-3\">\n\t\t\t\t\tNew Password\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\tvalue={userAccount.password}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUserAccount({ ...userAccount, password: e.target.value })\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"row mb-3\">\n\t\t\t\t<label htmlFor=\"confirmpassword\" className=\"col-sm-3\">\n\t\t\t\t\tConfirm Password\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\tvalue={userAccount.confirmPassword}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\tconfirmPassword: e.target.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<CButton\n\t\t\t\tclassName=\"btn-sm col-sm-3 mt-3 float-right\"\n\t\t\t\tcolor=\"danger\"\n\t\t\t\tonClick={handleSubmit}\n\t\t\t>\n\t\t\t\tSubmit\n\t\t\t</CButton>\n\t\t</div>\n\t);\n};\n\nexport default ChangePassword;\n"]},"metadata":{},"sourceType":"module"}