{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/directions.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport moment from 'moment';\nimport { apiUrl } from '../../config.json';\nimport Joi from 'joi-browser';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n, CTextarea, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\n\nvar Directions = function Directions(props) {\n  var _useState = useState({\n    disbursementId: 0,\n    customer: 0,\n    directionsToResidence: '',\n    directionsToBusiness: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      directionsData = _useState2[0],\n      setDirectionsData = _useState2[1];\n\n  var handleHouseDirectionsEntry = function handleHouseDirectionsEntry(e) {\n    setDirectionsData(_objectSpread(_objectSpread({}, directionsData), {}, {\n      directionsToResidence: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId\n    }));\n  };\n\n  var handleBusinessDirectionsEntry = function handleBusinessDirectionsEntry(e) {\n    setDirectionsData(_objectSpread(_objectSpread({}, directionsData), {}, {\n      directionsToBusiness: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId\n    }));\n  };\n\n  var schemaMap = {\n    disbursementId: Joi.number().required().label('Disbursement ID'),\n    customer: Joi.number().required().label('Customer'),\n    directionsToResidence: Joi.string().required().label('House Directions'),\n    directionsToBusiness: Joi.string().required().label('Business Directions')\n  };\n  var schema = Joi.object(schemaMap);\n\n  var validateForm = function validateForm() {\n    var result = Joi.validate(directionsData, schema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    }\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var validate, results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('Validation', validate, 'error'));\n\n            case 3:\n              _context.prev = 3;\n              _context.next = 6;\n              return axios.put(apiUrl + '/loan/booking/directions', directionsData);\n\n            case 6:\n              results = _context.sent;\n\n              if (!(results.status !== 200)) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('OOPs !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 11:\n              Swal.fire('Good job!', 'Directions Saved Successfully', 'success');\n              setDirectionsData({\n                disbursementId: 0,\n                customer: 0,\n                directionsToResidence: '',\n                directionsToBusiness: ''\n              });\n\n            case 13:\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](3);\n              Swal.fire('OOPS ! ', 'Directions NOT Saved', 'error');\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 15]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"product\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, \"Directions to House *\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CTextarea, {\n    className: \"form-control-xl\",\n    value: directionsData.directionsToResidence,\n    onChange: handleHouseDirectionsEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"product\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \"Directions to Business *\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CTextarea, {\n    className: \"form-control-xl\",\n    value: directionsData.directionsToBusiness,\n    onChange: handleBusinessDirectionsEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    onClick: handleSubmit,\n    className: \"m-3 float-right\",\n    color: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, \"Submit\")));\n};\n\nexport default Directions;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/directions.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","baseUrl","auth","Swal","moment","apiUrl","Joi","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CTextarea","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Directions","props","disbursementId","customer","directionsToResidence","directionsToBusiness","directionsData","setDirectionsData","handleHouseDirectionsEntry","e","currentTarget","value","handleBusinessDirectionsEntry","schemaMap","number","required","label","string","schema","object","validateForm","result","validate","error","details","message","handleSubmit","fire","put","results","status"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport moment from 'moment'\nimport { apiUrl } from '../../config.json'\nimport Joi from 'joi-browser'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst Directions = (props) => {\n  const [directionsData, setDirectionsData] = useState({\n    disbursementId: 0,\n    customer: 0,\n    directionsToResidence: '',\n    directionsToBusiness: '',\n  })\n\n  const handleHouseDirectionsEntry = (e) => {\n    setDirectionsData({\n      ...directionsData,\n      directionsToResidence: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }\n\n  const handleBusinessDirectionsEntry = (e) => {\n    setDirectionsData({\n      ...directionsData,\n      directionsToBusiness: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }\n\n  const schemaMap = {\n    disbursementId: Joi.number().required().label('Disbursement ID'),\n    customer: Joi.number().required().label('Customer'),\n    directionsToResidence: Joi.string().required().label('House Directions'),\n    directionsToBusiness: Joi.string().required().label('Business Directions'),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(directionsData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.put(\n        apiUrl + '/loan/booking/directions',\n        directionsData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Directions Saved Successfully', 'success')\n        setDirectionsData({\n          disbursementId: 0,\n          customer: 0,\n          directionsToResidence: '',\n          directionsToBusiness: '',\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ', 'Directions NOT Saved', 'error')\n    }\n  }\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"product\" className=\"col-sm-3\">\n          Directions to House *\n        </CLabel>\n        <div class=\"col-sm-8\">\n          <CTextarea\n            className=\"form-control-xl\"\n            value={directionsData.directionsToResidence}\n            onChange={handleHouseDirectionsEntry}\n          />\n        </div>\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"product\" className=\"col-sm-3\">\n          Directions to Business *\n        </CLabel>\n        <div class=\"col-sm-8\">\n          <CTextarea\n            className=\"form-control-xl\"\n            value={directionsData.directionsToBusiness}\n            onChange={handleBusinessDirectionsEntry}\n          />\n        </div>\n      </div>\n\n      <div className=\"justify-content-center\">\n        <CButton\n          onClick={handleSubmit}\n          className=\"m-3 float-right\"\n          color=\"success\"\n        >\n          Submit\n        </CButton>\n      </div>\n    </div>\n  )\n}\n\nexport default Directions\n"]},"metadata":{},"sourceType":"module"}