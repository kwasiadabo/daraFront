{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/customerView.jsx\";\n\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport { Link, useHistory, Navigate, useParams } from 'react-router-dom';\nimport { Buffer } from 'buffer';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Swal from 'sweetalert2'; //import '../../table.css'\n\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\n\nvar CustomerView = function CustomerView(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      customerDetails = _useState2[0],\n      setCustomerDetails = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      buffer = _useState4[0],\n      setBuffer = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      render = _useState6[0],\n      setRender = _useState6[1];\n\n  var customer = useParams();\n  var user = auth.getCurrentUser();\n  useEffect(function () {\n    function getCustomer() {\n      return _getCustomer.apply(this, arguments);\n    }\n\n    function _getCustomer() {\n      _getCustomer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(baseUrl.apiUrl + '/customer/' + customer.customer);\n\n              case 2:\n                results = _context.sent;\n                setCustomerDetails(results.data);\n                setBuffer(results.data.img.data); // console.log(results.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getCustomer.apply(this, arguments);\n    }\n\n    getCustomer();\n  }, [render]);\n\n  var handleApprove = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios.put(baseUrl.apiUrl + '/customer/approve/' + customerDetails._id, {\n                isAuthorised: 'true',\n                dateAuthorised: new Date(),\n                authorisedBy: user._id,\n                status: 'Authorised'\n              });\n\n            case 4:\n              results = _context2.sent;\n\n              if (!(results.status !== 200)) {\n                _context2.next = 9;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('Failed', 'Customer Details  Authorisation failed !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'Customer Details  Authorised Successfully', 'success');\n              setRender(!render);\n\n            case 11:\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](1);\n              return _context2.abrupt(\"return\", Swal.fire('Error', _context2.t0, 'error'));\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 13]]);\n    }));\n\n    return function handleApprove(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var navigate = useHistory();\n\n  var EditCustomer = function EditCustomer(s) {\n    navigate('/customer/edit/' + customerDetails._id);\n  }; //<img src={`data:image/jpeg;base64,${customerDetails.img}`} />;\n\n\n  var bb = Buffer.from(buffer).toString('base64');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 mt-3 \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"centertext m-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Dara Capital Customer Registration Details\"), /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centertext m-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Customer Details View\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-11\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    className: \"legend\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"*Customer Details*\"), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"row g-3 shadow\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"data:image/jpeg;base64,\".concat(bb),\n    width: \"120px\",\n    className: \"ms-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 19\n    }\n  }, \"FullName\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  }, customerDetails.fullName), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, \"Gender\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 19\n    }\n  }, customerDetails.gender)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputPassword4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 19\n    }\n  }, \"Date of Birth\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 19\n    }\n  }, moment(customerDetails.dob).format('DD-MMM-YYYY')), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"ID Type\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 19\n    }\n  }, customerDetails.idType)), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputAddress\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, \"ID Number\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 19\n    }\n  }, customerDetails.idNumber), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    clasName: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"TIN\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 19\n    }\n  }, customerDetails.tin)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Occupation\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }, customerDetails.occupation)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 19\n    }\n  }, \"Res. Address\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 19\n    }\n  }, customerDetails.residentialAddress)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 19\n    }\n  }, \"Ghana Post GPS\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 19\n    }\n  }, customerDetails.ghanaPostGPS)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  }, \"Phone Number\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 19\n    }\n  }, customerDetails.phone)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"Nationality\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 19\n    }\n  }, customerDetails.nationality)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 19\n    }\n  }, \"Place of Birth\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 19\n    }\n  }, customerDetails.placeOfBirth)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 19\n    }\n  }, \"Residence\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 19\n    }\n  }, customerDetails.residence)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 19\n    }\n  }, \"Marital Status\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }, customerDetails.maritalStatus)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, \"Name of Spouse\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 19\n    }\n  }, customerDetails.nameOfSpouse)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 19\n    }\n  }, \"Phone of Spouse\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 19\n    }\n  }, customerDetails.phoneOfSpouse)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 19\n    }\n  }, \"Occupation of Spouse\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 19\n    }\n  }, customerDetails.occupationOfSpouse)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 19\n    }\n  }, \"Religion\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }, customerDetails.religion)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 19\n    }\n  }, \"Place of Worship\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 19\n    }\n  }, customerDetails.placeOfWorship)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 19\n    }\n  }, \"Name of Pastor /Imam/Priest\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 19\n    }\n  }, customerDetails.leaderOfPlaceOfWorship)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    className: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 19\n    }\n  }, \"Contact of Pastor/Imam/Priest\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 19\n    }\n  }, customerDetails.contactOfPlaceOfWorship)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    class: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 19\n    }\n  }, \"Date Entry Made\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 19\n    }\n  }, moment(customerDetails.dateCreated).format('DD-MMM-YYYY'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"inputEmail4\",\n    class: \"form-label label custlabel\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 19\n    }\n  }, \"Authorisation Status\"), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"form-control\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 19\n    }\n  }, customerDetails.status)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"button col-md-2 m-5\",\n    onClick: function onClick() {\n      return window.print();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 19\n    }\n  }, \"Print\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button col-md-2 m-5\",\n    onClick: EditCustomer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 19\n    }\n  }, \"Edit\"), user.userRole === 'Admin' && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"button col-md-2 m-5\",\n    onClick: handleApprove,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, \"Approve\")))))))); //return <>{customerDetails.fullName}</>;\n};\n\nexport default CustomerView;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/customerView.jsx"],"names":["React","useState","useEffect","useRef","useContext","Link","useHistory","Navigate","useParams","Buffer","axios","moment","Swal","baseUrl","auth","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CustomerView","props","customerDetails","setCustomerDetails","buffer","setBuffer","render","setRender","customer","user","getCurrentUser","getCustomer","get","apiUrl","results","data","img","handleApprove","e","preventDefault","put","_id","isAuthorised","dateAuthorised","Date","authorisedBy","status","fire","navigate","EditCustomer","s","bb","from","toString","fullName","gender","dob","format","idType","idNumber","tin","occupation","residentialAddress","ghanaPostGPS","phone","nationality","placeOfBirth","residence","maritalStatus","nameOfSpouse","phoneOfSpouse","occupationOfSpouse","religion","placeOfWorship","leaderOfPlaceOfWorship","contactOfPlaceOfWorship","dateCreated","window","print","userRole"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,UAA7C,QAA+D,OAA/D;AACA,SAASC,IAAT,EAAeC,UAAf,EAA2BC,QAA3B,EAAqCC,SAArC,QAAsD,kBAAtD;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,IAAP,MAAiB,aAAjB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,mBAApB;AACA,OAAOC,IAAP,MAAiB,uCAAjB;AACA,SACEC,GADF,EAEEC,GAFF,EAGEC,KAHF,EAIEC,QAJF,EAKEC,MALF,EAMEC,0BANF,EAOEC,YAPF,EAQEC,cARF,EASEC,YATF,EAUEC,KAVF,EAWEC,KAXF,EAYEC,KAZF,QAaO,YAbP;;AAeA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,KAAD,EAAW;AAAA,kBACgB3B,QAAQ,CAAC,EAAD,CADxB;AAAA;AAAA,MACvB4B,eADuB;AAAA,MACNC,kBADM;;AAAA,mBAEF7B,QAAQ,CAAC,EAAD,CAFN;AAAA;AAAA,MAEvB8B,MAFuB;AAAA,MAEfC,SAFe;;AAAA,mBAGF/B,QAAQ,CAAC,KAAD,CAHN;AAAA;AAAA,MAGvBgC,MAHuB;AAAA,MAGfC,SAHe;;AAI9B,MAAMC,QAAQ,GAAG3B,SAAS,EAA1B;AAEA,MAAM4B,IAAI,GAAGtB,IAAI,CAACuB,cAAL,EAAb;AAEAnC,EAAAA,SAAS,CAAC,YAAM;AAAA,aACCoC,WADD;AAAA;AAAA;;AAAA;AAAA,8EACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACwB5B,KAAK,CAAC6B,GAAN,CACpB1B,OAAO,CAAC2B,MAAR,GAAiB,YAAjB,GAAgCL,QAAQ,CAACA,QADrB,CADxB;;AAAA;AACQM,gBAAAA,OADR;AAKEX,gBAAAA,kBAAkB,CAACW,OAAO,CAACC,IAAT,CAAlB;AACAV,gBAAAA,SAAS,CAACS,OAAO,CAACC,IAAR,CAAaC,GAAb,CAAiBD,IAAlB,CAAT,CANF,CAOE;;AAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADc;AAAA;AAAA;;AAUdJ,IAAAA,WAAW;AACZ,GAXQ,EAWN,CAACL,MAAD,CAXM,CAAT;;AAaA,MAAMW,aAAa;AAAA,wEAAG,kBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACpBA,cAAAA,CAAC,CAACC,cAAF;AADoB;AAAA;AAAA,qBAGIpC,KAAK,CAACqC,GAAN,CACpBlC,OAAO,CAAC2B,MAAR,GAAiB,oBAAjB,GAAwCX,eAAe,CAACmB,GADpC,EAEpB;AACEC,gBAAAA,YAAY,EAAE,MADhB;AAEEC,gBAAAA,cAAc,EAAE,IAAIC,IAAJ,EAFlB;AAGEC,gBAAAA,YAAY,EAAEhB,IAAI,CAACY,GAHrB;AAIEK,gBAAAA,MAAM,EAAE;AAJV,eAFoB,CAHJ;;AAAA;AAGZZ,cAAAA,OAHY;;AAAA,oBAYdA,OAAO,CAACY,MAAR,KAAmB,GAZL;AAAA;AAAA;AAAA;;AAAA,gDAaTzC,IAAI,CAAC0C,IAAL,CACL,QADK,EAEL,0CAFK,EAGL,OAHK,CAbS;;AAAA;AAmBhB1C,cAAAA,IAAI,CAAC0C,IAAL,CACE,SADF,EAEE,2CAFF,EAGE,SAHF;AAKApB,cAAAA,SAAS,CAAC,CAACD,MAAF,CAAT;;AAxBgB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,gDA2BXrB,IAAI,CAAC0C,IAAL,CAAU,OAAV,gBAAwB,OAAxB,CA3BW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAbV,aAAa;AAAA;AAAA;AAAA,KAAnB;;AA8BA,MAAMW,QAAQ,GAAGjD,UAAU,EAA3B;;AAEA,MAAMkD,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAO;AAC1BF,IAAAA,QAAQ,CAAC,oBAAoB1B,eAAe,CAACmB,GAArC,CAAR;AACD,GAFD,CArD8B,CAyD9B;;;AACA,MAAMU,EAAE,GAAGjD,MAAM,CAACkD,IAAP,CAAY5B,MAAZ,EAAoB6B,QAApB,CAA6B,QAA7B,CAAX;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kDADF,eAIE;AAAI,IAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAJF,eAME;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAQ,IAAA,SAAS,EAAC,QAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAEE;AAAM,IAAA,SAAS,EAAC,gBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,mCAA4BF,EAA5B,CADL;AAEE,IAAA,KAAK,EAAC,OAFR;AAGE,IAAA,SAAS,EAAC,MAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAQE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,SAAS,EAAC,4BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7B,eAAe,CAACgC,QADnB,CAFF,eAME;AAAO,IAAA,GAAG,EAAC,aAAX;AAAyB,IAAA,SAAS,EAAC,sBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANF,eASE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhC,eAAe,CAACiC,MADnB,CATF,CARF,eAqBE;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,gBADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnD,MAAM,CAACkB,eAAe,CAACkC,GAAjB,CAAN,CAA4BC,MAA5B,CAAmC,aAAnC,CADH,CAPF,eAUE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAVF,eAgBE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnC,eAAe,CAACoC,MADnB,CAhBF,CArBF,eAyCE;AAAK,IAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,cADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpC,eAAe,CAACqC,QADnB,CAPF,eAUE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,QAAQ,EAAC,4BAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAVF,eAgBE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCrC,eAAe,CAACsC,GAAjD,CAhBF,CAzCF,eA4DE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGtC,eAAe,CAACuC,UADnB,CAPF,CA5DF,eAuEE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvC,eAAe,CAACwC,kBADnB,CAPF,CAvEF,eAkFE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGxC,eAAe,CAACyC,YADnB,CAPF,CAlFF,eA6FE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGzC,eAAe,CAAC0C,KADnB,CAPF,CA7FF,eAwGE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG1C,eAAe,CAAC2C,WADnB,CAPF,CAxGF,eAmHE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG3C,eAAe,CAAC4C,YADnB,CAPF,CAnHF,eA8HE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5C,eAAe,CAAC6C,SADnB,CAPF,CA9HF,eAyIE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG7C,eAAe,CAAC8C,aADnB,CAPF,CAzIF,eAoJE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG9C,eAAe,CAAC+C,YADnB,CAPF,CApJF,eA+JE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG/C,eAAe,CAACgD,aADnB,CAPF,CA/JF,eA0KE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhD,eAAe,CAACiD,kBADnB,CAPF,CA1KF,eAqLE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjD,eAAe,CAACkD,QADnB,CAPF,CArLF,eAgME;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGlD,eAAe,CAACmD,cADnB,CAPF,CAhMF,eA2ME;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnD,eAAe,CAACoD,sBADnB,CAPF,CA3MF,eAsNE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,GAAG,EAAC,aADN;AAEE,IAAA,SAAS,EAAC,4BAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADF,eAOE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGpD,eAAe,CAACqD,uBADnB,CAPF,CAtNF,eAkOE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,GAAG,EAAC,aAAX;AAAyB,IAAA,KAAK,EAAC,4BAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAIE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGvE,MAAM,CAACkB,eAAe,CAACsD,WAAjB,CAAN,CAAoCnB,MAApC,CAA2C,aAA3C,CADH,CAJF,CAlOF,eA0OE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,GAAG,EAAC,aAAX;AAAyB,IAAA,KAAK,EAAC,4BAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE;AAAO,IAAA,SAAS,EAAC,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnC,eAAe,CAACwB,MADnB,CAJF,CA1OF,eAkPE;AAAK,IAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,qBAFZ;AAGE,IAAA,OAAO,EAAE;AAAA,aAAM+B,MAAM,CAACC,KAAP,EAAN;AAAA,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAQE;AACE,IAAA,SAAS,EAAC,qBADZ;AAEE,IAAA,OAAO,EAAE7B,YAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YARF,EAcGpB,IAAI,CAACkD,QAAL,KAAkB,OAAlB,iBACC;AACE,IAAA,SAAS,EAAC,qBADZ;AAEE,IAAA,OAAO,EAAE1C,aAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAfJ,CAlPF,CAFF,CANF,CADF,CADF,CADF,CADF,CA3D8B,CAwV9B;AACD,CAzVD;;AA2VA,eAAejB,YAAf","sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react'\nimport { Link, useHistory, Navigate, useParams } from 'react-router-dom'\nimport { Buffer } from 'buffer'\nimport axios from 'axios'\nimport moment from 'moment'\nimport Swal from 'sweetalert2'\n\n//import '../../table.css'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\n\nconst CustomerView = (props) => {\n  const [customerDetails, setCustomerDetails] = useState('')\n  const [buffer, setBuffer] = useState('')\n  const [render, setRender] = useState(false)\n  const customer = useParams()\n\n  const user = auth.getCurrentUser()\n\n  useEffect(() => {\n    async function getCustomer() {\n      const results = await axios.get(\n        baseUrl.apiUrl + '/customer/' + customer.customer,\n      )\n\n      setCustomerDetails(results.data)\n      setBuffer(results.data.img.data)\n      // console.log(results.data);\n    }\n    getCustomer()\n  }, [render])\n\n  const handleApprove = async (e) => {\n    e.preventDefault()\n    try {\n      const results = await axios.put(\n        baseUrl.apiUrl + '/customer/approve/' + customerDetails._id,\n        {\n          isAuthorised: 'true',\n          dateAuthorised: new Date(),\n          authorisedBy: user._id,\n          status: 'Authorised',\n        },\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'Failed',\n          'Customer Details  Authorisation failed !',\n          'error',\n        )\n      } else {\n        Swal.fire(\n          'Success',\n          'Customer Details  Authorised Successfully',\n          'success',\n        )\n        setRender(!render)\n      }\n    } catch (err) {\n      return Swal.fire('Error', err, 'error')\n    }\n  }\n  const navigate = useHistory()\n\n  const EditCustomer = (s) => {\n    navigate('/customer/edit/' + customerDetails._id)\n  }\n\n  //<img src={`data:image/jpeg;base64,${customerDetails.img}`} />;\n  const bb = Buffer.from(buffer).toString('base64')\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row \">\n        <div className=\"col-10 mt-3 \">\n          <div className=\"row justify-content-center\">\n            <p className=\"centertext m-3\">\n              Dara Capital Customer Registration Details\n            </p>\n            <h1 className=\"centertext m-3\">Customer Details View</h1>\n\n            <div className=\"col-md-11\">\n              <legend className=\"legend\">*Customer Details*</legend>\n              <form className=\"row g-3 shadow\">\n                <div className=\"col-md-2\">\n                  <img\n                    src={`data:image/jpeg;base64,${bb}`}\n                    width=\"120px\"\n                    className=\"ms-3\"\n                  />\n                </div>\n                <div className=\"col-md-3\">\n                  <label className=\"form-label label custlabel\">FullName</label>\n                  <label className=\"form-control\">\n                    {customerDetails.fullName}\n                  </label>\n\n                  <label for=\"inputEmail4\" className=\"form-label custlabel\">\n                    Gender\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.gender}\n                  </label>\n                </div>\n                <div class=\"col-md-3\">\n                  <label\n                    for=\"inputPassword4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Date of Birth\n                  </label>\n                  <label className=\"form-control\">\n                    {moment(customerDetails.dob).format('DD-MMM-YYYY')}\n                  </label>\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    ID Type\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.idType}\n                  </label>\n                </div>\n                <div class=\"col-md-3\">\n                  <label\n                    for=\"inputAddress\"\n                    className=\"form-label label custlabel\"\n                  >\n                    ID Number\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.idNumber}\n                  </label>\n                  <label\n                    for=\"inputEmail4\"\n                    clasName=\"form-label label custlabel\"\n                  >\n                    TIN\n                  </label>\n                  <label className=\"form-control\">{customerDetails.tin}</label>\n                </div>\n\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Occupation\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.occupation}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Res. Address\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.residentialAddress}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Ghana Post GPS\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.ghanaPostGPS}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Phone Number\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.phone}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Nationality\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.nationality}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Place of Birth\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.placeOfBirth}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Residence\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.residence}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Marital Status\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.maritalStatus}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Name of Spouse\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.nameOfSpouse}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Phone of Spouse\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.phoneOfSpouse}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Occupation of Spouse\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.occupationOfSpouse}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Religion\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.religion}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Place of Worship\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.placeOfWorship}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Name of Pastor /Imam/Priest\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.leaderOfPlaceOfWorship}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label\n                    for=\"inputEmail4\"\n                    className=\"form-label label custlabel\"\n                  >\n                    Contact of Pastor/Imam/Priest\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.contactOfPlaceOfWorship}\n                  </label>\n                </div>\n\n                <div className=\"col-md-3\">\n                  <label for=\"inputEmail4\" class=\"form-label label custlabel\">\n                    Date Entry Made\n                  </label>\n                  <label className=\"form-control\">\n                    {moment(customerDetails.dateCreated).format('DD-MMM-YYYY')}\n                  </label>\n                </div>\n                <div className=\"col-md-3\">\n                  <label for=\"inputEmail4\" class=\"form-label label custlabel\">\n                    Authorisation Status\n                  </label>\n                  <label className=\"form-control\">\n                    {customerDetails.status}\n                  </label>\n                </div>\n                <div className=\"row justify-content-center\">\n                  <button\n                    type=\"submit\"\n                    className=\"button col-md-2 m-5\"\n                    onClick={() => window.print()}\n                  >\n                    Print\n                  </button>\n                  <button\n                    className=\"button col-md-2 m-5\"\n                    onClick={EditCustomer}\n                  >\n                    Edit\n                  </button>\n                  {user.userRole === 'Admin' && (\n                    <button\n                      className=\"button col-md-2 m-5\"\n                      onClick={handleApprove}\n                    >\n                      Approve\n                    </button>\n                  )}\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  //return <>{customerDetails.fullName}</>;\n}\n\nexport default CustomerView\n"]},"metadata":{},"sourceType":"module"}