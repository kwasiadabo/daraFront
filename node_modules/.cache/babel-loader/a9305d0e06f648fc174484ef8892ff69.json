{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/userRoles.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\nimport moment from 'moment';\nimport momentBusinessDays from 'moment-business-days';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\n\nfunction UserRoles() {\n  var _this = this;\n\n  var _useState = useState({\n    role: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userRoles = _useState2[0],\n      setUserRoles = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      roles = _useState4[0],\n      setRoles = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editMode = _useState6[0],\n      setEditMode = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      render = _useState8[0],\n      setRender = _useState8[1];\n\n  useEffect(function () {\n    function getUserRoles() {\n      return _getUserRoles.apply(this, arguments);\n    }\n\n    function _getUserRoles() {\n      _getUserRoles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(baseUrl.apiUrl + '/setup/userroles');\n\n              case 2:\n                results = _context.sent;\n                setRoles(results.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getUserRoles.apply(this, arguments);\n    }\n\n    getUserRoles();\n  }, [render]);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              //console.log(userRoles);\n              e.preventDefault();\n              _context2.prev = 1;\n              _context2.next = 4;\n              return axios.post(baseUrl.apiUrl + '/setup/userroles', userRoles);\n\n            case 4:\n              results = _context2.sent;\n\n              if (!(results.status !== 200)) {\n                _context2.next = 9;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('OOPS', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'User Role Saved Successfully', 'success');\n              setUserRoles({\n                role: ''\n              });\n              setRender(!render);\n\n            case 12:\n              _context2.next = 17;\n              break;\n\n            case 14:\n              _context2.prev = 14;\n              _context2.t0 = _context2[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context2.t0, 'error');\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 14]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleOnEdit = function handleOnEdit(p) {\n    console.log(p);\n    setEditMode(true);\n    setUserRoles(p); //setDisabled(!disabled);\n  };\n\n  var handleUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(userRoles);\n\n              if (!(userRoles.role !== '')) {\n                _context3.next = 21;\n                break;\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios.put(baseUrl.apiUrl + '/setup/userroles', userRoles);\n\n            case 5:\n              results = _context3.sent;\n\n              if (!(results.status !== 200)) {\n                _context3.next = 10;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 10:\n              Swal.fire('Success', 'User role Updated Successfully', 'success');\n              setUserRoles({\n                role: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 14:\n              _context3.next = 19;\n              break;\n\n            case 16:\n              _context3.prev = 16;\n              _context3.t0 = _context3[\"catch\"](2);\n              Swal.fire('OOPS ! ' + _context3.t0.message, 'error');\n\n            case 19:\n              _context3.next = 22;\n              break;\n\n            case 21:\n              return _context3.abrupt(\"return\", Swal.fire('OOPS', 'Enter all Details !', 'error'));\n\n            case 22:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 16]]);\n    }));\n\n    return function handleUpdate(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(userRoles.role !== '')) {\n                _context4.next = 20;\n                break;\n              }\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.delete(baseUrl.apiUrl + '/setup/userroles/' + userRoles.id);\n\n            case 4:\n              results = _context4.sent;\n\n              if (!(results.status !== 200)) {\n                _context4.next = 9;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'User Role Deleted Successfully', 'success');\n              setUserRoles({\n                role: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 13:\n              _context4.next = 18;\n              break;\n\n            case 15:\n              _context4.prev = 15;\n              _context4.t0 = _context4[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context4.t0.message, 'error');\n\n            case 18:\n              _context4.next = 21;\n              break;\n\n            case 20:\n              return _context4.abrupt(\"return\", Swal.fire('OOPS', 'Select a Branch !', 'error'));\n\n            case 21:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 15]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 4\n    }\n  }, \"User role refers to the set of permissions and access levels assigned to a particular type of user within an application or system. These roles define what actions a user can perform, what features they can access, and how they interact with the software. User roles help ensure security, manage permissions, and organize the user experience based on responsibilities or needs.\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"branch\",\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }\n  }, \"User Roles\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    id: \"branch\",\n    value: userRoles.role,\n    onChange: function onChange(e) {\n      return setUserRoles(_objectSpread(_objectSpread({}, userRoles), {}, {\n        role: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 4\n    }\n  }, !editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-primary col-sm-2 mt-3 btn-sm\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 6\n    }\n  }, \"Submit\") : null, editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn-sm m-3 col-sm-2\",\n    color: \"success\",\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 6\n    }\n  }, \"Update\") : null, editMode && /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-danger col-sm-2 m-3 btn-sm\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 6\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Table, {\n    className: \"sm mt-3 table-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }, \"User Roles\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 5\n    }\n  }, roles.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      Style: \"cursor: pointer;\",\n      onClick: function onClick() {\n        return handleOnEdit(c);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 8\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 8\n      }\n    }, c.role));\n  }))));\n}\n\nexport default UserRoles;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/userRoles.jsx"],"names":["React","useState","useEffect","axios","Joi","moment","momentBusinessDays","baseUrl","auth","Swal","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","UserRoles","role","userRoles","setUserRoles","roles","setRoles","editMode","setEditMode","render","setRender","getUserRoles","get","apiUrl","results","data","handleSubmit","e","preventDefault","post","status","fire","handleOnEdit","p","console","log","handleUpdate","put","message","handleDelete","delete","id","currentTarget","value","map","c","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\nimport moment from 'moment';\nimport momentBusinessDays from 'moment-business-days';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport {\n\tCBadge,\n\tCCard,\n\tCCardBody,\n\t//CCardHeader,\n\tCCol,\n\tCDataTable,\n\tCRow,\n\tCButton,\n\tCModal,\n\tCModalFooter,\n\tCModalHeader,\n\tCModalBody,\n\tCCardHeader,\n\tCInputGroupAppend,\n\tCInputGroupPrepend,\n\tCDropdownItem,\n\tCForm,\n\t//CCardFooter,\n\tCDropdownToggle,\n\t//CInputRadio,\n\tCDropdown,\n\tCModalTitle,\n\t//CFormText,\n\t//CTextarea,\n\tCFormGroup,\n\tCLabel,\n\t// CSwitch,\n\tCInput,\n\t//CInputFile,\n\tCSelect,\n\tCDropdownMenu,\n\t//CCardFooter,\n\tCInputGroup,\n\t//CForm,\n} from '@coreui/react';\nimport {\n\tRow,\n\tCol,\n\tTable,\n\tProgress,\n\tButton,\n\tUncontrolledButtonDropdown,\n\tDropdownMenu,\n\tDropdownToggle,\n\tDropdownItem,\n\tInput,\n\tLabel,\n\tBadge,\n} from 'reactstrap';\nfunction UserRoles() {\n\tconst [userRoles, setUserRoles] = useState({\n\t\trole: '',\n\t});\n\tconst [roles, setRoles] = useState([]);\n\tconst [editMode, setEditMode] = useState(false);\n\tconst [render, setRender] = useState(false);\n\n\tuseEffect(() => {\n\t\tasync function getUserRoles() {\n\t\t\tconst results = await axios.get(baseUrl.apiUrl + '/setup/userroles');\n\t\t\tsetRoles(results.data);\n\t\t}\n\t\tgetUserRoles();\n\t}, [render]);\n\n\tconst handleSubmit = async (e) => {\n\t\t//console.log(userRoles);\n\t\te.preventDefault();\n\n\t\ttry {\n\t\t\tconst results = await axios.post(\n\t\t\t\tbaseUrl.apiUrl + '/setup/userroles',\n\t\t\t\tuserRoles\n\t\t\t);\n\n\t\t\tif (results.status !== 200) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'OOPS',\n\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tSwal.fire('Success', 'User Role Saved Successfully', 'success');\n\t\t\t\tsetUserRoles({\n\t\t\t\t\trole: '',\n\t\t\t\t});\n\t\t\t\tsetRender(!render);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tSwal.fire('OOPS ! ' + err, 'error');\n\t\t}\n\t};\n\n\tconst handleOnEdit = (p) => {\n\t\tconsole.log(p);\n\t\tsetEditMode(true);\n\t\tsetUserRoles(p);\n\t\t//setDisabled(!disabled);\n\t};\n\n\tconst handleUpdate = async (e) => {\n\t\tconsole.log(userRoles);\n\t\tif (userRoles.role !== '') {\n\t\t\ttry {\n\t\t\t\tconst results = await axios.put(\n\t\t\t\t\tbaseUrl.apiUrl + '/setup/userroles',\n\t\t\t\t\tuserRoles\n\t\t\t\t);\n\t\t\t\tif (results.status !== 200) {\n\t\t\t\t\treturn Swal.fire(\n\t\t\t\t\t\t'OOPS !',\n\t\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire('Success', 'User role Updated Successfully', 'success');\n\t\t\t\t\tsetUserRoles({\n\t\t\t\t\t\trole: '',\n\t\t\t\t\t});\n\t\t\t\t\tsetEditMode(false);\n\t\t\t\t\tsetRender(!render);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tSwal.fire('OOPS ! ' + err.message, 'error');\n\t\t\t}\n\t\t} else {\n\t\t\treturn Swal.fire('OOPS', 'Enter all Details !', 'error');\n\t\t}\n\t};\n\n\tconst handleDelete = async () => {\n\t\tif (userRoles.role !== '') {\n\t\t\ttry {\n\t\t\t\tconst results = await axios.delete(\n\t\t\t\t\tbaseUrl.apiUrl + '/setup/userroles/' + userRoles.id\n\t\t\t\t);\n\t\t\t\tif (results.status !== 200) {\n\t\t\t\t\treturn Swal.fire(\n\t\t\t\t\t\t'OOPS !',\n\t\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire('Success', 'User Role Deleted Successfully', 'success');\n\t\t\t\t\tsetUserRoles({\n\t\t\t\t\t\trole: '',\n\t\t\t\t\t});\n\t\t\t\t\tsetEditMode(false);\n\t\t\t\t\tsetRender(!render);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tSwal.fire('OOPS ! ' + err.message, 'error');\n\t\t\t}\n\t\t} else {\n\t\t\treturn Swal.fire('OOPS', 'Select a Branch !', 'error');\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"container-fluid\">\n\t\t\t<p className=\"staffp\">\n\t\t\t\tUser role refers to the set of permissions and access levels assigned to\n\t\t\t\ta particular type of user within an application or system. These roles\n\t\t\t\tdefine what actions a user can perform, what features they can access,\n\t\t\t\tand how they interact with the software. User roles help ensure\n\t\t\t\tsecurity, manage permissions, and organize the user experience based on\n\t\t\t\tresponsibilities or needs.\n\t\t\t</p>\n\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t<CLabel htmlFor=\"branch\" className=\"col-sm-2\">\n\t\t\t\t\tUser Roles\n\t\t\t\t</CLabel>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\tid=\"branch\"\n\t\t\t\t\tvalue={userRoles.role}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUserRoles({\n\t\t\t\t\t\t\t...userRoles,\n\t\t\t\t\t\t\trole: e.currentTarget.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</CInputGroup>\n\n\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t{!editMode ? (\n\t\t\t\t\t<CButton\n\t\t\t\t\t\tclassName=\"btn btn-primary col-sm-2 mt-3 btn-sm\"\n\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</CButton>\n\t\t\t\t) : null}\n\t\t\t\t{editMode ? (\n\t\t\t\t\t<CButton\n\t\t\t\t\t\tclassName=\"btn-sm m-3 col-sm-2\"\n\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\tonClick={handleUpdate}\n\t\t\t\t\t>\n\t\t\t\t\t\tUpdate\n\t\t\t\t\t</CButton>\n\t\t\t\t) : null}\n\n\t\t\t\t{editMode && (\n\t\t\t\t\t<CButton\n\t\t\t\t\t\tclassName=\"btn btn-danger col-sm-2 m-3 btn-sm\"\n\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</CButton>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Table className=\"sm mt-3 table-sm\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr className=\"fs-sm\">\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t<th>User Roles</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{roles.map((c, index) => (\n\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\tkey={c.id}\n\t\t\t\t\t\t\tStyle=\"cursor: pointer;\"\n\t\t\t\t\t\t\tonClick={() => handleOnEdit(c)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<td>{index + 1}</td>\n\t\t\t\t\t\t\t<td>{c.role}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t))}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</div>\n\t);\n}\n\nexport default UserRoles;\n"]},"metadata":{},"sourceType":"module"}