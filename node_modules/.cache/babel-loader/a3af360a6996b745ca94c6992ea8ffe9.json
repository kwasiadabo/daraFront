{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import moment from'moment';import baseUrl from'../../config.json';import auth from'../../components/services/authService';import Joi from'joi-browser';import Swal from'sweetalert2';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';var Associations=function Associations(){var _useState=useState({association:''}),_useState2=_slicedToArray(_useState,2),association=_useState2[0],setAssociation=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),associationData=_useState4[0],setAssociationData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];useEffect(function(){function getAssociations(){return _getAssociations.apply(this,arguments);}function _getAssociations(){_getAssociations=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(baseUrl.apiUrl+'/setup/association');case 2:results=_context.sent;setAssociationData(results.data);//console.log(customers);\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return _getAssociations.apply(this,arguments);}getAssociations();},[associationData]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(baseUrl.apiUrl+'/setup/association',association);case 3:results=_context2.sent;if(!(results.status!==200)){_context2.next=8;break;}return _context2.abrupt(\"return\",Swal.fire('Failed','Submission Failed ! Check Entries and try again !','error'));case 8:Swal.fire('Success','Association/Group Saved Successfully','success');setAssociation({association:''});case 10:_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);Swal.fire('Error','OOPS ! '+_context2.t0.message,'error');case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleSearch=function handleSearch(event){setSearch(event.target.value);};var data={sAssociation:associationData.filter(function(item){return item.association.toLowerCase().includes(search.toLowerCase());})};var staffView=function staffView(s){console.log(s);};var dataTouse=search.length===0?associationData:data.sAssociation;return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 mt-3\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"centertext\"},\"Group/Association\"),/*#__PURE__*/React.createElement(\"p\",{className:\"staffp\"},\"People and their behaviors are what deliver results to your organization. Not systems, not processes, not computers, not machines.\",' ',/*#__PURE__*/React.createElement(\"br\",null),\"\\\"Mark Hortsman\\\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"centreStaff row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(CButton,{type:\"submit\",className:\"btn btn-success btn-block col-sm-3 float-right btn-sm\",onClick:function onClick(){return setShow(!show);}},\"+ Setup New Association/Group\"),/*#__PURE__*/React.createElement(CInput,{className:\"mt-3 mb-3 col-4\",type:\"text\",placeholder:\"Search with Staff Name or Phone\",onChange:handleSearch}),/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"fs-sm\"},/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Association/Group\"))),/*#__PURE__*/React.createElement(\"tbody\",null,dataTouse.map(function(s,index){return/*#__PURE__*/React.createElement(\"tr\",{key:s._id,onClick:function onClick(){return staffView(s);}},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,s.association));})))),/*#__PURE__*/React.createElement(CModal,{show:show,onClose:function onClose(){setShow(!show);},color:\"success\",size:\"md\"},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},/*#__PURE__*/React.createElement(CModalTitle,null,\"SETUP | ADD ASSOCIATION/GROUP \")),/*#__PURE__*/React.createElement(CModalBody,null,/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"fullName\",className:\"form-Label col-sm-4\"},\"Association / Group\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"fullName\",value:association.association,onChange:function onChange(e){return setAssociation(_objectSpread(_objectSpread({},association),{},{association:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3 mb-3\"},/*#__PURE__*/React.createElement(CButton,{className:\"btn btn-danger col-sm-3 mt-3 float-right btn-md\",onClick:handleSubmit},\"Submit\")))))));};export default Associations;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/customerAssociations.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","moment","baseUrl","auth","Joi","Swal","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","Associations","association","setAssociation","associationData","setAssociationData","search","setSearch","show","setShow","getAssociations","get","apiUrl","results","data","handleSubmit","post","status","fire","message","handleSearch","event","target","value","sAssociation","filter","item","toLowerCase","includes","staffView","s","console","log","dataTouse","length","map","index","_id","e","currentTarget"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,WAAf,CAA4BC,QAA5B,KAA4C,kBAA5C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uCAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CAEA,OACEC,MADF,CAEEC,KAFF,CAGEC,SACA;AAJF,CAKEC,IALF,CAMEC,UANF,CAOEC,IAPF,CAQEC,OARF,CASEC,MATF,CAUEC,YAVF,CAWEC,YAXF,CAYEC,UAZF,CAaEC,WAbF,CAcEC,iBAdF,CAeEC,kBAfF,CAgBEC,aAhBF,CAiBEC,KACA;AAlBF,CAmBEC,eACA;AApBF,CAqBEC,SArBF,CAsBEC,WACA;AACA;AAxBF,CAyBEC,UAzBF,CA0BEC,MACA;AA3BF,CA4BEC,MACA;AA7BF,CA8BEC,OA9BF,CA+BEC,aACA;AAhCF,CAiCEC,WACA;AAlCF,KAmCO,eAnCP,CAqCA,OACEC,GADF,CAEEC,GAFF,CAGEC,KAHF,CAIEC,QAJF,CAKEC,MALF,CAMEC,0BANF,CAOEC,YAPF,CAQEC,cARF,CASEC,YATF,CAUEC,KAVF,CAWEC,KAXF,CAYEC,KAZF,KAaO,YAbP,CAeA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,eACahD,QAAQ,CAAC,CAC7CiD,WAAW,CAAE,EADgC,CAAD,CADrB,wCAClBA,WADkB,eACLC,cADK,8BAIqBlD,QAAQ,CAAC,EAAD,CAJ7B,yCAIlBmD,eAJkB,eAIDC,kBAJC,8BAKGpD,QAAQ,CAAC,EAAD,CALX,yCAKlBqD,MALkB,eAKVC,SALU,8BAMDtD,QAAQ,CAAC,KAAD,CANP,yCAMlBuD,IANkB,eAMZC,OANY,eAQzBvD,SAAS,CAAC,UAAM,SACCwD,CAAAA,eADD,uJACd,qKACwBpD,CAAAA,KAAK,CAACqD,GAAN,CAAUnD,OAAO,CAACoD,MAAR,CAAiB,oBAA3B,CADxB,QACQC,OADR,eAEER,kBAAkB,CAACQ,OAAO,CAACC,IAAT,CAAlB,CACA;AAHF,sDADc,kDAMdJ,eAAe,GAChB,CAPQ,CAON,CAACN,eAAD,CAPM,CAAT,CASA,GAAMW,CAAAA,YAAY,0FAAG,4LAEKzD,CAAAA,KAAK,CAAC0D,IAAN,CACpBxD,OAAO,CAACoD,MAAR,CAAiB,oBADG,CAEpBV,WAFoB,CAFL,QAEXW,OAFW,qBAObA,OAAO,CAACI,MAAR,GAAmB,GAPN,4DAQRtD,IAAI,CAACuD,IAAL,CACL,QADK,CAEL,mDAFK,CAGL,OAHK,CARQ,SAcfvD,IAAI,CAACuD,IAAL,CAAU,SAAV,CAAqB,sCAArB,CAA6D,SAA7D,EACAf,cAAc,CAAC,CACbD,WAAW,CAAE,EADA,CAAD,CAAd,CAfe,6FAoBjBvC,IAAI,CAACuD,IAAL,CAAU,OAAV,CAAmB,UAAY,aAAIC,OAAnC,CAA4C,OAA5C,EApBiB,uEAAH,kBAAZJ,CAAAA,YAAY,0CAAlB,CAuBA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9Bd,SAAS,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAT,CACD,CAFD,CAIA,GAAMT,CAAAA,IAAI,CAAG,CACXU,YAAY,CAAEpB,eAAe,CAACqB,MAAhB,CAAuB,SAACC,IAAD,QACnCA,CAAAA,IAAI,CAACxB,WAAL,CAAiByB,WAAjB,GAA+BC,QAA/B,CAAwCtB,MAAM,CAACqB,WAAP,EAAxC,CADmC,EAAvB,CADH,CAAb,CAMA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,CAAD,CAAO,CACvBC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CAFD,CAIA,GAAMG,CAAAA,SAAS,CAAG3B,MAAM,CAAC4B,MAAP,GAAkB,CAAlB,CAAsB9B,eAAtB,CAAwCU,IAAI,CAACU,YAA/D,CACA,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,0BAAI,SAAS,CAAC,YAAd,sBADF,cAEE,yBAAG,SAAS,CAAC,QAAb,uIAEyE,GAFzE,cAGE,8BAHF,qBAFF,cASE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,OAAD,EACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,uDAFZ,CAGE,OAAO,CAAE,yBAAMf,CAAAA,OAAO,CAAC,CAACD,IAAF,CAAb,EAHX,kCADF,cAQE,oBAAC,MAAD,EACE,SAAS,CAAC,iBADZ,CAEE,IAAI,CAAC,MAFP,CAGE,WAAW,CAAC,iCAHd,CAIE,QAAQ,CAAEY,YAJZ,EARF,cAcE,oBAAC,KAAD,mBACE,8CACE,0BAAI,SAAS,CAAC,OAAd,eACE,8BADF,cAEE,kDAFF,CADF,CADF,cAOE,iCACGa,SAAS,CAACE,GAAV,CAAc,SAACL,CAAD,CAAIM,KAAJ,qBACb,0BAAI,GAAG,CAAEN,CAAC,CAACO,GAAX,CAAgB,OAAO,CAAE,yBAAMR,CAAAA,SAAS,CAACC,CAAD,CAAf,EAAzB,eACE,8BAAKM,KAAK,CAAG,CAAb,CADF,cAEE,8BAAKN,CAAC,CAAC5B,WAAP,CAFF,CADa,EAAd,CADH,CAPF,CAdF,CADF,cAiCE,oBAAC,MAAD,EACE,IAAI,CAAEM,IADR,CAEE,OAAO,CAAE,kBAAM,CACbC,OAAO,CAAC,CAACD,IAAF,CAAP,CACD,CAJH,CAKE,KAAK,CAAC,SALR,CAME,IAAI,CAAC,IANP,eAQE,oBAAC,YAAD,EAAc,WAAW,KAAzB,eACE,oBAAC,WAAD,uCADF,CARF,cAWE,oBAAC,UAAD,mBACE,oBAAC,UAAD,mBACE,oBAAC,WAAD,EAAa,SAAS,CAAC,MAAvB,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,UAAhB,CAA2B,SAAS,CAAC,qBAArC,wBADF,cAIE,oBAAC,MAAD,EACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,uBAFZ,CAGE,EAAE,CAAC,UAHL,CAIE,KAAK,CAAEN,WAAW,CAACA,WAJrB,CAKE,QAAQ,CAAE,kBAACoC,CAAD,QACRnC,CAAAA,cAAc,gCACTD,WADS,MAEZA,WAAW,CAAEoC,CAAC,CAACC,aAAF,CAAgBhB,KAFjB,GADN,EALZ,EAJF,CADF,cAmBE,2BAAK,SAAS,CAAC,yCAAf,eACE,oBAAC,OAAD,EACE,SAAS,CAAC,iDADZ,CAEE,OAAO,CAAER,YAFX,WADF,CAnBF,CADF,CAXF,CAjCF,CATF,CADF,CAwFD,CA/ID,CAiJA,cAAed,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Joi from 'joi-browser'\nimport Swal from 'sweetalert2'\n\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\n\nconst Associations = () => {\n  const [association, setAssociation] = useState({\n    association: '',\n  })\n  const [associationData, setAssociationData] = useState([])\n  const [search, setSearch] = useState('')\n  const [show, setShow] = useState(false)\n\n  useEffect(() => {\n    async function getAssociations() {\n      const results = await axios.get(baseUrl.apiUrl + '/setup/association')\n      setAssociationData(results.data)\n      //console.log(customers);\n    }\n    getAssociations()\n  }, [associationData])\n\n  const handleSubmit = async () => {\n    try {\n      const results = await axios.post(\n        baseUrl.apiUrl + '/setup/association',\n        association,\n      )\n\n      if (results.status !== 200) {\n        return Swal.fire(\n          'Failed',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Success', 'Association/Group Saved Successfully', 'success')\n        setAssociation({\n          association: '',\n        })\n      }\n    } catch (err) {\n      Swal.fire('Error', 'OOPS ! ' + err.message, 'error')\n    }\n  }\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const data = {\n    sAssociation: associationData.filter((item) =>\n      item.association.toLowerCase().includes(search.toLowerCase()),\n    ),\n  }\n\n  const staffView = (s) => {\n    console.log(s)\n  }\n\n  const dataTouse = search.length === 0 ? associationData : data.sAssociation\n  return (\n    <div className=\"col-sm-12 mt-3\">\n      <h1 className=\"centertext\">Group/Association</h1>\n      <p className=\"staffp\">\n        People and their behaviors are what deliver results to your\n        organization. Not systems, not processes, not computers, not machines.{' '}\n        <br />\n        \"Mark Hortsman\"\n      </p>\n\n      <div className=\"centreStaff row \">\n        <div className=\"table-responsive\">\n          <CButton\n            type=\"submit\"\n            className=\"btn btn-success btn-block col-sm-3 float-right btn-sm\"\n            onClick={() => setShow(!show)}\n          >\n            + Setup New Association/Group\n          </CButton>\n          <CInput\n            className=\"mt-3 mb-3 col-4\"\n            type=\"text\"\n            placeholder=\"Search with Staff Name or Phone\"\n            onChange={handleSearch}\n          />\n          <Table>\n            <thead>\n              <tr className=\"fs-sm\">\n                <th></th>\n                <th>Association/Group</th>\n              </tr>\n            </thead>\n            <tbody>\n              {dataTouse.map((s, index) => (\n                <tr key={s._id} onClick={() => staffView(s)}>\n                  <td>{index + 1}</td>\n                  <td>{s.association}</td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n\n        <CModal\n          show={show}\n          onClose={() => {\n            setShow(!show)\n          }}\n          color=\"success\"\n          size=\"md\"\n        >\n          <CModalHeader closeButton>\n            <CModalTitle>SETUP | ADD ASSOCIATION/GROUP </CModalTitle>\n          </CModalHeader>\n          <CModalBody>\n            <CFormGroup>\n              <CInputGroup className=\"mt-3\">\n                <CLabel htmlFor=\"fullName\" className=\"form-Label col-sm-4\">\n                  Association / Group\n                </CLabel>\n                <CInput\n                  type=\"text\"\n                  className=\"form-control col-sm-8\"\n                  id=\"fullName\"\n                  value={association.association}\n                  onChange={(e) =>\n                    setAssociation({\n                      ...association,\n                      association: e.currentTarget.value,\n                    })\n                  }\n                />\n              </CInputGroup>\n\n              <div className=\"d-flex justify-content-center mt-3 mb-3\">\n                <CButton\n                  className=\"btn btn-danger col-sm-3 mt-3 float-right btn-md\"\n                  onClick={handleSubmit}\n                >\n                  Submit\n                </CButton>\n              </div>\n            </CFormGroup>\n          </CModalBody>\n        </CModal>\n      </div>\n    </div>\n  )\n}\n\nexport default Associations\n"]},"metadata":{},"sourceType":"module"}