{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/branches.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Joi from 'joi-browser';\nimport moment from 'moment';\nimport momentBusinessDays from 'moment-business-days';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\n\nfunction Branches() {\n  var _this = this;\n\n  var _useState = useState({\n    branch: '',\n    location: '',\n    gps: '',\n    phone: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      branch = _useState2[0],\n      setBranch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      branches = _useState4[0],\n      setBranches = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editMode = _useState6[0],\n      setEditMode = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      render = _useState8[0],\n      setRender = _useState8[1];\n\n  useEffect(function () {\n    function getBranches() {\n      return _getBranches.apply(this, arguments);\n    }\n\n    function _getBranches() {\n      _getBranches = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(baseUrl.apiUrl + '/setup/branch');\n\n              case 2:\n                results = _context.sent;\n                setBranches(results.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getBranches.apply(this, arguments);\n    }\n\n    getBranches();\n  }, [render]);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              console.log(branch);\n              e.preventDefault();\n              _context2.prev = 2;\n              _context2.next = 5;\n              return axios.post(baseUrl.apiUrl + '/setup/branch', branch);\n\n            case 5:\n              results = _context2.sent;\n\n              if (!(results.status !== 200)) {\n                _context2.next = 10;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('OOPS', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 10:\n              Swal.fire('Success', 'Branch Saved Successfully', 'success');\n              setBranch({\n                branch: '',\n                location: '',\n                gps: '',\n                phone: ''\n              });\n              setRender(!render);\n\n            case 13:\n              _context2.next = 18;\n              break;\n\n            case 15:\n              _context2.prev = 15;\n              _context2.t0 = _context2[\"catch\"](2);\n              Swal.fire('OOPS ! ' + _context2.t0, 'error');\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[2, 15]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleOnEdit = function handleOnEdit(p) {\n    setEditMode(true);\n    setBranch({\n      branch: p.branch,\n      location: p.location,\n      gps: p.GPS,\n      phone: p.phone,\n      id: p.id\n    }); //setDisabled(!disabled);\n  };\n\n  var handleUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log(branch);\n\n              if (!(branch.branch !== '')) {\n                _context3.next = 21;\n                break;\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios.put(baseUrl.apiUrl + '/setup/branch', branch);\n\n            case 5:\n              results = _context3.sent;\n\n              if (!(results.status !== 200)) {\n                _context3.next = 10;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 10:\n              Swal.fire('Success', 'Branch Updated Successfully', 'success');\n              setBranch({\n                branch: '',\n                location: '',\n                gps: '',\n                phone: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 14:\n              _context3.next = 19;\n              break;\n\n            case 16:\n              _context3.prev = 16;\n              _context3.t0 = _context3[\"catch\"](2);\n              Swal.fire('OOPS ! ' + _context3.t0.message, 'error');\n\n            case 19:\n              _context3.next = 22;\n              break;\n\n            case 21:\n              return _context3.abrupt(\"return\", Swal.fire('OOPS', 'Enter all Details !', 'error'));\n\n            case 22:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 16]]);\n    }));\n\n    return function handleUpdate(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(branch.branch !== '')) {\n                _context4.next = 20;\n                break;\n              }\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.delete(baseUrl.apiUrl + '/setup/branch/' + branch.id);\n\n            case 4:\n              results = _context4.sent;\n\n              if (!(results.status !== 200)) {\n                _context4.next = 9;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'Branch Deleted Successfully', 'success');\n              setBranch({\n                branch: '',\n                location: '',\n                gps: '',\n                phone: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 13:\n              _context4.next = 18;\n              break;\n\n            case 15:\n              _context4.prev = 15;\n              _context4.t0 = _context4[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context4.t0.message, 'error');\n\n            case 18:\n              _context4.next = 21;\n              break;\n\n            case 20:\n              return _context4.abrupt(\"return\", Swal.fire('OOPS', 'Select a Branch !', 'error'));\n\n            case 21:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 15]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, \"A branch of a company can offer visibility and brand exposure which can positively influence a company's profits. A branch office can also reduce the risk of doing business in the host country by allowing the opportunity to test products in new markets.\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"branch\",\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    id: \"branch\",\n    value: branch.branch,\n    onChange: function onChange(e) {\n      return setBranch(_objectSpread(_objectSpread({}, branch), {}, {\n        branch: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"location\",\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    id: \"location\",\n    value: branch.location,\n    onChange: function onChange(e) {\n      return setBranch(_objectSpread(_objectSpread({}, branch), {}, {\n        location: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"gps\",\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }, \"Ghana Post GPS\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    id: \"gps\",\n    value: branch.gps,\n    onChange: function onChange(e) {\n      return setBranch(_objectSpread(_objectSpread({}, branch), {}, {\n        gps: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"phone\",\n    className: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, \"Phone\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-8\",\n    id: \"phone\",\n    value: branch.phone,\n    onChange: function onChange(e) {\n      return setBranch(_objectSpread(_objectSpread({}, branch), {}, {\n        phone: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }, !editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-primary col-sm-2 mt-3 btn-sm\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, \"Submit\") : null, editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn-sm m-3 col-sm-2\",\n    color: \"success\",\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 11\n    }\n  }, \"Update\") : null, editMode && /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-danger col-sm-2 m-3 btn-sm\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 11\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Table, {\n    className: \"sm mt-3 table-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 13\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 13\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }\n  }, \"GPS\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, \"Phone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }\n  }, branches.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      Style: \"cursor: pointer;\",\n      onClick: function onClick() {\n        return handleOnEdit(c);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 15\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }, c.branch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }\n    }, c.location), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 15\n      }\n    }, c.GPS), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 15\n      }\n    }, c.phone));\n  }))));\n}\n\nexport default Branches;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/branches.js"],"names":["React","useState","useEffect","axios","Joi","moment","momentBusinessDays","baseUrl","auth","Swal","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","Branches","branch","location","gps","phone","setBranch","branches","setBranches","editMode","setEditMode","render","setRender","getBranches","get","apiUrl","results","data","handleSubmit","e","console","log","preventDefault","post","status","fire","handleOnEdit","p","GPS","id","handleUpdate","put","message","handleDelete","delete","currentTarget","value","map","c","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Joi from 'joi-browser'\nimport moment from 'moment'\nimport momentBusinessDays from 'moment-business-days'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nfunction Branches() {\n  const [branch, setBranch] = useState({\n    branch: '',\n    location: '',\n    gps: '',\n    phone: '',\n  })\n  const [branches, setBranches] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [render, setRender] = useState(false)\n\n  useEffect(() => {\n    async function getBranches() {\n      const results = await axios.get(baseUrl.apiUrl + '/setup/branch')\n      setBranches(results.data)\n    }\n    getBranches()\n  }, [render])\n  const handleSubmit = async (e) => {\n    console.log(branch)\n    e.preventDefault()\n\n    try {\n      const results = await axios.post(baseUrl.apiUrl + '/setup/branch', branch)\n\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPS',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Success', 'Branch Saved Successfully', 'success')\n        setBranch({\n          branch: '',\n          location: '',\n          gps: '',\n          phone: '',\n        })\n        setRender(!render)\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ' + err, 'error')\n    }\n  }\n\n  const handleOnEdit = (p) => {\n    setEditMode(true)\n    setBranch({\n      branch: p.branch,\n      location: p.location,\n      gps: p.GPS,\n      phone: p.phone,\n      id: p.id,\n    })\n    //setDisabled(!disabled);\n  }\n\n  const handleUpdate = async (e) => {\n    console.log(branch)\n    if (branch.branch !== '') {\n      try {\n        const results = await axios.put(\n          baseUrl.apiUrl + '/setup/branch',\n          branch,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Branch Updated Successfully', 'success')\n          setBranch({\n            branch: '',\n            location: '',\n            gps: '',\n            phone: '',\n          })\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Enter all Details !', 'error')\n    }\n  }\n\n  const handleDelete = async () => {\n    if (branch.branch !== '') {\n      try {\n        const results = await axios.delete(\n          baseUrl.apiUrl + '/setup/branch/' + branch.id,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Branch Deleted Successfully', 'success')\n          setBranch({\n            branch: '',\n            location: '',\n            gps: '',\n            phone: '',\n          })\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Select a Branch !', 'error')\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <p className=\"staffp\">\n        A branch of a company can offer visibility and brand exposure which can\n        positively influence a company's profits. A branch office can also\n        reduce the risk of doing business in the host country by allowing the\n        opportunity to test products in new markets.\n      </p>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"branch\" className=\"col-sm-2\">\n          Branch\n        </CLabel>\n        <CInput\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          id=\"branch\"\n          value={branch.branch}\n          onChange={(e) =>\n            setBranch({\n              ...branch,\n              branch: e.currentTarget.value,\n            })\n          }\n        />\n      </CInputGroup>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"location\" className=\"col-sm-2\">\n          Location\n        </CLabel>\n        <CInput\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          id=\"location\"\n          value={branch.location}\n          onChange={(e) =>\n            setBranch({\n              ...branch,\n              location: e.currentTarget.value,\n            })\n          }\n        />\n      </CInputGroup>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"gps\" className=\"col-sm-2\">\n          Ghana Post GPS\n        </CLabel>\n        <CInput\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          id=\"gps\"\n          value={branch.gps}\n          onChange={(e) =>\n            setBranch({\n              ...branch,\n              gps: e.currentTarget.value,\n            })\n          }\n        />\n      </CInputGroup>\n      <CInputGroup className=\"mt-3\">\n        <CLabel htmlFor=\"phone\" className=\"col-sm-2\">\n          Phone\n        </CLabel>\n        <CInput\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          id=\"phone\"\n          value={branch.phone}\n          onChange={(e) =>\n            setBranch({\n              ...branch,\n              phone: e.currentTarget.value,\n            })\n          }\n        />\n      </CInputGroup>\n\n      <div className=\"row justify-content-center\">\n        {!editMode ? (\n          <CButton\n            className=\"btn btn-primary col-sm-2 mt-3 btn-sm\"\n            onClick={handleSubmit}\n          >\n            Submit\n          </CButton>\n        ) : null}\n        {editMode ? (\n          <CButton\n            className=\"btn-sm m-3 col-sm-2\"\n            color=\"success\"\n            onClick={handleUpdate}\n          >\n            Update\n          </CButton>\n        ) : null}\n\n        {editMode && (\n          <CButton\n            className=\"btn btn-danger col-sm-2 m-3 btn-sm\"\n            onClick={handleDelete}\n          >\n            Delete\n          </CButton>\n        )}\n      </div>\n      <Table className=\"sm mt-3 table-sm\">\n        <thead>\n          <tr className=\"fs-sm\">\n            <th></th>\n            <th>Branch</th>\n            <th>Location</th>\n            <th>GPS</th>\n            <th>Phone</th>\n          </tr>\n        </thead>\n        <tbody>\n          {branches.map((c, index) => (\n            <tr\n              key={c.id}\n              Style=\"cursor: pointer;\"\n              onClick={() => handleOnEdit(c)}\n            >\n              <td>{index + 1}</td>\n              <td>{c.branch}</td>\n              <td>{c.location}</td>\n              <td>{c.GPS}</td>\n              <td>{c.phone}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default Branches\n"]},"metadata":{},"sourceType":"module"}