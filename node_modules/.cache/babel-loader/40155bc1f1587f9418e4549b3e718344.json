{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/setup/Login.js\";\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useHistory } from 'react-router-dom';\nimport auth from '../../components/services/authService';\nimport Joi from 'joi-browser';\nimport { CButton, CCard, CCardBody, CCardGroup, CCol, CContainer, CForm, CInput, CInputGroup, CInputGroupPrepend, CInputGroupText, CRow } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\n\nvar Login = function Login() {\n  var _useState = useState({\n    username: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var history = useHistory();\n  var schemaMap = {\n    username: Joi.string().required().label('Username Field'),\n    password: Joi.string().required().label('Password Field')\n  };\n  var schema = Joi.object(schemaMap);\n\n  var validateForm = function validateForm() {\n    var result = Joi.validate(formData, schema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    } //toast.error(result.error.details[0].message);\n\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var username, password, validate;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(formData);\n              console.log('this is the one at setup');\n              _context.prev = 2;\n              username = formData.username, password = formData.password;\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('Validation', validate, 'error'));\n\n            case 7:\n              _context.next = 9;\n              return auth.login(username, password);\n\n            case 9:\n              history.push('/home');\n              _context.next = 16;\n              break;\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](2);\n\n              if (!(_context.t0.response && _context.t0.response.status === 400)) {\n                _context.next = 16;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('Fatal :', _context.t0.response.data, 'error'));\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 12]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c-app c-default-layout flex-row align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    className: \"p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CForm, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Sign In to your account- Adabo\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-user\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    placeholder: \"Username\",\n    autoComplete: \"username\",\n    value: formData.email,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        username: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-lock-locked\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(CInput, {\n    type: \"password\",\n    placeholder: \"Password\",\n    autoComplete: \"current-password\",\n    value: formData.password,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    xs: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    color: \"primary\",\n    className: \"px-4\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(CCol, {\n    xs: \"6\",\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    color: \"link\",\n    className: \"px-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, \"Forgot password?\")))))), /*#__PURE__*/React.createElement(CCard, {\n    className: \"text-white bg-primary py-5 d-md-down-none\",\n    style: {\n      width: '44%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"Sign up\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"If You Encounter Any Challengies, Kindly Contact The System Administrator\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    color: \"primary\",\n    className: \"mt-3\",\n    active: true,\n    tabIndex: -1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 23\n    }\n  }, \"Register Now!\"))))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/setup/Login.js"],"names":["React","useState","Link","Swal","useHistory","auth","Joi","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CIcon","Login","username","password","formData","setFormData","history","schemaMap","string","required","label","schema","object","validateForm","result","validate","error","details","message","handleSubmit","console","log","fire","login","push","response","status","data","email","e","currentTarget","value","width"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,IAAP,MAAiB,uCAAjB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AAEA,SACEC,OADF,EAEEC,KAFF,EAGEC,SAHF,EAIEC,UAJF,EAKEC,IALF,EAMEC,UANF,EAOEC,KAPF,EAQEC,MARF,EASEC,WATF,EAUEC,kBAVF,EAWEC,eAXF,EAYEC,IAZF,QAaO,eAbP;AAcA,OAAOC,KAAP,MAAkB,qBAAlB;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAAA,kBACcnB,QAAQ,CAAC;AACvCoB,IAAAA,QAAQ,EAAE,EAD6B;AAEvCC,IAAAA,QAAQ,EAAE;AAF6B,GAAD,CADtB;AAAA;AAAA,MACXC,QADW;AAAA,MACDC,WADC;;AAKlB,MAAIC,OAAO,GAAGrB,UAAU,EAAxB;AAEA,MAAMsB,SAAS,GAAG;AAChBL,IAAAA,QAAQ,EAAEf,GAAG,CAACqB,MAAJ,GAAaC,QAAb,GAAwBC,KAAxB,CAA8B,gBAA9B,CADM;AAEhBP,IAAAA,QAAQ,EAAEhB,GAAG,CAACqB,MAAJ,GAAaC,QAAb,GAAwBC,KAAxB,CAA8B,gBAA9B;AAFM,GAAlB;AAKA,MAAMC,MAAM,GAAGxB,GAAG,CAACyB,MAAJ,CAAWL,SAAX,CAAf;;AAEA,MAAMM,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,QAAMC,MAAM,GAAG3B,GAAG,CAAC4B,QAAJ,CAAaX,QAAb,EAAuBO,MAAvB,CAAf;;AACA,QAAIG,MAAM,CAACE,KAAX,EAAkB;AAChB,aAAOF,MAAM,CAACE,KAAP,CAAaC,OAAb,CAAqB,CAArB,EAAwBC,OAA/B;AACD,KAFD,MAEO;AACL,aAAO,IAAP;AACD,KANwB,CAOzB;;AACD,GARD;;AAUA,MAAMC,YAAY;AAAA,wEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBC,cAAAA,OAAO,CAACC,GAAR,CAAYjB,QAAZ;AACAgB,cAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AAFmB;AAITnB,cAAAA,QAJS,GAIcE,QAJd,CAITF,QAJS,EAICC,QAJD,GAIcC,QAJd,CAICD,QAJD;AAKXY,cAAAA,QALW,GAKAF,YAAY,EALZ;;AAAA,oBAMbE,QAAQ,KAAK,IANA;AAAA;AAAA;AAAA;;AAAA,+CAOR/B,IAAI,CAACsC,IAAL,CAAU,YAAV,EAAwBP,QAAxB,EAAkC,OAAlC,CAPQ;;AAAA;AAAA;AAAA,qBASX7B,IAAI,CAACqC,KAAL,CAAWrB,QAAX,EAAqBC,QAArB,CATW;;AAAA;AAUjBG,cAAAA,OAAO,CAACkB,IAAR,CAAa,OAAb;AAViB;AAAA;;AAAA;AAAA;AAAA;;AAAA,oBAYb,YAAGC,QAAH,IAAe,YAAGA,QAAH,CAAYC,MAAZ,KAAuB,GAZzB;AAAA;AAAA;AAAA;;AAAA,+CAaR1C,IAAI,CAACsC,IAAL,CAAU,SAAV,EAAqB,YAAGG,QAAH,CAAYE,IAAjC,EAAuC,OAAvC,CAbQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAZR,YAAY;AAAA;AAAA;AAAA,KAAlB;;AAkBA,sBACE;AAAK,IAAA,SAAS,EAAC,oDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,wBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAFF,eAGE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,eAME,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,YAAY,EAAC,UAHf;AAIE,IAAA,KAAK,EAAEf,QAAQ,CAACwB,KAJlB;AAKE,IAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,aACRxB,WAAW,iCACND,QADM;AAETF,QAAAA,QAAQ,EAAE2B,CAAC,CAACC,aAAF,CAAgBC;AAFjB,SADH;AAAA,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAHF,eAsBE,oBAAC,WAAD;AAAa,IAAA,SAAS,EAAC,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,iBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,CADF,eAME,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,YAAY,EAAC,kBAHf;AAIE,IAAA,KAAK,EAAE3B,QAAQ,CAACD,QAJlB;AAKE,IAAA,QAAQ,EAAE,kBAAC0B,CAAD;AAAA,aACRxB,WAAW,iCACND,QADM;AAETD,QAAAA,QAAQ,EAAE0B,CAAC,CAACC,aAAF,CAAgBC;AAFjB,SADH;AAAA,KALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CAtBF,eAyCE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,OAAO,EAAEZ,YAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADF,eAUE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,GAAT;AAAa,IAAA,SAAS,EAAC,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,EAAC,MAAf;AAAsB,IAAA,SAAS,EAAC,MAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CAVF,CAzCF,CADF,CADF,CADF,eA+DE,oBAAC,KAAD;AACE,IAAA,SAAS,EAAC,2CADZ;AAEE,IAAA,KAAK,EAAE;AAAEa,MAAAA,KAAK,EAAE;AAAT,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE,oBAAC,SAAD;AAAW,IAAA,SAAS,EAAC,aAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iFAFF,eAME,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,WAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AACE,IAAA,KAAK,EAAC,SADR;AAEE,IAAA,SAAS,EAAC,MAFZ;AAGE,IAAA,MAAM,MAHR;AAIE,IAAA,QAAQ,EAAE,CAAC,CAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CANF,CADF,CAJF,CA/DF,CADF,CADF,CADF,CADF,CADF;AAkGD,CA5ID;;AA8IA,eAAe/B,KAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport Swal from 'sweetalert2'\nimport { useHistory } from 'react-router-dom'\nimport auth from '../../components/services/authService'\nimport Joi from 'joi-browser'\n\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow,\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n  })\n  let history = useHistory()\n\n  const schemaMap = {\n    username: Joi.string().required().label('Username Field'),\n    password: Joi.string().required().label('Password Field'),\n  }\n\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(formData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n    //toast.error(result.error.details[0].message);\n  }\n\n  const handleSubmit = async () => {\n    console.log(formData)\n    console.log('this is the one at setup')\n    try {\n      const { username, password } = formData\n      const validate = validateForm()\n      if (validate !== null) {\n        return Swal.fire('Validation', validate, 'error')\n      }\n      await auth.login(username, password)\n      history.push('/home')\n    } catch (ex) {\n      if (ex.response && ex.response.status === 400) {\n        return Swal.fire('Fatal :', ex.response.data, 'error')\n      }\n    }\n  }\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account- Adabo</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput\n                        type=\"text\"\n                        placeholder=\"Username\"\n                        autoComplete=\"username\"\n                        value={formData.email}\n                        onChange={(e) =>\n                          setFormData({\n                            ...formData,\n                            username: e.currentTarget.value,\n                          })\n                        }\n                      />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        autoComplete=\"current-password\"\n                        value={formData.password}\n                        onChange={(e) =>\n                          setFormData({\n                            ...formData,\n                            password: e.currentTarget.value,\n                          })\n                        }\n                      />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton\n                          color=\"primary\"\n                          className=\"px-4\"\n                          onClick={handleSubmit}\n                        >\n                          Login\n                        </CButton>\n                      </CCol>\n                      <CCol xs=\"6\" className=\"text-right\">\n                        <CButton color=\"link\" className=\"px-0\">\n                          Forgot password?\n                        </CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n              <CCard\n                className=\"text-white bg-primary py-5 d-md-down-none\"\n                style={{ width: '44%' }}\n              >\n                <CCardBody className=\"text-center\">\n                  <div>\n                    <h2>Sign up</h2>\n                    <p>\n                      If You Encounter Any Challengies, Kindly Contact The\n                      System Administrator\n                    </p>\n                    <Link to=\"/register\">\n                      <CButton\n                        color=\"primary\"\n                        className=\"mt-3\"\n                        active\n                        tabIndex={-1}\n                      >\n                        Register Now!\n                      </CButton>\n                    </Link>\n                  </div>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}