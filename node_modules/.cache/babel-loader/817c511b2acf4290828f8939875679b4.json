{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/userAccount.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Swal from 'sweetalert2';\nimport { apiUrl } from '../../config.json';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\n\nfunction UserAccount(props) {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState({\n    username: '',\n    name: '',\n    role: '',\n    branch: branch\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      allAccounts = _useState6[0],\n      setAllAccounts = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      roles = _useState8[0],\n      setRoles = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      allStaff = _useState10[0],\n      setAllStaff = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      branch = _useState12[0],\n      setBranch = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      editMode = _useState14[0],\n      setEditMode = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      regShow = _useState16[0],\n      setRegShow = _useState16[1];\n\n  var _useState17 = useState({\n    username: '',\n    password: 'pass1234',\n    staff: 0,\n    branch: 0,\n    userRole: ''\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      userAccount = _useState18[0],\n      setUserAccount = _useState18[1];\n\n  useEffect(function () {\n    function getStaff() {\n      return _getStaff.apply(this, arguments);\n    }\n\n    function _getStaff() {\n      _getStaff = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var staff;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(apiUrl + '/setup/staff');\n\n              case 2:\n                staff = _context.sent;\n                setAllStaff(staff.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getStaff.apply(this, arguments);\n    }\n\n    getStaff();\n  }, []);\n  useEffect(function () {\n    function getUserRoles() {\n      return _getUserRoles.apply(this, arguments);\n    }\n\n    function _getUserRoles() {\n      _getUserRoles = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(apiUrl + '/setup/userroles');\n\n              case 2:\n                results = _context2.sent;\n                setRoles(results.data);\n                console.log(results.data);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _getUserRoles.apply(this, arguments);\n    }\n\n    getUserRoles();\n  }, []);\n  useEffect(function () {\n    function getBranch() {\n      return _getBranch.apply(this, arguments);\n    }\n\n    function _getBranch() {\n      _getBranch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var branch, allUserAccounts;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return axios.get(apiUrl + '/setup/branch');\n\n              case 2:\n                branch = _context3.sent;\n                _context3.next = 5;\n                return axios.get(apiUrl + '/users/useraccounts');\n\n              case 5:\n                allUserAccounts = _context3.sent;\n                setBranch(branch.data);\n                setAllAccounts(allUserAccounts.data); //\tconsole.log(allUserAccounts);\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n      return _getBranch.apply(this, arguments);\n    }\n\n    getBranch();\n    genPassword();\n  }, []);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              e.preventDefault(); // console.log(userAccount)\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.post(apiUrl + '/setup/user', userAccount);\n\n            case 4:\n              results = _context4.sent;\n\n              if (!(results.status !== 200)) {\n                _context4.next = 9;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", Swal.fire('Failed', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'User Account Created Successfully', 'success');\n              Swal.fire('Default Password', 'Default Password: ' + userAccount.password + ' : Change this on your first login.', 'info');\n              setUserAccount({\n                username: '',\n                password: 'pass1234',\n                userRole: '',\n                branch: 0,\n                staff: 0\n              });\n\n            case 12:\n              _context4.next = 17;\n              break;\n\n            case 14:\n              _context4.prev = 14;\n              _context4.t0 = _context4[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context4.t0, 'error');\n\n            case 17:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 14]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handlePasswordReset = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return axios.put(apiUrl + '/setup/user/' + id, {\n                password: 'pass1234'\n              });\n\n            case 3:\n              results = _context5.sent;\n\n              if (!(results.status !== 200)) {\n                _context5.next = 8;\n                break;\n              }\n\n              return _context5.abrupt(\"return\", Swal.fire('Failed', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 8:\n              Swal.fire('Success', 'Account Reset Successfully', 'success');\n              Swal.fire('Default Password', 'Default Password: ' + 'pass1234' + ' : Change this on your first login.', 'info');\n              setUserAccount({\n                username: '',\n                password: 'pass1234',\n                userRole: '',\n                branch: 0,\n                staff: 0\n              });\n\n            case 11:\n              _context5.next = 16;\n              break;\n\n            case 13:\n              _context5.prev = 13;\n              _context5.t0 = _context5[\"catch\"](0);\n              Swal.fire('OOPS ! ' + _context5.t0, 'error');\n\n            case 16:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 13]]);\n    }));\n\n    return function handlePasswordReset(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  function genPassword() {\n    var chars = '123456789abcdefghijklmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n    var passwordLength = 8;\n    var tempPassword = '';\n\n    for (var i = 0; i <= passwordLength; i++) {\n      var randomNumber = Math.floor(Math.random() * chars.length);\n      tempPassword += chars.substring(randomNumber, randomNumber + 1);\n    }\n\n    setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n      password: 'pass1234' // confirmPassword: tempPassword,\n\n    }));\n  }\n\n  var handleBackup = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return axios.post(apiUrl + '/backup', {\n                db: 'Daraplus'\n              });\n\n            case 2:\n              results = _context6.sent;\n\n              if (!(results.status !== 200)) {\n                _context6.next = 7;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", Swal.fire('Backup Failed', 'Db Back Failed ! try again !', 'error'));\n\n            case 7:\n              Swal.fire('Success', 'Backup Completed Successfully', 'success');\n\n            case 8:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function handleBackup() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleOnEdit = function handleOnEdit(p) {\n    setEditMode(true);\n    setUserAccount({// nameOfStaff: p.nameOfStaff,\n      // phone: p.phone,\n      // dob: new Date(p.dob).toISOString().slice(0, 10),\n      // dateEmployed: new Date(p.dateEmployed).toISOString().slice(0, 10),\n      // qualification: p.qualification,\n      // guarantorOne: p.guarantorOne,\n      // guarantorOnePhone: p.guarantorOnePhone,\n      // guarantorTwo: p.guarantorTwo,\n      // guarantorTwoPhone: p.guarantorTwoPhone,\n      // id: p.id,\n    }); //setShow(!show);\n    //setDisabled(!disabled);\n  };\n\n  var handleSearch = function handleSearch(event) {\n    setSearch(event.target.value);\n  };\n\n  var data = {\n    sAccounts: allAccounts.filter(function (item) {\n      return item.nameOfStaff.toLowerCase().includes(search.toLowerCase());\n    })\n  };\n  var dataTouse = search.length === 0 ? allAccounts : data.sAccounts;\n\n  var getSelectedUser = function getSelectedUser(s) {\n    setRegShow(true);\n    setUser({\n      username: s.username,\n      name: s.nameOfStaff,\n      role: s.userRole,\n      branch: s.branch\n    });\n    console.log(s);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centertext\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 4\n    }\n  }, \"Setup User Accounts\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 4\n    }\n  }, \"A user account is an established technique for connecting a user and an information service and/or computer network. User accounts determine whether or not a user can connect to a computer, network or similar networks.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"phoneworship\",\n    className: \"form-label col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 5\n    }\n  }, \"FullName\"), /*#__PURE__*/React.createElement(CSelect, {\n    className: \"col-sm-6\",\n    \"aria-label\": \"Default select example\",\n    value: userAccount.staff,\n    onChange: function onChange(e) {\n      return setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        staff: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 6\n    }\n  }, \"--Select Officer--\"), allStaff.map(function (s) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: s.id,\n      value: s.id,\n      id: s.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }\n    }, s.nameOfStaff);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    className: \"form-label col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 5\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"col-sm-6\",\n    id: \"username\",\n    value: userAccount.username,\n    onChange: function onChange(e) {\n      return setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        username: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"gender\",\n    className: \"form-label col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 5\n    }\n  }, \"User Role\"), /*#__PURE__*/React.createElement(CSelect, {\n    className: \"col-sm-6\",\n    \"aria-label\": \"Default select example\",\n    value: userAccount.userRole,\n    onChange: function onChange(e) {\n      setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        userRole: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 6\n    }\n  }, \"--Select User Role--\"), roles.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 7\n      }\n    }, b.role);\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"branch\",\n    className: \"form-label col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 5\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(CSelect, {\n    className: \"col-sm-6\",\n    \"aria-label\": \"Default select example\",\n    value: userAccount.branch,\n    onChange: function onChange(e) {\n      setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        branch: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 6\n    }\n  }, \"--Select Branch--\"), branch.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 7\n      }\n    }, b.branch);\n  }))), /*#__PURE__*/React.createElement(CButton, {\n    className: \"col-sm-3 mt-3 btn-sm float-right mb-3\",\n    color: \"success\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 4\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(CButton, {\n    color: \"danger\",\n    className: \"btn-sm\",\n    onClick: handleBackup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 4\n    }\n  }, \"DB Backup\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 8\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 8\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 8\n    }\n  }, \"Role\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 8\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 8\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 6\n    }\n  }, dataTouse.map(function (s, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: s.id,\n      Style: \"cursor: pointer;\",\n      onClick: function onClick() {\n        return handleOnEdit(s);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 9\n      }\n    }, s.nameOfStaff), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 9\n      }\n    }, s.username), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }\n    }, s.userRole), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 9\n      }\n    }, s.branch), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CDropdown, {\n      className: \"btn-sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(CDropdownToggle, {\n      color: \"info\",\n      size: \"sm\",\n      onClick: null,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }\n    }, \"Select Action\"), /*#__PURE__*/React.createElement(CDropdownMenu, {\n      size: \"sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CDropdownItem, {\n      onClick: function onClick() {\n        return handlePasswordReset(s.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 12\n      }\n    }, \"Reset\"), /*#__PURE__*/React.createElement(CDropdownItem, {\n      onClick: function onClick() {\n        return getSelectedUser(s);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 12\n      }\n    }, \"Changes\")))));\n  })))), /*#__PURE__*/React.createElement(CModal, {\n    className: \"modal fade col-sm-12\",\n    size: \"lg\",\n    show: regShow,\n    color: \"warning\",\n    \"data-backdrop\": \"static\",\n    \"data-keyboard\": \"false\",\n    onClose: function onClose() {\n      setRegShow(!regShow);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CModalHeader, {\n    className: \"modal-header\",\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"centertext\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }\n  }, \"Change Username\"))), /*#__PURE__*/React.createElement(CModalBody, {\n    className: \"modal-body col-sm-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"nameOfCustomer\",\n    className: \"col-sm-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }\n  }, \"Name of Staff\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    className: \"form-control-xl mb-2 mt-2 input-lg\",\n    value: user.name,\n    readOnly: true //onChange={handleCustomerSelected}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"bank\",\n    className: \"col-sm-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    id: \"bank\",\n    className: \"form-control\",\n    \"aria-label\": \"Default select example\",\n    value: user.username,\n    onChange: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"bankAccount\",\n    className: \"col-sm-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 458,\n      columnNumber: 7\n    }\n  }, \"User Role\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CSelect, {\n    className: \"col-sm-12\",\n    \"aria-label\": \"Default select example\",\n    value: user.role,\n    onChange: function onChange(e) {\n      setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        userRole: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: user.role,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 9\n    }\n  }, user.role), roles.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 10\n      }\n    }, b.role);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"col-sm-3 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }\n  }, \"Branch\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CSelect, {\n    className: \"col-sm-12\",\n    \"aria-label\": \"Default select example\",\n    value: userAccount.branch,\n    onChange: function onChange(e) {\n      setUserAccount(_objectSpread(_objectSpread({}, userAccount), {}, {\n        branch: e.currentTarget.value\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: user.branch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 9\n    }\n  }, user.branch), branch.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 10\n      }\n    }, b.branch);\n  }))))), /*#__PURE__*/React.createElement(CModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justify-content-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    onClick: null,\n    className: \"m-3\",\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 7\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(CButton, {\n    onClick: function onClick() {\n      return setRegShow(false);\n    },\n    className: \"m-3\",\n    color: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }\n  }, \"Close\")))));\n}\n\nexport default UserAccount;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/userAccount.js"],"names":["React","useState","useEffect","axios","moment","Swal","apiUrl","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","UserAccount","props","search","setSearch","username","name","role","branch","user","setUser","allAccounts","setAllAccounts","roles","setRoles","allStaff","setAllStaff","setBranch","editMode","setEditMode","regShow","setRegShow","password","staff","userRole","userAccount","setUserAccount","getStaff","get","data","getUserRoles","results","console","log","getBranch","allUserAccounts","genPassword","handleSubmit","e","preventDefault","post","status","fire","handlePasswordReset","id","put","chars","passwordLength","tempPassword","i","randomNumber","Math","floor","random","length","substring","handleBackup","db","handleOnEdit","p","handleSearch","event","target","value","sAccounts","filter","item","nameOfStaff","toLowerCase","includes","dataTouse","getSelectedUser","s","currentTarget","map","b","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Swal from 'sweetalert2';\nimport { apiUrl } from '../../config.json';\n\nimport {\n\tCBadge,\n\tCCard,\n\tCCardBody,\n\t//CCardHeader,\n\tCCol,\n\tCDataTable,\n\tCRow,\n\tCButton,\n\tCModal,\n\tCModalFooter,\n\tCModalHeader,\n\tCModalBody,\n\tCCardHeader,\n\tCInputGroupAppend,\n\tCInputGroupPrepend,\n\tCDropdownItem,\n\tCForm,\n\t//CCardFooter,\n\tCDropdownToggle,\n\t//CInputRadio,\n\tCDropdown,\n\tCModalTitle,\n\t//CFormText,\n\t//CTextarea,\n\tCFormGroup,\n\tCLabel,\n\t// CSwitch,\n\tCInput,\n\t//CInputFile,\n\tCSelect,\n\tCDropdownMenu,\n\t//CCardFooter,\n\tCInputGroup,\n\t//CForm,\n} from '@coreui/react';\nimport {\n\tRow,\n\tCol,\n\tTable,\n\tProgress,\n\tButton,\n\tUncontrolledButtonDropdown,\n\tDropdownMenu,\n\tDropdownToggle,\n\tDropdownItem,\n\tInput,\n\tLabel,\n\tBadge,\n} from 'reactstrap';\n\nfunction UserAccount(props) {\n\tconst [search, setSearch] = useState('');\n\tconst [user, setUser] = useState({\n\t\tusername: '',\n\t\tname: '',\n\t\trole: '',\n\t\tbranch,\n\t});\n\tconst [allAccounts, setAllAccounts] = useState([]);\n\tconst [roles, setRoles] = useState([]);\n\tconst [allStaff, setAllStaff] = useState([]);\n\tconst [branch, setBranch] = useState([]);\n\tconst [editMode, setEditMode] = useState(false);\n\tconst [regShow, setRegShow] = useState(false);\n\tconst [userAccount, setUserAccount] = useState({\n\t\tusername: '',\n\t\tpassword: 'pass1234',\n\t\tstaff: 0,\n\t\tbranch: 0,\n\t\tuserRole: '',\n\t});\n\n\tuseEffect(() => {\n\t\tasync function getStaff() {\n\t\t\tconst staff = await axios.get(apiUrl + '/setup/staff');\n\t\t\tsetAllStaff(staff.data);\n\t\t}\n\t\tgetStaff();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tasync function getUserRoles() {\n\t\t\tconst results = await axios.get(apiUrl + '/setup/userroles');\n\t\t\tsetRoles(results.data);\n\t\t\tconsole.log(results.data);\n\t\t}\n\t\tgetUserRoles();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tasync function getBranch() {\n\t\t\tconst branch = await axios.get(apiUrl + '/setup/branch');\n\t\t\tconst allUserAccounts = await axios.get(apiUrl + '/users/useraccounts');\n\t\t\tsetBranch(branch.data);\n\t\t\tsetAllAccounts(allUserAccounts.data);\n\t\t\t//\tconsole.log(allUserAccounts);\n\t\t}\n\t\tgetBranch();\n\n\t\tgenPassword();\n\t}, []);\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault();\n\t\t// console.log(userAccount)\n\t\ttry {\n\t\t\tconst results = await axios.post(apiUrl + '/setup/user', userAccount);\n\t\t\tif (results.status !== 200) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'Failed',\n\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tSwal.fire('Success', 'User Account Created Successfully', 'success');\n\t\t\t\tSwal.fire(\n\t\t\t\t\t'Default Password',\n\t\t\t\t\t'Default Password: ' +\n\t\t\t\t\t\tuserAccount.password +\n\t\t\t\t\t\t' : Change this on your first login.',\n\t\t\t\t\t'info'\n\t\t\t\t);\n\t\t\t\tsetUserAccount({\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: 'pass1234',\n\t\t\t\t\tuserRole: '',\n\t\t\t\t\tbranch: 0,\n\t\t\t\t\tstaff: 0,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tSwal.fire('OOPS ! ' + err, 'error');\n\t\t}\n\t};\n\n\tconst handlePasswordReset = async (id) => {\n\t\t//console.log(id);\n\n\t\ttry {\n\t\t\tconst results = await axios.put(apiUrl + '/setup/user/' + id, {\n\t\t\t\tpassword: 'pass1234',\n\t\t\t});\n\t\t\tif (results.status !== 200) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'Failed',\n\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tSwal.fire('Success', 'Account Reset Successfully', 'success');\n\t\t\t\tSwal.fire(\n\t\t\t\t\t'Default Password',\n\t\t\t\t\t'Default Password: ' +\n\t\t\t\t\t\t'pass1234' +\n\t\t\t\t\t\t' : Change this on your first login.',\n\t\t\t\t\t'info'\n\t\t\t\t);\n\t\t\t\tsetUserAccount({\n\t\t\t\t\tusername: '',\n\t\t\t\t\tpassword: 'pass1234',\n\t\t\t\t\tuserRole: '',\n\t\t\t\t\tbranch: 0,\n\t\t\t\t\tstaff: 0,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tSwal.fire('OOPS ! ' + err, 'error');\n\t\t}\n\t};\n\n\tfunction genPassword() {\n\t\tlet chars = '123456789abcdefghijklmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n\t\tlet passwordLength = 8;\n\t\tlet tempPassword = '';\n\t\tfor (let i = 0; i <= passwordLength; i++) {\n\t\t\tlet randomNumber = Math.floor(Math.random() * chars.length);\n\t\t\ttempPassword += chars.substring(randomNumber, randomNumber + 1);\n\t\t}\n\t\tsetUserAccount({\n\t\t\t...userAccount,\n\t\t\tpassword: 'pass1234',\n\t\t\t// confirmPassword: tempPassword,\n\t\t});\n\t}\n\tconst handleBackup = async () => {\n\t\tconst results = await axios.post(apiUrl + '/backup', {\n\t\t\tdb: 'Daraplus',\n\t\t});\n\t\tif (results.status !== 200) {\n\t\t\treturn Swal.fire(\n\t\t\t\t'Backup Failed',\n\t\t\t\t'Db Back Failed ! try again !',\n\t\t\t\t'error'\n\t\t\t);\n\t\t} else {\n\t\t\tSwal.fire('Success', 'Backup Completed Successfully', 'success');\n\t\t}\n\t};\n\tconst handleOnEdit = (p) => {\n\t\tsetEditMode(true);\n\t\tsetUserAccount({\n\t\t\t// nameOfStaff: p.nameOfStaff,\n\t\t\t// phone: p.phone,\n\t\t\t// dob: new Date(p.dob).toISOString().slice(0, 10),\n\t\t\t// dateEmployed: new Date(p.dateEmployed).toISOString().slice(0, 10),\n\t\t\t// qualification: p.qualification,\n\t\t\t// guarantorOne: p.guarantorOne,\n\t\t\t// guarantorOnePhone: p.guarantorOnePhone,\n\t\t\t// guarantorTwo: p.guarantorTwo,\n\t\t\t// guarantorTwoPhone: p.guarantorTwoPhone,\n\t\t\t// id: p.id,\n\t\t});\n\t\t//setShow(!show);\n\t\t//setDisabled(!disabled);\n\t};\n\tconst handleSearch = (event) => {\n\t\tsetSearch(event.target.value);\n\t};\n\n\tconst data = {\n\t\tsAccounts: allAccounts.filter((item) =>\n\t\t\titem.nameOfStaff.toLowerCase().includes(search.toLowerCase())\n\t\t),\n\t};\n\tconst dataTouse = search.length === 0 ? allAccounts : data.sAccounts;\n\n\tconst getSelectedUser = (s) => {\n\t\tsetRegShow(true);\n\t\tsetUser({\n\t\t\tusername: s.username,\n\t\t\tname: s.nameOfStaff,\n\t\t\trole: s.userRole,\n\t\t\tbranch: s.branch,\n\t\t});\n\t\tconsole.log(s);\n\t};\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<h1 className=\"centertext\">Setup User Accounts</h1>\n\t\t\t<p className=\"staffp mb-3\">\n\t\t\t\tA user account is an established technique for connecting a user and an\n\t\t\t\tinformation service and/or computer network. User accounts determine\n\t\t\t\twhether or not a user can connect to a computer, network or similar\n\t\t\t\tnetworks.\n\t\t\t</p>\n\t\t\t<div className=\"mb-3 row\">\n\t\t\t\t<label htmlFor=\"phoneworship\" className=\"form-label col-sm-2\">\n\t\t\t\t\tFullName\n\t\t\t\t</label>\n\t\t\t\t<CSelect\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tvalue={userAccount.staff}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\tstaff: e.currentTarget.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<option defaultValue=\"\">--Select Officer--</option>\n\t\t\t\t\t{allStaff.map((s) => (\n\t\t\t\t\t\t<option key={s.id} value={s.id} id={s.id}>\n\t\t\t\t\t\t\t{s.nameOfStaff}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</CSelect>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3 row\">\n\t\t\t\t<label htmlFor=\"username\" className=\"form-label col-sm-2\">\n\t\t\t\t\tUsername\n\t\t\t\t</label>\n\t\t\t\t<CInput\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tvalue={userAccount.username}\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\tusername: e.currentTarget.value,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3 row\">\n\t\t\t\t<label htmlFor=\"gender\" className=\"form-label col-sm-2\">\n\t\t\t\t\tUser Role\n\t\t\t\t</label>\n\t\t\t\t<CSelect\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tvalue={userAccount.userRole}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\tuserRole: e.currentTarget.value,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<option defaultValue=\"\">--Select User Role--</option>\n\t\t\t\t\t{roles.map((b) => (\n\t\t\t\t\t\t<option key={b.id} value={b.id} id={b.id}>\n\t\t\t\t\t\t\t{b.role}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t\t{/* // <option value=\"Admin\">Admin</option>\n\t\t\t\t\t// <option value=\"Loan Officer\">Loan Officer</option>\n\t\t\t\t\t// <option value=\"Supervisor\">Supervisor</option>\n\t\t\t\t\t// <option value=\"Recovery Officer\">Recovery Officer</option>\n\t\t\t\t\t//{' '} */}\n\t\t\t\t\t{/* <option value=\"Customer Service Officer\">\n\t\t\t\t\t\t// Customer Service Officer //{' '}\n\t\t\t\t\t</option>\n\t\t\t\t\t// <option value=\"Management\">Management</option> */}\n\t\t\t\t</CSelect>\n\t\t\t</div>\n\t\t\t<div className=\"mb-3 row\">\n\t\t\t\t<label htmlFor=\"branch\" className=\"form-label col-sm-2\">\n\t\t\t\t\tBranch\n\t\t\t\t</label>\n\t\t\t\t<CSelect\n\t\t\t\t\tclassName=\"col-sm-6\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tvalue={userAccount.branch}\n\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\tbranch: e.currentTarget.value,\n\t\t\t\t\t\t});\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<option defaultValue=\"\">--Select Branch--</option>\n\t\t\t\t\t{branch.map((b) => (\n\t\t\t\t\t\t<option key={b.id} value={b.id} id={b.id}>\n\t\t\t\t\t\t\t{b.branch}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t))}\n\t\t\t\t</CSelect>\n\t\t\t</div>\n\n\t\t\t<CButton\n\t\t\t\tclassName=\"col-sm-3 mt-3 btn-sm float-right mb-3\"\n\t\t\t\tcolor=\"success\"\n\t\t\t\tonClick={handleSubmit}\n\t\t\t>\n\t\t\t\tSubmit\n\t\t\t</CButton>\n\n\t\t\t<CButton color=\"danger\" className=\"btn-sm\" onClick={handleBackup}>\n\t\t\t\tDB Backup\n\t\t\t</CButton>\n\n\t\t\t<div>\n\t\t\t\t<Table>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className=\"fs-sm\">\n\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t<th>Username</th>\n\t\t\t\t\t\t\t<th>Role</th>\n\t\t\t\t\t\t\t<th>Branch</th>\n\t\t\t\t\t\t\t<th>Actions</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{dataTouse.map((s, index) => (\n\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\tkey={s.id}\n\t\t\t\t\t\t\t\tStyle=\"cursor: pointer;\"\n\t\t\t\t\t\t\t\tonClick={() => handleOnEdit(s)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<td>{index + 1}</td>\n\t\t\t\t\t\t\t\t<td>{s.nameOfStaff}</td>\n\t\t\t\t\t\t\t\t<td>{s.username}</td>\n\t\t\t\t\t\t\t\t<td>{s.userRole}</td>\n\t\t\t\t\t\t\t\t<td>{s.branch}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<CDropdown className=\"btn-sm\">\n\t\t\t\t\t\t\t\t\t\t<CDropdownToggle color=\"info\" size=\"sm\" onClick={null}>\n\t\t\t\t\t\t\t\t\t\t\tSelect Action\n\t\t\t\t\t\t\t\t\t\t</CDropdownToggle>\n\t\t\t\t\t\t\t\t\t\t<CDropdownMenu size=\"sm\">\n\t\t\t\t\t\t\t\t\t\t\t<CDropdownItem onClick={() => handlePasswordReset(s.id)}>\n\t\t\t\t\t\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t\t\t\t\t\t</CDropdownItem>\n\n\t\t\t\t\t\t\t\t\t\t\t<CDropdownItem onClick={() => getSelectedUser(s)}>\n\t\t\t\t\t\t\t\t\t\t\t\tChanges\n\t\t\t\t\t\t\t\t\t\t\t</CDropdownItem>\n\t\t\t\t\t\t\t\t\t\t</CDropdownMenu>\n\t\t\t\t\t\t\t\t\t</CDropdown>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</tbody>\n\t\t\t\t</Table>\n\t\t\t</div>\n\n\t\t\t<CModal\n\t\t\t\tclassName=\"modal fade col-sm-12\"\n\t\t\t\tsize=\"lg\"\n\t\t\t\tshow={regShow}\n\t\t\t\tcolor=\"warning\"\n\t\t\t\tdata-backdrop=\"static\"\n\t\t\t\tdata-keyboard=\"false\"\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetRegShow(!regShow);\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<CModalHeader className=\"modal-header\" closeButton>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<h3 className=\"centertext\">Change Username</h3>\n\t\t\t\t\t</p>\n\t\t\t\t</CModalHeader>\n\n\t\t\t\t<CModalBody className=\"modal-body col-sm-12\">\n\t\t\t\t\t<div class=\"mb-3 row\">\n\t\t\t\t\t\t<CLabel\n\t\t\t\t\t\t\thtmlFor=\"nameOfCustomer\"\n\t\t\t\t\t\t\tclassName=\"col-sm-3 col-form-label\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tName of Staff\n\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\tclassName=\"form-control-xl mb-2 mt-2 input-lg\"\n\t\t\t\t\t\t\t\tvalue={user.name}\n\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t//onChange={handleCustomerSelected}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-3 row\">\n\t\t\t\t\t\t<CLabel htmlFor=\"bank\" className=\"col-sm-3 col-form-label\">\n\t\t\t\t\t\t\tUsername\n\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\tid=\"bank\"\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\t\t\t\tvalue={user.username}\n\t\t\t\t\t\t\t\tonChange={null}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-3 row\">\n\t\t\t\t\t\t<CLabel htmlFor=\"bankAccount\" className=\"col-sm-3 col-form-label\">\n\t\t\t\t\t\t\tUser Role\n\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t<div class=\"col-sm-8\">\n\t\t\t\t\t\t\t<CSelect\n\t\t\t\t\t\t\t\tclassName=\"col-sm-12\"\n\t\t\t\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\t\t\t\tvalue={user.role}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\t\t\t\tuserRole: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option defaultValue={user.role}>{user.role}</option>\n\t\t\t\t\t\t\t\t{roles.map((b) => (\n\t\t\t\t\t\t\t\t\t<option key={b.id} value={b.id} id={b.id}>\n\t\t\t\t\t\t\t\t\t\t{b.role}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CSelect>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"mb-3 row\">\n\t\t\t\t\t\t<CLabel htmlFor=\"dateOnCheque\" className=\"col-sm-3 col-form-label\">\n\t\t\t\t\t\t\tBranch\n\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t<div className=\"col-sm-8\">\n\t\t\t\t\t\t\t<CSelect\n\t\t\t\t\t\t\t\tclassName=\"col-sm-12\"\n\t\t\t\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\t\t\t\tvalue={userAccount.branch}\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tsetUserAccount({\n\t\t\t\t\t\t\t\t\t\t...userAccount,\n\t\t\t\t\t\t\t\t\t\tbranch: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option defaultValue={user.branch}>{user.branch}</option>\n\t\t\t\t\t\t\t\t{branch.map((b) => (\n\t\t\t\t\t\t\t\t\t<option key={b.id} value={b.id} id={b.id}>\n\t\t\t\t\t\t\t\t\t\t{b.branch}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</CSelect>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</CModalBody>\n\n\t\t\t\t<CModalFooter>\n\t\t\t\t\t<div className=\"justify-content-center\">\n\t\t\t\t\t\t<CButton onClick={null} className=\"m-3\" color=\"success\">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\tonClick={() => setRegShow(false)}\n\t\t\t\t\t\t\tclassName=\"m-3\"\n\t\t\t\t\t\t\tcolor=\"danger\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</CButton>\n\t\t\t\t\t</div>\n\t\t\t\t</CModalFooter>\n\t\t\t</CModal>\n\t\t</div>\n\t);\n}\n\nexport default UserAccount;\n"]},"metadata":{},"sourceType":"module"}