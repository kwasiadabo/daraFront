{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import baseUrl from'../../config.json';import auth from'../../components/services/authService';import Swal from'sweetalert2';import moment from'moment';import{apiUrl}from'../../config.json';import Joi from'joi-browser';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';var BusinessDetails=function BusinessDetails(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({disbursementId:0,customer:0,businessName:'',yearsInBusiness:'',addressOfBusiness:'',phoneOfBusiness:'',dailySales:0,bank:'',bankLocation:'',businessPartner:'',estimatedAssetValue:0,typeOfStructure:''}),_useState4=_slicedToArray(_useState3,2),businessData=_useState4[0],setBusinessData=_useState4[1];/*const handlePrincipalEntry = (e) => {\n    setGuarantorData({\n      ...guarantorData,\n      principal: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }*/var schemaMap={disbursementId:Joi.number().required().label('Disbursement ID'),customer:Joi.number().required().label('Customer'),businessName:Joi.string().required().label('Name of Business'),yearsInBusiness:Joi.string().required().label('Years In Business'),addressOfBusiness:Joi.string().required().label('Address of Business'),phoneOfBusiness:Joi.string().required().label('Phone of Business'),dailySales:Joi.number().required().label('Daily Sales'),bank:Joi.string().allow('').label('Bank'),bankLocation:Joi.string().allow('').label('Bank Location'),businessPartner:Joi.string().allow('').label('Business Partner'),estimatedAssetValue:Joi.number().allow(0),typeOfStructure:Joi.string().required().label('Type of Structure')};var schema=Joi.object(schemaMap);var validateForm=function validateForm(){var result=Joi.validate(businessData,schema);if(result.error){return result.error.details[0].message;}else{return null;}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var validate,results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(businessData);validate=validateForm();if(!(validate!==null)){_context.next=4;break;}return _context.abrupt(\"return\",Swal.fire('Validation',validate,'error'));case 4:_context.prev=4;_context.next=7;return axios.put(apiUrl+'/loan/booking/businessdetails',businessData);case 7:results=_context.sent;if(!(results.status!==200)){_context.next=12;break;}return _context.abrupt(\"return\",Swal.fire('OOPs !','Submission Failed ! Check Entries and try again !','error'));case 12:Swal.fire('Good job!','Business Details Saved Successfully','success');setBusinessData({disbursementId:0,customer:0,businessName:'',yearsInBusiness:'',addressOfBusiness:'',phoneOfBusiness:'',dailySales:0,bank:'',bankLocation:'',businessPartner:'',estimatedAssetValue:0,typeOfStructure:''});case 14:_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](4);Swal.fire('OOPS ! ','Business Details NOT Saved','error');case 19:case\"end\":return _context.stop();}}},_callee,null,[[4,16]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"businessName\",className:\"col-sm-3\"},\"Busines Name\"),/*#__PURE__*/React.createElement(CInput,{name:\"businessName\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"businessName\",value:businessData.businessName,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{businessName:e.currentTarget.value,customer:props.customer,disbursementId:props.disbursementId}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"yearsInBusiness\",className:\"form-label col-sm-3\"},\"Years In Business\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"yearsInBusiness\",type:\"text\",className:\"form-control col-sm-4\",id:\"yearsInBusiness\",value:businessData.yearsInBusiness,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{yearsInBusiness:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"addressOfBusiness\",className:\"col-sm-3\"},\"Address Of Business\"),/*#__PURE__*/React.createElement(CInput,{name:\"addressOfBusiness\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"addressOfBusiness\",value:businessData.addressOfBusiness,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{addressOfBusiness:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"phoneOfBusiness\",className:\"col-sm-3\"},\"Phone of Busines\"),/*#__PURE__*/React.createElement(CInput,{className:\"form-select col-sm-4\",value:businessData.phoneOfBusiness,onChange:function onChange(e){setBusinessData(_objectSpread(_objectSpread({},businessData),{},{phoneOfBusiness:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dailySales\",className:\"col-sm-3\"},\"Daily Sales (GHC)\"),/*#__PURE__*/React.createElement(CInput,{name:\"dailySales\",autoComplete:\"off\",type:\"text\",className:\"col-sm-4\",id:\"dailySales\",value:businessData.dailySales,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{dailySales:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"bank\",className:\"col-sm-3\"},\"Bank\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"bank\",type:\"text\",className:\"col-sm-8\",id:\"bank\",value:businessData.bank,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{bank:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"bankLocation\",className:\"col-sm-3\"},\"Bank Location\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"bankLocation\",type:\"text\",className:\"col-sm-8\",id:\"bankLocation\",value:businessData.bankLocation,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{bankLocation:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"businessPartner\",className:\"col-sm-3\"},\"Business Partner\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"businessPartner\",type:\"text\",className:\"col-sm-8\",id:\"businessPartner\",value:businessData.businessPartner,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{businessPartner:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"estimatedAssetValue\",className:\"col-sm-3\"},\"Estimated Asset Value (GHC)\"),/*#__PURE__*/React.createElement(CInput,{className:\"col-sm-8\",\"aria-CLabel\":\"Default select example\",value:businessData.estimatedAssetValue,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{estimatedAssetValue:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"typeOfStructure\",className:\"col-sm-3\"},\"Type of Structure\"),/*#__PURE__*/React.createElement(CInput,{name:\"typeOfStructure\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"typeOfStructure\",value:businessData.typeOfStructure,onChange:function onChange(e){return setBusinessData(_objectSpread(_objectSpread({},businessData),{},{typeOfStructure:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(CButton,{onClick:handleSubmit,className:\"m-3 float-right\",color:\"success\"},\"Submit\")));};export default BusinessDetails;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/businessDetails.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","baseUrl","auth","Swal","moment","apiUrl","Joi","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","BusinessDetails","props","products","setProducts","disbursementId","customer","businessName","yearsInBusiness","addressOfBusiness","phoneOfBusiness","dailySales","bank","bankLocation","businessPartner","estimatedAssetValue","typeOfStructure","businessData","setBusinessData","schemaMap","number","required","label","string","allow","schema","object","validateForm","result","validate","error","details","message","handleSubmit","console","log","fire","put","results","status","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport moment from 'moment'\nimport { apiUrl } from '../../config.json'\nimport Joi from 'joi-browser'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst BusinessDetails = (props) => {\n  const [products, setProducts] = useState([])\n  const [businessData, setBusinessData] = useState({\n    disbursementId: 0,\n    customer: 0,\n    businessName: '',\n    yearsInBusiness: '',\n    addressOfBusiness: '',\n    phoneOfBusiness: '',\n    dailySales: 0,\n    bank: '',\n    bankLocation: '',\n    businessPartner: '',\n    estimatedAssetValue: 0,\n    typeOfStructure: '',\n  })\n\n  /*const handlePrincipalEntry = (e) => {\n    setGuarantorData({\n      ...guarantorData,\n      principal: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }*/\n\n  const schemaMap = {\n    disbursementId: Joi.number().required().label('Disbursement ID'),\n    customer: Joi.number().required().label('Customer'),\n    businessName: Joi.string().required().label('Name of Business'),\n    yearsInBusiness: Joi.string().required().label('Years In Business'),\n    addressOfBusiness: Joi.string().required().label('Address of Business'),\n    phoneOfBusiness: Joi.string().required().label('Phone of Business'),\n    dailySales: Joi.number().required().label('Daily Sales'),\n    bank: Joi.string().allow('').label('Bank'),\n    bankLocation: Joi.string().allow('').label('Bank Location'),\n    businessPartner: Joi.string().allow('').label('Business Partner'),\n    estimatedAssetValue: Joi.number().allow(0),\n    typeOfStructure: Joi.string().required().label('Type of Structure'),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(businessData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    console.log(businessData)\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.put(\n        apiUrl + '/loan/booking/businessdetails',\n        businessData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Business Details Saved Successfully', 'success')\n\n        setBusinessData({\n          disbursementId: 0,\n          customer: 0,\n          businessName: '',\n          yearsInBusiness: '',\n          addressOfBusiness: '',\n          phoneOfBusiness: '',\n          dailySales: 0,\n          bank: '',\n          bankLocation: '',\n          businessPartner: '',\n          estimatedAssetValue: 0,\n          typeOfStructure: '',\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ', 'Business Details NOT Saved', 'error')\n    }\n  }\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"businessName\" className=\"col-sm-3\">\n          Busines Name\n        </CLabel>\n        <CInput\n          name=\"businessName\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"businessName\"\n          value={businessData.businessName}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              businessName: e.currentTarget.value,\n              customer: props.customer,\n              disbursementId: props.disbursementId,\n            })\n          }\n        />\n      </div>\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"yearsInBusiness\" className=\"form-label col-sm-3\">\n          Years In Business\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"yearsInBusiness\"\n          type=\"text\"\n          className=\"form-control col-sm-4\"\n          id=\"yearsInBusiness\"\n          value={businessData.yearsInBusiness}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              yearsInBusiness: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"addressOfBusiness\" className=\"col-sm-3\">\n          Address Of Business\n        </CLabel>\n        <CInput\n          name=\"addressOfBusiness\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"addressOfBusiness\"\n          value={businessData.addressOfBusiness}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              addressOfBusiness: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"phoneOfBusiness\" className=\"col-sm-3\">\n          Phone of Busines\n        </CLabel>\n        <CInput\n          className=\"form-select col-sm-4\"\n          value={businessData.phoneOfBusiness}\n          onChange={(e) => {\n            setBusinessData({\n              ...businessData,\n              phoneOfBusiness: e.currentTarget.value,\n            })\n          }}\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"dailySales\" className=\"col-sm-3\">\n          Daily Sales (GHC)\n        </CLabel>\n        <CInput\n          name=\"dailySales\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-4\"\n          id=\"dailySales\"\n          value={businessData.dailySales}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              dailySales: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"bank\" className=\"col-sm-3\">\n          Bank\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"bank\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"bank\"\n          value={businessData.bank}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              bank: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"bankLocation\" className=\"col-sm-3\">\n          Bank Location\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"bankLocation\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"bankLocation\"\n          value={businessData.bankLocation}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              bankLocation: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"businessPartner\" className=\"col-sm-3\">\n          Business Partner\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"businessPartner\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"businessPartner\"\n          value={businessData.businessPartner}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              businessPartner: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"estimatedAssetValue\" className=\"col-sm-3\">\n          Estimated Asset Value (GHC)\n        </CLabel>\n        <CInput\n          className=\"col-sm-8\"\n          aria-CLabel=\"Default select example\"\n          value={businessData.estimatedAssetValue}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              estimatedAssetValue: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"typeOfStructure\" className=\"col-sm-3\">\n          Type of Structure\n        </CLabel>\n        <CInput\n          name=\"typeOfStructure\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"typeOfStructure\"\n          value={businessData.typeOfStructure}\n          onChange={(e) =>\n            setBusinessData({\n              ...businessData,\n              typeOfStructure: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n      <div className=\"justify-content-center\">\n        <CButton\n          onClick={handleSubmit}\n          className=\"m-3 float-right\"\n          color=\"success\"\n        >\n          Submit\n        </CButton>\n      </div>\n    </div>\n  )\n}\n\nexport default BusinessDetails\n"]},"metadata":{},"sourceType":"module"}