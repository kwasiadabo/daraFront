{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/issueLoanCheque.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Joi from 'joi-browser';\nimport CurrencyFormat from 'react-currency-format';\nimport Swal from 'sweetalert2';\nimport auth from '../../components/services/authService';\nimport { apiUrl } from '../../config.json';\nimport { reportUrl } from '../../config.json';\nimport AdaboSelect from 'react-select';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n, CLink } from '@coreui/react';\n\nvar IssuedCheque = function IssuedCheque() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeLoan = _useState4[0],\n      setActiveLoan = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      render = _useState6[0],\n      setRender = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      customers = _useState8[0],\n      setCustomers = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      chequeNumber = _useState10[0],\n      setChequeNumber = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      cheques = _useState12[0],\n      setCheques = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      buffer = _useState14[0],\n      setBuffer = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      banks = _useState16[0],\n      setBanks = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      bankAccounts = _useState18[0],\n      setBankAccounts = _useState18[1]; //const [user, setUser] = useState({})\n\n\n  var _useState19 = useState([]),\n      _useState20 = _slicedToArray(_useState19, 2),\n      issuedCheques = _useState20[0],\n      setIssuedCheques = _useState20[1]; //const [totalAmt, setTotalAmt] = useState(0)\n\n\n  var _useState21 = useState({\n    nameOnCheque: '',\n    bank: 0,\n    bankAccount: 0,\n    dateOnCheque: '',\n    chequeNumber: '',\n    amount: '',\n    issuedBy: 0,\n    status: 'Not Disbursed',\n    bookingStatus: 'Not Booked',\n    entryDate: new Date()\n  }),\n      _useState22 = _slicedToArray(_useState21, 2),\n      chequeData = _useState22[0],\n      setChequeData = _useState22[1];\n\n  var _useState23 = useState(new Date().toISOString().slice(0, 10)),\n      _useState24 = _slicedToArray(_useState23, 2),\n      startDate = _useState24[0],\n      setStartDate = _useState24[1];\n\n  var _useState25 = useState(new Date().toISOString().slice(0, 10)),\n      _useState26 = _slicedToArray(_useState25, 2),\n      endDate = _useState26[0],\n      setEndDate = _useState26[1];\n\n  var user = auth.getCurrentUser();\n  var formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS' // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n\n  });\n  useEffect(function () {\n    function getCustomers() {\n      return _getCustomers.apply(this, arguments);\n    }\n\n    function _getCustomers() {\n      _getCustomers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(apiUrl + '/customer');\n\n              case 2:\n                results = _context.sent;\n                setCustomers(results.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getCustomers.apply(this, arguments);\n    }\n\n    getCustomers();\n  }, [customers]);\n  useEffect(function () {\n    function getBanks() {\n      return _getBanks.apply(this, arguments);\n    }\n\n    function _getBanks() {\n      _getBanks = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(apiUrl + '/setup/bank');\n\n              case 2:\n                results = _context2.sent;\n                setBanks(results.data); // setUser(auth.getCurrentUser)\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _getBanks.apply(this, arguments);\n    }\n\n    getBanks();\n  }, []);\n\n  var handleBankChange = function handleBankChange(e) {\n    getBankAccounts(e.currentTarget.value);\n    setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n      bank: e.currentTarget.value\n    }));\n  };\n\n  var getBankAccounts = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(bank) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return axios.get(apiUrl + '/setup/bankaccount/' + bank);\n\n            case 2:\n              results = _context3.sent;\n              setBankAccounts(results.data);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getBankAccounts(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    function getIssuedCheques() {\n      return _getIssuedCheques.apply(this, arguments);\n    }\n\n    function _getIssuedCheques() {\n      _getIssuedCheques = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get(apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate);\n\n              case 2:\n                results = _context4.sent;\n                setIssuedCheques(results.data);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n      return _getIssuedCheques.apply(this, arguments);\n    }\n\n    getIssuedCheques(); // console.log(issuedCheques)\n  }, [startDate, endDate, render]);\n  useEffect(function () {\n    // setStartDate(new Date('2020-01-01'))\n    // setEndDate(new Date())\n    function getCheques() {\n      return _getCheques.apply(this, arguments);\n    }\n\n    function _getCheques() {\n      _getCheques = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.get(apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate);\n\n              case 2:\n                results = _context5.sent;\n                setCheques(results.data);\n                console.log(results.data);\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n      return _getCheques.apply(this, arguments);\n    }\n\n    getCheques();\n    console.log(cheques);\n  }, [render]); // async function checkActiveLoan(customer) {\n  //   const results = await axios.get(\n  //     apiUrl + '/loan/issuedloancheques/checkactiveloan/' + customer,\n  //   )\n  //   return results.data\n  // }\n\n  var schemaMap = {\n    nameOnCheque: Joi.number().required().label('Name on Cheque'),\n    bank: Joi.number().required().label('Bank'),\n    bankAccount: Joi.number().required().label('Bank Account'),\n    dateOnCheque: Joi.date().required().label('Date On Cheque'),\n    chequeNumber: Joi.string().required().label('Cheque Number'),\n    amount: Joi.string().required().label('Amount'),\n    issuedBy: Joi.number().required(),\n    entryDate: Joi.date().required(),\n    status: Joi.string(),\n    bookingStatus: Joi.any()\n  };\n  var schema = Joi.object(schemaMap);\n\n  var validateForm = function validateForm() {\n    var result = Joi.validate(chequeData, schema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    }\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var validate, results;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(activeLoan !== 0)) {\n                _context6.next = 2;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", Swal.fire('OOPS!', 'Active Loan Detected - Customer is servicing an active loan', 'error'));\n\n            case 2:\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context6.next = 5;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", Swal.fire('Validation', validate, 'error'));\n\n            case 5:\n              _context6.prev = 5;\n              _context6.next = 8;\n              return axios.post(apiUrl + '/loan/issuedloancheques', chequeData);\n\n            case 8:\n              results = _context6.sent;\n\n              if (!(results.status !== 200)) {\n                _context6.next = 13;\n                break;\n              }\n\n              return _context6.abrupt(\"return\", Swal.fire('OOPs !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 13:\n              Swal.fire('Good job!', 'Cheque Details Saved Successfully', 'success');\n              setRender(!render);\n              setChequeData({\n                nameOnCheque: '',\n                bank: 0,\n                bankAccount: '',\n                dateOnCheque: '',\n                chequeNumber: '',\n                amount: '',\n                issuedBy: 0,\n                status: 'Not Disbursed',\n                bookingStatus: 'Not Booked',\n                entryDate: new Date()\n              });\n\n            case 16:\n              _context6.next = 21;\n              break;\n\n            case 18:\n              _context6.prev = 18;\n              _context6.t0 = _context6[\"catch\"](5);\n              Swal.fire('OOPS ! ' + _context6.t0.message, 'error');\n\n            case 21:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, null, [[5, 18]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = function handleDelete(c) {\n    Swal.fire({\n      title: 'Do you want to delete this issued Cheque?',\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: 'Yes',\n      denyButtonText: \"No\"\n    }).then( /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result) {\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!result.isConfirmed) {\n                  _context7.next = 7;\n                  break;\n                }\n\n                _context7.next = 3;\n                return axios.delete(apiUrl + '/loan/issuedloancheques/' + c.id);\n\n              case 3:\n                Swal.fire('Deletion Confirmed !', '', 'success');\n                setRender(!render);\n                _context7.next = 8;\n                break;\n\n              case 7:\n                if (result.isDenied) {\n                  Swal.fire('Deletion NOT Confirmed', '', 'info');\n                }\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      return function (_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n  };\n\n  var money = new Intl.NumberFormat('de-CH', {\n    style: 'currency',\n    currency: 'CHF'\n  });\n  var customerName = customers.map(function (opt) {\n    return {\n      label: opt.fullName + ' - ' + opt.accountNumber,\n      value: opt.id\n    };\n  });\n\n  var handleCustomerSelected = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(opt) {\n      var optValue, results;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              optValue = opt.value;\n              setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n                nameOnCheque: optValue\n              }));\n              _context8.next = 4;\n              return axios.get(apiUrl + '/loan/issuedloancheques/checkactiveloan/' + optValue);\n\n            case 4:\n              results = _context8.sent;\n              setActiveLoan(results.data.length); // console.log(results.data.length)\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    return function handleCustomerSelected(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var today = new Date(); // returns the month (from 0 to 11)\n\n  var month = today.toLocaleString('default', {\n    month: 'long'\n  }); // returns the day of the month (from 1 to 31)\n\n  var day = today.getDate(); // returns the year (four digits)\n\n  var year = today.getFullYear();\n\n  function add(accumulator, a) {\n    return accumulator + a;\n  }\n  /* const totalAmt = filteredIssuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n  */\n\n  /*const handleFilter = (startDate, endDate) => {\n    return issuedCheques.filter(\n      (i) => i.entryDate >= startDate && i.entryDate <= endDate,\n    )\n  }*/\n  // const filteredIssuedCheques = handleFilter(startDate, endDate)\n\n\n  var totalAmt = issuedCheques.reduce(function (a, i) {\n    return a + i.amount;\n  }, 0);\n\n  var handleStartDateChange = function handleStartDateChange(e) {\n    setStartDate(e.currentTarget.value);\n  };\n\n  var handleEndDateChange = function handleEndDateChange(e) {\n    setEndDate(e.currentTarget.value);\n  };\n\n  var openCustomerListAsReport = function openCustomerListAsReport(url) {\n    var windowFeatures = 'left=100,top=100,width=320,height=320';\n    window.open(url, 'customerlist', 'popup', windowFeatures);\n  };\n\n  var handleChequeNumberChange = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(e) {\n      return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              setChequeNumber(e.currentTarget.value); // console.log(issuedCheques)\n\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9);\n    }));\n\n    return function handleChequeNumberChange(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var data = {\n    scheques: issuedCheques.filter(function (i) {\n      return i.chequeNumber.includes(chequeNumber);\n    })\n  };\n  var filteredCheques = chequeNumber.length === 0 ? issuedCheques : data.scheques;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"centertext mb-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }\n  }, \"Loan Cheques Issuance\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"centertext m-2 p\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }\n  }, \"Issuing cheque means you are paying to someone. That's why your bank should be credited as it reduces your bank balance.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row mt-5 col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 11\n    }\n  }, \"Start Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"dateOnCheque\",\n    value: startDate,\n    onChange: handleStartDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 11\n    }\n  }, \"End Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"dateOnCheque\",\n    value: endDate,\n    onChange: handleEndDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"chequeNumber\",\n    className: \"form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 11\n    }\n  }, \"Cheque Number\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"chequeNumber\",\n    value: chequeNumber,\n    onChange: handleChequeNumberChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(CLink, {\n    className: \"btn-block col-sm-3 float-left btn-sm mb-3 mt-3\",\n    onClick: function onClick() {\n      return openCustomerListAsReport(reportUrl + '/issuedLoanCheques.aspx?' + startDate + '?' + endDate);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 11\n    }\n  }, \"View as Report\")), /*#__PURE__*/React.createElement(CButton, {\n    color: \"success\",\n    className: \"btn-sm float-right mb-3\",\n    onClick: function onClick() {\n      return setShow(!show);\n    },\n    title: \"Make New Entry\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 9\n    }\n  }, \"+ Issue Cheque\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 9\n    }\n  }, \"Number of Cheques :\", '  ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 11\n    }\n  }, \" \", issuedCheques.length)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sm mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 9\n    }\n  }, \"Total of Amount (GHS) :\", '  ', /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 11\n    }\n  }, formatter.format(totalAmt))), /*#__PURE__*/React.createElement(Table, {\n    className: \"table-lg\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"caption\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 11\n    }\n  }, \"Issued Cheques: \", moment(startDate).format('DD-MMMM-YYYY'), \" -\", ' ', moment(endDate).format('DD-MMMM-YYYY')), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 15\n    }\n  }, \"Name on Cheque\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 15\n    }\n  }, \"Bank\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 15\n    }\n  }, \"Bank Account\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 15\n    }\n  }, \"Date on Cheque\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 15\n    }\n  }, \"Cheque No.\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 15\n    }\n  }, \"Amount (GHC)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 15\n    }\n  }, \"Issued By\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 15\n    }\n  }, \"Date Issued\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 11\n    }\n  }, filteredCheques.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 17\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 17\n      }\n    }, c.nameOnCheque), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 17\n      }\n    }, c.bank), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 17\n      }\n    }, c.accountNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 17\n      }\n    }, moment(c.dateOnCheque).format('DD-MMMM-YYYY')), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 17\n      }\n    }, c.chequeNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 17\n      }\n    }, formatter.format(c.amount)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }\n    }, c.issuedBy), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }\n    }, moment(c.entryDate).format('DD-MMMM-YYYY')), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 17\n      }\n    }, c.status === 'Not Disbursed' && /*#__PURE__*/React.createElement(CButton, {\n      color: \"danger\",\n      className: \"btn-sm\",\n      onClick: function onClick() {\n        return handleDelete(c);\n      },\n      title: \"Cheques Issued Entry\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 21\n      }\n    }, \"Delete\")));\n  })))), /*#__PURE__*/React.createElement(CModal, {\n    className: \"modal fade col-sm-10\",\n    size: \"lg\",\n    show: show,\n    color: \"success\",\n    \"data-backdrop\": \"static\",\n    \"data-keyboard\": \"false\",\n    onClose: function onClose() {\n      setShow(!show);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CModalHeader, {\n    className: \"modal-header\",\n    closeButton: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"centertext\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 13\n    }\n  }, \"ISSUE LOAN CHEQUE\"))), /*#__PURE__*/React.createElement(CModalBody, {\n    className: \"modal-body col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"nameOfCustomer\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 13\n    }\n  }, \"Name of Customer\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AdaboSelect, {\n    className: \"form-control-xl mb-2 mt-2\",\n    options: customerName,\n    onChange: handleCustomerSelected,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"bank\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 13\n    }\n  }, \"Bank\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CSelect, {\n    id: \"bank\",\n    className: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    value: chequeData.bank,\n    onChange: handleBankChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 521,\n      columnNumber: 17\n    }\n  }, \"--Select Bank--\"), banks.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 19\n      }\n    }, b.bank);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"bankAccount\",\n    class: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 13\n    }\n  }, \"Bank Account\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CSelect, {\n    id: \"bankAccount\",\n    className: \"form-select\",\n    \"aria-label\": \"Default select example\",\n    value: chequeData.bankAccount,\n    onChange: function onChange(e) {\n      return setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n        bankAccount: e.currentTarget.value,\n        issuedBy: user.id\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 549,\n      columnNumber: 17\n    }\n  }, \"--Select Bank Account--\"), bankAccounts.map(function (b) {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: b.id,\n      value: b.id,\n      id: b.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 19\n      }\n    }, b.accountNumber);\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }\n  }, \"Date on Cheque\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"dateOnCheque\",\n    value: chequeData.dateOnCheque,\n    onChange: function onChange(e) {\n      return setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n        dateOnCheque: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 564,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"chequeNumber\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 13\n    }\n  }, \"Cheque No.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"chequeNumber\",\n    value: chequeData.chequeNumber,\n    onChange: function onChange(e) {\n      return setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n        chequeNumber: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 597,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"amount\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 598,\n      columnNumber: 13\n    }\n  }, \"Amount (GHS)\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 601,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    id: \"amount\",\n    className: \"form-control\",\n    type: \"text\",\n    value: chequeData.amount,\n    onChange: function onChange(e) {\n      return setChequeData(_objectSpread(_objectSpread({}, chequeData), {}, {\n        amount: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(CModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 619,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    onClick: handleSubmit,\n    className: \"m-3\",\n    color: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 13\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(CButton, {\n    onClick: function onClick() {\n      return setShow(!show);\n    },\n    className: \"m-3\",\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 13\n    }\n  }, \"Close\")))));\n};\n\nexport default IssuedCheque;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/issueLoanCheque.jsx"],"names":["React","useState","useEffect","Modal","Link","useNavigate","Navigate","axios","moment","Joi","CurrencyFormat","Swal","auth","apiUrl","reportUrl","AdaboSelect","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","CLink","IssuedCheque","show","setShow","activeLoan","setActiveLoan","render","setRender","customers","setCustomers","chequeNumber","setChequeNumber","cheques","setCheques","buffer","setBuffer","banks","setBanks","bankAccounts","setBankAccounts","issuedCheques","setIssuedCheques","nameOnCheque","bank","bankAccount","dateOnCheque","amount","issuedBy","status","bookingStatus","entryDate","Date","chequeData","setChequeData","toISOString","slice","startDate","setStartDate","endDate","setEndDate","user","getCurrentUser","formatter","Intl","NumberFormat","style","currency","getCustomers","get","results","data","getBanks","handleBankChange","e","getBankAccounts","currentTarget","value","getIssuedCheques","getCheques","console","log","schemaMap","number","required","label","date","string","any","schema","object","validateForm","result","validate","error","details","message","handleSubmit","fire","post","handleDelete","c","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","then","isConfirmed","delete","id","isDenied","money","customerName","map","opt","fullName","accountNumber","handleCustomerSelected","optValue","length","today","month","toLocaleString","day","getDate","year","getFullYear","add","accumulator","a","totalAmt","reduce","i","handleStartDateChange","handleEndDateChange","openCustomerListAsReport","url","windowFeatures","window","open","handleChequeNumberChange","scheques","filter","includes","filteredCheques","format","index","b"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport Joi from 'joi-browser'\nimport CurrencyFormat from 'react-currency-format'\nimport Swal from 'sweetalert2'\nimport auth from '../../components/services/authService'\nimport { apiUrl } from '../../config.json'\nimport { reportUrl } from '../../config.json'\nimport AdaboSelect from 'react-select'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n  CLink,\n} from '@coreui/react'\n\nconst IssuedCheque = () => {\n  const [show, setShow] = useState(false)\n  const [activeLoan, setActiveLoan] = useState('')\n  const [render, setRender] = useState(false)\n  const [customers, setCustomers] = useState([])\n  const [chequeNumber, setChequeNumber] = useState('')\n  const [cheques, setCheques] = useState([])\n  const [buffer, setBuffer] = useState('')\n  const [banks, setBanks] = useState([])\n  const [bankAccounts, setBankAccounts] = useState([])\n  //const [user, setUser] = useState({})\n  const [issuedCheques, setIssuedCheques] = useState([])\n  //const [totalAmt, setTotalAmt] = useState(0)\n  const [chequeData, setChequeData] = useState({\n    nameOnCheque: '',\n    bank: 0,\n    bankAccount: 0,\n    dateOnCheque: '',\n    chequeNumber: '',\n    amount: '',\n    issuedBy: 0,\n    status: 'Not Disbursed',\n    bookingStatus: 'Not Booked',\n    entryDate: new Date(),\n  })\n\n  const [startDate, setStartDate] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n  const [endDate, setEndDate] = useState(new Date().toISOString().slice(0, 10))\n  const user = auth.getCurrentUser()\n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS',\n\n    // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n  })\n\n  useEffect(() => {\n    async function getCustomers() {\n      const results = await axios.get(apiUrl + '/customer')\n      setCustomers(results.data)\n    }\n    getCustomers()\n  }, [customers])\n\n  useEffect(() => {\n    async function getBanks() {\n      const results = await axios.get(apiUrl + '/setup/bank')\n      setBanks(results.data)\n      // setUser(auth.getCurrentUser)\n    }\n    getBanks()\n  }, [])\n\n  const handleBankChange = (e) => {\n    getBankAccounts(e.currentTarget.value)\n    setChequeData({\n      ...chequeData,\n      bank: e.currentTarget.value,\n    })\n  }\n\n  const getBankAccounts = async (bank) => {\n    const results = await axios.get(apiUrl + '/setup/bankaccount/' + bank)\n    setBankAccounts(results.data)\n  }\n\n  useEffect(() => {\n    async function getIssuedCheques() {\n      const results = await axios.get(\n        apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate,\n      )\n      setIssuedCheques(results.data)\n    }\n    getIssuedCheques()\n    // console.log(issuedCheques)\n  }, [startDate, endDate, render])\n\n  useEffect(() => {\n    // setStartDate(new Date('2020-01-01'))\n    // setEndDate(new Date())\n    async function getCheques() {\n      const results = await axios.get(\n        apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate,\n      )\n      setCheques(results.data)\n      console.log(results.data)\n    }\n    getCheques()\n    console.log(cheques)\n  }, [render])\n\n  // async function checkActiveLoan(customer) {\n  //   const results = await axios.get(\n  //     apiUrl + '/loan/issuedloancheques/checkactiveloan/' + customer,\n  //   )\n  //   return results.data\n  // }\n\n  const schemaMap = {\n    nameOnCheque: Joi.number().required().label('Name on Cheque'),\n    bank: Joi.number().required().label('Bank'),\n    bankAccount: Joi.number().required().label('Bank Account'),\n    dateOnCheque: Joi.date().required().label('Date On Cheque'),\n    chequeNumber: Joi.string().required().label('Cheque Number'),\n    amount: Joi.string().required().label('Amount'),\n    issuedBy: Joi.number().required(),\n    entryDate: Joi.date().required(),\n    status: Joi.string(),\n    bookingStatus: Joi.any(),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(chequeData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    //console.log(activeLoan)\n    if (activeLoan !== 0) {\n      return Swal.fire(\n        'OOPS!',\n        'Active Loan Detected - Customer is servicing an active loan',\n        'error',\n      )\n    }\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.post(\n        apiUrl + '/loan/issuedloancheques',\n        chequeData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Cheque Details Saved Successfully', 'success')\n        setRender(!render)\n        setChequeData({\n          nameOnCheque: '',\n          bank: 0,\n          bankAccount: '',\n          dateOnCheque: '',\n          chequeNumber: '',\n          amount: '',\n          issuedBy: 0,\n          status: 'Not Disbursed',\n          bookingStatus: 'Not Booked',\n          entryDate: new Date(),\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ' + err.message, 'error')\n    }\n  }\n\n  const handleDelete = (c) => {\n    Swal.fire({\n      title: 'Do you want to delete this issued Cheque?',\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: 'Yes',\n      denyButtonText: `No`,\n    }).then(async (result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        await axios.delete(apiUrl + '/loan/issuedloancheques/' + c.id)\n        Swal.fire('Deletion Confirmed !', '', 'success')\n        setRender(!render)\n      } else if (result.isDenied) {\n        Swal.fire('Deletion NOT Confirmed', '', 'info')\n      }\n    })\n  }\n\n  const money = new Intl.NumberFormat('de-CH', {\n    style: 'currency',\n    currency: 'CHF',\n  })\n\n  const customerName = customers.map((opt) => ({\n    label: opt.fullName + ' - ' + opt.accountNumber,\n    value: opt.id,\n  }))\n\n  const handleCustomerSelected = async (opt) => {\n    const optValue = opt.value\n    setChequeData({ ...chequeData, nameOnCheque: optValue })\n    const results = await axios.get(\n      apiUrl + '/loan/issuedloancheques/checkactiveloan/' + optValue,\n    )\n    setActiveLoan(results.data.length)\n    // console.log(results.data.length)\n  }\n\n  var today = new Date()\n\n  // returns the month (from 0 to 11)\n  const month = today.toLocaleString('default', { month: 'long' })\n\n  // returns the day of the month (from 1 to 31)\n  const day = today.getDate()\n\n  // returns the year (four digits)\n  const year = today.getFullYear()\n\n  function add(accumulator, a) {\n    return accumulator + a\n  }\n\n  /* const totalAmt = filteredIssuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n*/\n  /*const handleFilter = (startDate, endDate) => {\n    return issuedCheques.filter(\n      (i) => i.entryDate >= startDate && i.entryDate <= endDate,\n    )\n  }*/\n\n  // const filteredIssuedCheques = handleFilter(startDate, endDate)\n\n  const totalAmt = issuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n\n  const handleStartDateChange = (e) => {\n    setStartDate(e.currentTarget.value)\n  }\n  const handleEndDateChange = (e) => {\n    setEndDate(e.currentTarget.value)\n  }\n  const openCustomerListAsReport = (url) => {\n    const windowFeatures = 'left=100,top=100,width=320,height=320'\n    window.open(url, 'customerlist', 'popup', windowFeatures)\n  }\n\n  const handleChequeNumberChange = async (e) => {\n    setChequeNumber(e.currentTarget.value)\n    // console.log(issuedCheques)\n  }\n\n  const data = {\n    scheques: issuedCheques.filter((i) =>\n      i.chequeNumber.includes(chequeNumber),\n    ),\n  }\n\n  const filteredCheques =\n    chequeNumber.length === 0 ? issuedCheques : data.scheques\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row justify-content-center\">\n        <h4 className=\"centertext mb-2\">Loan Cheques Issuance</h4>\n      </div>\n      <p className=\"centertext m-2 p\">\n        Issuing cheque means you are paying to someone. That's why your bank\n        should be credited as it reduces your bank balance.\n      </p>\n      <div className=\"mb-3\">\n        <div class=\"mb-3 row mt-5 col-sm-12\">\n          <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n            Start Date\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"date\"\n              class=\"form-control\"\n              id=\"dateOnCheque\"\n              value={startDate}\n              onChange={handleStartDateChange}\n            />\n          </div>\n          <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n            End Date\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"date\"\n              class=\"form-control\"\n              id=\"dateOnCheque\"\n              value={endDate}\n              onChange={handleEndDateChange}\n            />\n          </div>\n          <CLabel htmlFor=\"chequeNumber\" className=\"form-label\">\n            Cheque Number\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"text\"\n              class=\"form-control\"\n              id=\"chequeNumber\"\n              value={chequeNumber}\n              onChange={handleChequeNumberChange}\n            />\n          </div>\n          <CLink\n            className=\"btn-block col-sm-3 float-left btn-sm mb-3 mt-3\"\n            onClick={() =>\n              openCustomerListAsReport(\n                reportUrl +\n                  '/issuedLoanCheques.aspx?' +\n                  startDate +\n                  '?' +\n                  endDate,\n              )\n            }\n          >\n            View as Report\n          </CLink>\n        </div>\n\n        <CButton\n          color=\"success\"\n          className=\"btn-sm float-right mb-3\"\n          onClick={() => setShow(!show)}\n          title=\"Make New Entry\"\n        >\n          + Issue Cheque\n        </CButton>\n\n        <div className=\"sm mt-3\">\n          Number of Cheques :{'  '}\n          <strong> {issuedCheques.length}</strong>\n        </div>\n        <div className=\"sm mt-3\">\n          Total of Amount (GHS) :{'  '}\n          <strong>{formatter.format(totalAmt)}</strong>\n        </div>\n\n        <Table className=\"table-lg\">\n          <caption>\n            Issued Cheques: {moment(startDate).format('DD-MMMM-YYYY')} -{' '}\n            {moment(endDate).format('DD-MMMM-YYYY')}\n          </caption>\n          <thead>\n            <tr className=\"fs-sm\">\n              <th></th>\n              <th>Name on Cheque</th>\n              <th>Bank</th>\n              <th>Bank Account</th>\n              <th>Date on Cheque</th>\n              <th>Cheque No.</th>\n              <th>Amount (GHC)</th>\n              <th>Issued By</th>\n              <th>Date Issued</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredCheques.map((c, index) => (\n              <tr key={c.id}>\n                <td>{index + 1}</td>\n                <td>{c.nameOnCheque}</td>\n                <td>{c.bank}</td>\n                <td>{c.accountNumber}</td>\n                <td>{moment(c.dateOnCheque).format('DD-MMMM-YYYY')}</td>\n                <td>{c.chequeNumber}</td>\n                <td>{formatter.format(c.amount)}</td>\n                <td>{c.issuedBy}</td>\n                <td>{moment(c.entryDate).format('DD-MMMM-YYYY')}</td>\n                <td>\n                  {c.status === 'Not Disbursed' && (\n                    <CButton\n                      color=\"danger\"\n                      className=\"btn-sm\"\n                      onClick={() => handleDelete(c)}\n                      title=\"Cheques Issued Entry\"\n                    >\n                      Delete\n                    </CButton>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </div>\n\n      <CModal\n        className=\"modal fade col-sm-10\"\n        size=\"lg\"\n        show={show}\n        color=\"success\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n        onClose={() => {\n          setShow(!show)\n        }}\n      >\n        <CModalHeader className=\"modal-header\" closeButton>\n          <p>\n            <h3 className=\"centertext\">ISSUE LOAN CHEQUE</h3>\n          </p>\n        </CModalHeader>\n\n        <CModalBody className=\"modal-body col-sm-12\">\n          <div class=\"mb-3 row\">\n            <CLabel\n              htmlFor=\"nameOfCustomer\"\n              className=\"col-sm-3 col-form-label\"\n            >\n              Name of Customer\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <AdaboSelect\n                className=\"form-control-xl mb-2 mt-2\"\n                options={customerName}\n                onChange={handleCustomerSelected}\n              />\n              {/*<CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={chequeData.nameOnCheque}\n                autoComplete=\"off\"\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    nameOnCheque: e.currentTarget.value,\n                    issuedBy: user.id,\n                  })\n                }\n              />*/}\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"bank\" className=\"col-sm-3 col-form-label\">\n              Bank\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                id=\"bank\"\n                className=\"form-select\"\n                aria-label=\"Default select example\"\n                value={chequeData.bank}\n                onChange={handleBankChange}\n              >\n                <option defaultValue=\"\">--Select Bank--</option>\n                {banks.map((b) => (\n                  <option key={b.id} value={b.id} id={b.id}>\n                    {b.bank}\n                  </option>\n                ))}\n              </CSelect>\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Bank Account\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                id=\"bankAccount\"\n                className=\"form-select\"\n                aria-label=\"Default select example\"\n                value={chequeData.bankAccount}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    bankAccount: e.currentTarget.value,\n                    issuedBy: user.id,\n                  })\n                }\n              >\n                <option defaultValue=\"\">--Select Bank Account--</option>\n                {bankAccounts.map((b) => (\n                  <option key={b.id} value={b.id} id={b.id}>\n                    {b.accountNumber}\n                  </option>\n                ))}\n              </CSelect>\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateOnCheque\" className=\"col-sm-3 col-form-label\">\n              Date on Cheque\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"date\"\n                class=\"form-control\"\n                id=\"dateOnCheque\"\n                value={chequeData.dateOnCheque}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    dateOnCheque: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Cheque No.\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={chequeData.chequeNumber}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    chequeNumber: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"amount\" className=\"col-sm-3\">\n              Amount (GHS)\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                id=\"amount\"\n                className=\"form-control\"\n                type=\"text\"\n                value={chequeData.amount}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    amount: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n        </CModalBody>\n\n        <CModalFooter>\n          <div className=\"justify-content-center\">\n            <CButton onClick={handleSubmit} className=\"m-3\" color=\"success\">\n              Submit\n            </CButton>\n            <CButton\n              onClick={() => setShow(!show)}\n              className=\"m-3\"\n              color=\"danger\"\n            >\n              Close\n            </CButton>\n          </div>\n        </CModalFooter>\n      </CModal>\n    </div>\n  )\n}\n\nexport default IssuedCheque\n"]},"metadata":{},"sourceType":"module"}