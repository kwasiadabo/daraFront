{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/products.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, Navigate, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport moment from 'moment';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Joi from 'joi-browser';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Badge } from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\nimport Swal from 'sweetalert2';\n\nvar ProductSetup = function ProductSetup() {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      allProducts = _useState2[0],\n      setAllProducts = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      disabled = _useState4[0],\n      setDisabled = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      render = _useState6[0],\n      setRender = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      editMode = _useState8[0],\n      setEditMode = _useState8[1];\n\n  var _useState9 = useState({\n    product: '',\n    processingFee: '',\n    frequency: '',\n    interestRate: '',\n    registrationFee: '',\n    duration: '',\n    shortName: '',\n    //fixation: '',\n    // allowedAmount: 0,\n    cashCollateral: 0\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      products = _useState10[0],\n      setProducts = _useState10[1];\n\n  var schemaMap = {\n    product: Joi.string().required().label('Product Field'),\n    processingFee: Joi.number().required().label('Processing Fee Field'),\n    frequency: Joi.string().required().label('Frequency Field'),\n    interestRate: Joi.number().required().label('Interest Rate Field'),\n    registrationFee: Joi.number().required().label('Registration Fee Field'),\n    duration: Joi.number().required().label('duration Field'),\n    //fixation: Joi.string().allow('').label('Fixation Field'),\n    //allowedAmount: Joi.number().allow('').label('Allowed Amount'),\n    cashCollateral: Joi.number().required().label('Cash Collateral'),\n    id: Joi.string().allow('').label('ID'),\n    shortName: Joi.string().allow('')\n  };\n  var schema = Joi.object(schemaMap);\n\n  var validateForm = function validateForm() {\n    var result = Joi.validate(products, schema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    }\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var validate, results;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(products);\n              e.preventDefault();\n              setEditMode(false);\n              _context.prev = 3;\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('error', validate, 'error'));\n\n            case 7:\n              _context.next = 9;\n              return axios.post(baseUrl.apiUrl + '/setup/product', products);\n\n            case 9:\n              results = _context.sent;\n\n              if (!(results.status !== 200)) {\n                _context.next = 14;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 14:\n              Swal.fire('Success', 'Product Saved Successfully', 'success');\n              setProducts({\n                product: '',\n                processingFee: '',\n                frequency: '',\n                interestRate: '',\n                registrationFee: '',\n                duration: '',\n                fixation: '',\n                allowedAmount: 0,\n                cashCollateral: 0,\n                shortName: ''\n              });\n              setRender(!render);\n\n            case 17:\n              _context.next = 22;\n              break;\n\n            case 19:\n              _context.prev = 19;\n              _context.t0 = _context[\"catch\"](3);\n              Swal.fire('OOPS ! ' + _context.t0.message, 'error');\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 19]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    function getProducts() {\n      return _getProducts.apply(this, arguments);\n    }\n\n    function _getProducts() {\n      _getProducts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get(baseUrl.apiUrl + '/setup/product');\n\n              case 2:\n                results = _context2.sent;\n                setAllProducts(results.data);\n                setEditMode(false);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return _getProducts.apply(this, arguments);\n    }\n\n    getProducts();\n  }, [render]);\n\n  var handleOnEdit = function handleOnEdit(p) {\n    setEditMode(true);\n    setProducts({\n      product: p.product,\n      processingFee: p.processingFee,\n      frequency: p.frequency,\n      interestRate: p.interestRate,\n      registrationFee: p.registrationFee,\n      duration: p.duration,\n      cashCollateral: p.cashCollateral,\n      shortName: p.shortName,\n      id: p.id\n    }); //setDisabled(!disabled);\n  };\n\n  var handleUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(products.product !== '')) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.prev = 2;\n              _context3.next = 5;\n              return axios.put(baseUrl.apiUrl + '/setup/product', products);\n\n            case 5:\n              results = _context3.sent;\n\n              if (!(results.status !== 200)) {\n                _context3.next = 10;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 10:\n              Swal.fire('Success', 'Product Updated Successfully', 'success');\n              setProducts({\n                product: '',\n                processingFee: '',\n                frequency: '',\n                interestRate: '',\n                registrationFee: '',\n                duration: '',\n                fixation: '',\n                allowedAmount: 0,\n                cashCollateral: 0,\n                shortName: '',\n                id: ''\n              });\n              setRender(!render);\n\n            case 13:\n              _context3.next = 18;\n              break;\n\n            case 15:\n              _context3.prev = 15;\n              _context3.t0 = _context3[\"catch\"](2);\n              Swal.fire('OOPS ! ' + _context3.t0.message, 'error');\n\n            case 18:\n              _context3.next = 21;\n              break;\n\n            case 20:\n              return _context3.abrupt(\"return\", Swal.fire('OOPS', 'Enter all Details !', 'error'));\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[2, 15]]);\n    }));\n\n    return function handleUpdate(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centertext mt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, \"Setup Products\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }\n  }, \"Setup all products you deal in. Your products brings in the income, capture all details about them.\"), /*#__PURE__*/React.createElement(CForm, {\n    className: \"row g-3 m-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"product\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"col-sm-8\",\n    id: \"product\",\n    value: products.product,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        product: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"shortName\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, \"Short Name\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"col-sm-4\",\n    id: \"shortName\",\n    value: products.shortName,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        shortName: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"processingFee\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 11\n    }\n  }, \"Proc. Fee (%)\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"col-sm-8\",\n    id: \"processingFee\",\n    value: products.processingFee,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        processingFee: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"frequency\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"Repayment Frequency\"), /*#__PURE__*/React.createElement(CSelect, {\n    id: \"frequency\",\n    className: \"form-select col-sm-8\",\n    value: products.frequency,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        frequency: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }\n  }, \"Choose...\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Daily\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 13\n    }\n  }, \"Daily\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Weekly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }\n  }, \"Weekly\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Bi Weekly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 13\n    }\n  }, \"Bi Weekly\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Monthly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }\n  }, \" Monthly\"))), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"minInterest\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }, \"Interest Rate (%)\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"form-control-md col-sm-8\",\n    id: \"minInterest\",\n    value: products.interestRate,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        interestRate: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"registrationFee\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 11\n    }\n  }, \"Reg. Fee (GHC)\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"form-control-md col-sm-8\",\n    id: \"registrationFee\",\n    value: products.registrationFee,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        registrationFee: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"duration\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }\n  }, \"Duration (Days)\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"text\",\n    className: \"form-control-md col-sm-8\",\n    id: \"duration\",\n    value: products.duration,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        duration: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"cashCollateral\",\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }, \"Cash Collateral (%)\"), /*#__PURE__*/React.createElement(CInput, {\n    autoComplete: \"off\",\n    type: \"number\",\n    pattern: \"([0-9]{1,3}).([0-9]{1,3})\",\n    className: \"form-control-md col-sm-8\",\n    id: \"cashCollateral\",\n    value: products.cashCollateral,\n    onChange: function onChange(e) {\n      return setProducts(_objectSpread(_objectSpread({}, products), {}, {\n        cashCollateral: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 9\n    }\n  }, !editMode ? /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    className: \"btn btn-danger mt-5\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 13\n    }\n  }, \"Save Product\") : null, editMode ? /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    class: \"btn btn-success mt-5 ms-5\",\n    onClick: handleUpdate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 13\n    }\n  }, \"Edit Product\") : null)), /*#__PURE__*/React.createElement(Table, {\n    className: \"sm table-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"caption\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }\n  }, \"Click on any product details to update\"), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 13\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 13\n    }\n  }, \"Short Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }\n  }, \"Proc. Fee(%)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 13\n    }\n  }, \"Frequency\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 13\n    }\n  }, \"Interest Rate (%)\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }, \"Reg. Fee\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 13\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }\n  }, \"Cash Collateral (%)\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }\n  }, allProducts.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c._id,\n      onClick: function onClick() {\n        return handleOnEdit(c);\n      },\n      Style: \"cursor: pointer;\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 15\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 15\n      }\n    }, c.product), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 15\n      }\n    }, c.shortName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 15\n      }\n    }, c.processingFee), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 15\n      }\n    }, c.frequency), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 15\n      }\n    }, c.interestRate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 15\n      }\n    }, c.registrationFee), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 15\n      }\n    }, c.duration), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 15\n      }\n    }, c.cashCollateral));\n  }))));\n};\n\nexport default ProductSetup;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/products.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","useParams","axios","moment","baseUrl","auth","Joi","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Swal","ProductSetup","allProducts","setAllProducts","disabled","setDisabled","render","setRender","editMode","setEditMode","product","processingFee","frequency","interestRate","registrationFee","duration","shortName","cashCollateral","products","setProducts","schemaMap","string","required","label","number","id","allow","schema","object","validateForm","result","validate","error","details","message","handleSubmit","e","console","log","preventDefault","fire","post","apiUrl","results","status","fixation","allowedAmount","getProducts","get","data","handleOnEdit","p","handleUpdate","put","currentTarget","value","map","c","index","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate, useParams } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Joi from 'joi-browser'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Badge,\n} from 'reactstrap'\n\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nimport Swal from 'sweetalert2'\n\nconst ProductSetup = () => {\n  const [allProducts, setAllProducts] = useState([])\n  const [disabled, setDisabled] = useState(false)\n  const [render, setRender] = useState(false)\n  const [editMode, setEditMode] = useState(false)\n\n  const [products, setProducts] = useState({\n    product: '',\n    processingFee: '',\n    frequency: '',\n    interestRate: '',\n    registrationFee: '',\n    duration: '',\n    shortName: '',\n    //fixation: '',\n    // allowedAmount: 0,\n    cashCollateral: 0,\n  })\n  const schemaMap = {\n    product: Joi.string().required().label('Product Field'),\n    processingFee: Joi.number().required().label('Processing Fee Field'),\n\n    frequency: Joi.string().required().label('Frequency Field'),\n    interestRate: Joi.number().required().label('Interest Rate Field'),\n\n    registrationFee: Joi.number().required().label('Registration Fee Field'),\n    duration: Joi.number().required().label('duration Field'),\n    //fixation: Joi.string().allow('').label('Fixation Field'),\n    //allowedAmount: Joi.number().allow('').label('Allowed Amount'),\n    cashCollateral: Joi.number().required().label('Cash Collateral'),\n    id: Joi.string().allow('').label('ID'),\n    shortName: Joi.string().allow(''),\n  }\n\n  const schema = Joi.object(schemaMap)\n  const validateForm = () => {\n    const result = Joi.validate(products, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async (e) => {\n    console.log(products)\n    e.preventDefault()\n    setEditMode(false)\n    try {\n      const validate = validateForm()\n      if (validate !== null) {\n        return Swal.fire('error', validate, 'error')\n      }\n      const results = await axios.post(\n        baseUrl.apiUrl + '/setup/product',\n        products,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPS !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Success', 'Product Saved Successfully', 'success')\n        setProducts({\n          product: '',\n          processingFee: '',\n          frequency: '',\n          interestRate: '',\n          registrationFee: '',\n          duration: '',\n          fixation: '',\n          allowedAmount: 0,\n          cashCollateral: 0,\n          shortName: '',\n        })\n        setRender(!render)\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ' + err.message, 'error')\n    }\n  }\n  useEffect(() => {\n    async function getProducts() {\n      const results = await axios.get(baseUrl.apiUrl + '/setup/product')\n      setAllProducts(results.data)\n      setEditMode(false)\n    }\n    getProducts()\n  }, [render])\n\n  const handleOnEdit = (p) => {\n    setEditMode(true)\n    setProducts({\n      product: p.product,\n      processingFee: p.processingFee,\n      frequency: p.frequency,\n      interestRate: p.interestRate,\n      registrationFee: p.registrationFee,\n      duration: p.duration,\n      cashCollateral: p.cashCollateral,\n      shortName: p.shortName,\n      id: p.id,\n    })\n    //setDisabled(!disabled);\n  }\n  const handleUpdate = async (e) => {\n    e.preventDefault()\n\n    if (products.product !== '') {\n      try {\n        const results = await axios.put(\n          baseUrl.apiUrl + '/setup/product',\n          products,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Product Updated Successfully', 'success')\n          setProducts({\n            product: '',\n            processingFee: '',\n            frequency: '',\n            interestRate: '',\n            registrationFee: '',\n            duration: '',\n            fixation: '',\n            allowedAmount: 0,\n            cashCollateral: 0,\n            shortName: '',\n            id: '',\n          })\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Enter all Details !', 'error')\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <h1 className=\"centertext mt-5\">Setup Products</h1>\n      <p className=\"staffp\">\n        Setup all products you deal in. Your products brings in the income,\n        capture all details about them.\n      </p>\n      <CForm className=\"row g-3 m-5\">\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"product\" className=\"col-sm-3\">\n            Product Name\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"col-sm-8\"\n            id=\"product\"\n            value={products.product}\n            onChange={(e) =>\n              setProducts({ ...products, product: e.currentTarget.value })\n            }\n          />\n        </CInputGroup>\n\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"shortName\" className=\"col-sm-3\">\n            Short Name\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"col-sm-4\"\n            id=\"shortName\"\n            value={products.shortName}\n            onChange={(e) =>\n              setProducts({ ...products, shortName: e.currentTarget.value })\n            }\n          />\n        </CInputGroup>\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"processingFee\" className=\"col-sm-3\">\n            Proc. Fee (%)\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"col-sm-8\"\n            id=\"processingFee\"\n            value={products.processingFee}\n            onChange={(e) =>\n              setProducts({\n                ...products,\n                processingFee: e.currentTarget.value,\n              })\n            }\n          />\n        </CInputGroup>\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"frequency\" className=\"col-sm-3\">\n            Repayment Frequency\n          </CLabel>\n          <CSelect\n            id=\"frequency\"\n            className=\"form-select col-sm-8\"\n            value={products.frequency}\n            onChange={(e) =>\n              setProducts({ ...products, frequency: e.currentTarget.value })\n            }\n          >\n            <option selected>Choose...</option>\n            <option value=\"Daily\">Daily</option>\n            <option value=\"Weekly\">Weekly</option>\n            <option value=\"Bi Weekly\">Bi Weekly</option>\n            <option value=\"Monthly\"> Monthly</option>\n          </CSelect>\n        </CInputGroup>\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"minInterest\" className=\"col-sm-3\">\n            Interest Rate (%)\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"form-control-md col-sm-8\"\n            id=\"minInterest\"\n            value={products.interestRate}\n            onChange={(e) =>\n              setProducts({\n                ...products,\n                interestRate: e.currentTarget.value,\n              })\n            }\n          />\n        </CInputGroup>\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"registrationFee\" className=\"col-sm-3\">\n            Reg. Fee (GHC)\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"form-control-md col-sm-8\"\n            id=\"registrationFee\"\n            value={products.registrationFee}\n            onChange={(e) =>\n              setProducts({\n                ...products,\n                registrationFee: e.currentTarget.value,\n              })\n            }\n          />\n        </CInputGroup>\n        <CInputGroup className=\"mt-3\">\n          <CLabel for=\"duration\" className=\"col-sm-3\">\n            Duration (Days)\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"text\"\n            className=\"form-control-md col-sm-8\"\n            id=\"duration\"\n            value={products.duration}\n            onChange={(e) =>\n              setProducts({ ...products, duration: e.currentTarget.value })\n            }\n          />\n        </CInputGroup>\n\n        <CInputGroup className=\"mt-3\">\n          <CLabel htmlFor=\"cashCollateral\" className=\"col-sm-3\">\n            Cash Collateral (%)\n          </CLabel>\n          <CInput\n            autoComplete=\"off\"\n            type=\"number\"\n            pattern=\"([0-9]{1,3}).([0-9]{1,3})\"\n            className=\"form-control-md col-sm-8\"\n            id=\"cashCollateral\"\n            value={products.cashCollateral}\n            onChange={(e) =>\n              setProducts({\n                ...products,\n                cashCollateral: e.currentTarget.value,\n              })\n            }\n          />\n        </CInputGroup>\n\n        <div className=\"row\">\n          {!editMode ? (\n            <CButton\n              type=\"submit\"\n              className=\"btn btn-danger mt-5\"\n              onClick={handleSubmit}\n            >\n              Save Product\n            </CButton>\n          ) : null}\n          {editMode ? (\n            <CButton\n              type=\"submit\"\n              class=\"btn btn-success mt-5 ms-5\"\n              onClick={handleUpdate}\n            >\n              Edit Product\n            </CButton>\n          ) : null}\n        </div>\n      </CForm>\n\n      <Table className=\"sm table-sm\">\n        <caption>Click on any product details to update</caption>\n        <thead>\n          <tr className=\"fs-sm\">\n            <th></th>\n            <th>Product Name</th>\n            <th>Short Name</th>\n            <th>Proc. Fee(%)</th>\n            <th>Frequency</th>\n            <th>Interest Rate (%)</th>\n            <th>Reg. Fee</th>\n            <th>Duration</th>\n            <th>Cash Collateral (%)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {allProducts.map((c, index) => (\n            <tr\n              key={c._id}\n              onClick={() => handleOnEdit(c)}\n              Style=\"cursor: pointer;\"\n            >\n              <td>{index + 1}</td>\n              <td>{c.product}</td>\n              <td>{c.shortName}</td>\n              <td>{c.processingFee}</td>\n              <td>{c.frequency}</td>\n              <td>{c.interestRate}</td>\n              <td>{c.registrationFee}</td>\n              <td>{c.duration}</td>\n              <td>{c.cashCollateral}</td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n    </div>\n  )\n}\n\nexport default ProductSetup\n"]},"metadata":{},"sourceType":"module"}