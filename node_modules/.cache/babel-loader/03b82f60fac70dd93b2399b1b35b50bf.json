{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/login/Login.js\";\n\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useHistory } from 'react-router-dom';\nimport auth from '../../../components/services/authService';\nimport Joi from 'joi-browser';\nimport { CButton, CCard, CCardBody, CCardGroup, CCol, CContainer, CForm, CInput, CInputGroup, CInputGroupPrepend, CInputGroupText, CRow } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\n\nvar Login = function Login() {\n  var _useState = useState({\n    username: '',\n    password: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      formData = _useState2[0],\n      setFormData = _useState2[1];\n\n  var history = useHistory();\n  var schemaMap = {\n    username: Joi.string().required().label('Username'),\n    password: Joi.string().required().label('Password')\n  };\n  var schema = Joi.object(schemaMap);\n\n  var validateForm = function validateForm() {\n    var result = Joi.validate(formData, schema);\n\n    if (result.error) {\n      return result.error.details[0].message;\n    } else {\n      return null;\n    } //toast.error(result.error.details[0].message);\n\n  };\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var username, password, validate;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              username = formData.username, password = formData.password;\n              console.log(password);\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context.next = 6;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('OOPS !', validate, 'error'));\n\n            case 6:\n              _context.next = 8;\n              return auth.login(username, password);\n\n            case 8:\n              if (password === 'pass1234') {\n                history.push('/setup/changepassword');\n              } else {\n                history.push('/home');\n              }\n\n              _context.next = 15;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (!(_context.t0.response && _context.t0.response.status === 400)) {\n                _context.next = 15;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Swal.fire('LOGIN FAILED', 'Incorrect Username or Password !', 'error'));\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleResetPassword = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var username, password, validate;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              username = formData.username, password = formData.password;\n              validate = validateForm();\n\n              if (!(validate !== null)) {\n                _context2.next = 5;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('OOPS !', validate, 'error'));\n\n            case 5:\n              _context2.next = 7;\n              return auth.login(username, password);\n\n            case 7:\n              history.push('/home');\n              _context2.next = 14;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n\n              if (!(_context2.t0.response && _context2.t0.response.status === 400)) {\n                _context2.next = 14;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('LOGIN FAILED', 'Incorrect Username or Password !', 'error'));\n\n            case 14:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function handleResetPassword() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"c-app c-default-layout flex-row align-items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(CContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    className: \"justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(CCardGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    className: \"p-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CForm, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }, \"Sign In to your account\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-user\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 14\n    }\n  }))), /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    placeholder: \"Username\",\n    autoComplete: \"username\",\n    value: formData.username,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        username: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mb-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupPrepend, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(CInputGroupText, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CIcon, {\n    name: \"cil-lock-locked\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 14\n    }\n  }))), /*#__PURE__*/React.createElement(CInput, {\n    type: \"password\",\n    placeholder: \"Password\",\n    autoComplete: \"current-password\",\n    value: formData.password,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    xs: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    color: \"primary\",\n    className: \"px-4\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(CCol, {\n    xs: \"6\",\n    className: \"text-right\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    color: \"link\",\n    className: \"px-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, \"Forgot password?\")))))), /*#__PURE__*/React.createElement(CCard, {\n    className: \"text-white bg-primary py-5 d-md-down-none\",\n    style: {\n      width: '44%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(CCardBody, {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, \"DARA CAPITAL\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, \"Please note that you must be a registered user to get access to the Dara Plus system. Please contact systems administrator for your credentials\")))))))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/login/Login.js"],"names":["React","useState","Link","Swal","useHistory","auth","Joi","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CIcon","Login","username","password","formData","setFormData","history","schemaMap","string","required","label","schema","object","validateForm","result","validate","error","details","message","handleSubmit","console","log","fire","login","push","response","status","handleResetPassword","e","currentTarget","value","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Swal from 'sweetalert2';\nimport { useHistory } from 'react-router-dom';\nimport auth from '../../../components/services/authService';\nimport Joi from 'joi-browser';\nimport {\n\tCButton,\n\tCCard,\n\tCCardBody,\n\tCCardGroup,\n\tCCol,\n\tCContainer,\n\tCForm,\n\tCInput,\n\tCInputGroup,\n\tCInputGroupPrepend,\n\tCInputGroupText,\n\tCRow,\n} from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\n\nconst Login = () => {\n\tconst [formData, setFormData] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\tlet history = useHistory();\n\n\tconst schemaMap = {\n\t\tusername: Joi.string().required().label('Username'),\n\t\tpassword: Joi.string().required().label('Password'),\n\t};\n\n\tconst schema = Joi.object(schemaMap);\n\n\tconst validateForm = () => {\n\t\tconst result = Joi.validate(formData, schema);\n\t\tif (result.error) {\n\t\t\treturn result.error.details[0].message;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t\t//toast.error(result.error.details[0].message);\n\t};\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tconst { username, password } = formData;\n\t\t\tconsole.log(password);\n\t\t\tconst validate = validateForm();\n\t\t\tif (validate !== null) {\n\t\t\t\treturn Swal.fire('OOPS !', validate, 'error');\n\t\t\t}\n\t\t\tawait auth.login(username, password);\n\t\t\tif (password === 'pass1234') {\n\t\t\t\thistory.push('/setup/changepassword');\n\t\t\t} else {\n\t\t\t\thistory.push('/home');\n\t\t\t}\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'LOGIN FAILED',\n\t\t\t\t\t'Incorrect Username or Password !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleResetPassword = async () => {\n\t\t// console.log(formData)\n\t\ttry {\n\t\t\tconst { username, password } = formData;\n\t\t\tconst validate = validateForm();\n\t\t\tif (validate !== null) {\n\t\t\t\treturn Swal.fire('OOPS !', validate, 'error');\n\t\t\t}\n\t\t\tawait auth.login(username, password);\n\t\t\thistory.push('/home');\n\t\t} catch (ex) {\n\t\t\tif (ex.response && ex.response.status === 400) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'LOGIN FAILED',\n\t\t\t\t\t'Incorrect Username or Password !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"c-app c-default-layout flex-row align-items-center\">\n\t\t\t<CContainer>\n\t\t\t\t<CRow className=\"justify-content-center\">\n\t\t\t\t\t<CCol md=\"8\">\n\t\t\t\t\t\t<CCardGroup>\n\t\t\t\t\t\t\t<CCard className=\"p-4\">\n\t\t\t\t\t\t\t\t<CCardBody>\n\t\t\t\t\t\t\t\t\t<CForm>\n\t\t\t\t\t\t\t\t\t\t<h1>Login</h1>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted\">Sign In to your account</p>\n\t\t\t\t\t\t\t\t\t\t<CInputGroup className=\"mb-3\">\n\t\t\t\t\t\t\t\t\t\t\t<CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t\t<CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CIcon name=\"cil-user\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t</CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"username\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tusername: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t\t\t\t<CInputGroup className=\"mb-4\">\n\t\t\t\t\t\t\t\t\t\t\t<CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t\t<CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CIcon name=\"cil-lock-locked\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</CInputGroupText>\n\t\t\t\t\t\t\t\t\t\t\t</CInputGroupPrepend>\n\t\t\t\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...formData,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpassword: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t\t\t\t<CRow>\n\t\t\t\t\t\t\t\t\t\t\t<CCol xs=\"6\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"px-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t\t\t\t\t\t<CCol xs=\"6\" className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t<CButton color=\"link\" className=\"px-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tForgot password?\n\t\t\t\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t\t\t\t</CCol>\n\t\t\t\t\t\t\t\t\t\t</CRow>\n\t\t\t\t\t\t\t\t\t</CForm>\n\t\t\t\t\t\t\t\t</CCardBody>\n\t\t\t\t\t\t\t</CCard>\n\t\t\t\t\t\t\t<CCard\n\t\t\t\t\t\t\t\tclassName=\"text-white bg-primary py-5 d-md-down-none\"\n\t\t\t\t\t\t\t\tstyle={{ width: '44%' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<CCardBody className=\"text-center\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3>DARA CAPITAL</h3>\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\tPlease note that you must be a registered user to get\n\t\t\t\t\t\t\t\t\t\t\taccess to the Dara Plus system. Please contact systems\n\t\t\t\t\t\t\t\t\t\t\tadministrator for your credentials\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t{/*<Link to=\"/register\">\n                      <CButton\n                        color=\"primary\"\n                        className=\"mt-3\"\n                        active\n                        tabIndex={-1}\n                      >\n                        Register Now!\n                      </CButton>\n                      </Link>*/}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CCardBody>\n\t\t\t\t\t\t\t</CCard>\n\t\t\t\t\t\t</CCardGroup>\n\t\t\t\t\t</CCol>\n\t\t\t\t</CRow>\n\t\t\t</CContainer>\n\t\t</div>\n\t);\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}