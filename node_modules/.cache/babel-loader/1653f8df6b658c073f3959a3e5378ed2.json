{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import baseUrl from'../../config.json';import auth from'../../components/services/authService';import Swal from'sweetalert2';import moment from'moment';import{apiUrl}from'../../config.json';import Joi from'joi-browser';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';var GuarantorTwo=function GuarantorTwo(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState({disbursementId:0,customer:0,secondGuarantorName:'',secondGuarantorGpsAddress:'',secondGuarantorPhone:'',secondGuarantorBusiness:'',secondGuarantorIdType:'',secondGuarantorIdNumber:'',secondGuarantorRelationship:'',secondGuarantorHouseholdPerson:'',secondGuarantorHouseholdPersonPhone:''/*secondGuarantorName: '',\n    secondGuarantorGpsAddress: '',\n    secondGuarantorPhone: '',\n    secondGuarantorBusiness: '',\n    secondGuarantorIdType: '',\n    secondGuarantorIdNumber: '',\n    secondGuarantorRelationship: '',\n    secondGuarantorHouseholdPerson: '',\n    secondGuarantorHouseholdPersonPhone: '',\n    */}),_useState4=_slicedToArray(_useState3,2),guarantorData=_useState4[0],setGuarantorData=_useState4[1];useEffect(function(){function getProducts(){return _getProducts.apply(this,arguments);}function _getProducts(){_getProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(baseUrl.apiUrl+'/setup/product');case 2:results=_context.sent;setProducts(results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getProducts.apply(this,arguments);}getProducts();},[products]);/*const handlePrincipalEntry = (e) => {\n    setGuarantorData({\n      ...guarantorData,\n      principal: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }*/var schemaMap={disbursementId:Joi.number().required().label('Disbursement ID'),customer:Joi.number().required().label('Customer'),secondGuarantorName:Joi.string().required().label('Name of Guarantor'),secondGuarantorGpsAddress:Joi.string().required().label('Address'),secondGuarantorPhone:Joi.string().required().label('Phone'),secondGuarantorBusiness:Joi.string().required().label('Business'),secondGuarantorIdType:Joi.string().required().label('ID Type'),secondGuarantorIdNumber:Joi.string().required().label('ID Number'),secondGuarantorRelationship:Joi.string().required().label('Relationship'),secondGuarantorHouseholdPerson:Joi.string().required().label('House Hold Person'),secondGuarantorHouseholdPersonPhone:Joi.string().required().label('House Hold Phone')};var schema=Joi.object(schemaMap);var validateForm=function validateForm(){var result=Joi.validate(guarantorData,schema);if(result.error){return result.error.details[0].message;}else{return null;}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var validate,results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(guarantorData);validate=validateForm();if(!(validate!==null)){_context2.next=4;break;}return _context2.abrupt(\"return\",Swal.fire('Validation',validate,'error'));case 4:_context2.prev=4;_context2.next=7;return axios.put(apiUrl+'/loan/booking/guarantortwo',guarantorData);case 7:results=_context2.sent;if(!(results.status!==200)){_context2.next=12;break;}return _context2.abrupt(\"return\",Swal.fire('OOPs !','Submission Failed ! Check Entries and try again !','error'));case 12:Swal.fire('Good job!','Loan Guarantor Saved Successfully','success');setGuarantorData({disbursementId:0,customer:0,secondGuarantorName:'',secondGuarantorGpsAddress:'',secondGuarantorPhone:'',secondGuarantorBusiness:'',secondGuarantorIdType:'',secondGuarantorIdNumber:'',secondGuarantorRelationship:'',secondGuarantorHouseholdPerson:'',secondGuarantorHouseholdPersonPhone:''});case 14:_context2.next=19;break;case 16:_context2.prev=16;_context2.t0=_context2[\"catch\"](4);Swal.fire('OOPS ! ','Loan Guarantor NOT Saved','error');case 19:case\"end\":return _context2.stop();}}},_callee2,null,[[4,16]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"secondGuarantorName\",className:\"col-sm-2\"},\"Name\"),/*#__PURE__*/React.createElement(CInput,{name:\"secondGuarantorName\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"secondGuarantorName\",value:guarantorData.secondGuarantorName,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorName:e.currentTarget.value,customer:props.customer,disbursementId:props.disbursementId}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"f\",className:\"form-label col-sm-2\"},\"Phone\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"secondGuarantorPhone\",type:\"text\",className:\"form-control col-sm-8\",id:\"secondGuarantorPhone\",value:guarantorData.secondGuarantorPhone,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorPhone:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"GPhone\",className:\"col-sm-2\"},\"GPS Address\"),/*#__PURE__*/React.createElement(CInput,{name:\"Gphone\",autoComplete:\"off\",type:\"text\",className:\"col-sm-4\",id:\"Gphone\",value:guarantorData.secondGuarantorGpsAddress,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorGpsAddress:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"idType\",className:\"col-sm-2\"},\"ID Type\"),/*#__PURE__*/React.createElement(CSelect,{className:\"form-select col-sm-8\",\"aria-CLabel\":\"Default select example\",value:guarantorData.secondGuarantorIdType,onChange:function onChange(e){setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorIdType:e.currentTarget.value}));}},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"\"},\"--Select ID--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"National ID\"},\"National ID\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Voter ID\"},\"Voter ID\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Driver's License\"},\"Driver's License\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Passport\"},\"Passport\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"GPhone\",className:\"col-sm-2\"},\"ID Number\"),/*#__PURE__*/React.createElement(CInput,{name:\"Gphone\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"Gphone\",value:guarantorData.secondGuarantorIdNumber,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorIdNumber:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"secondGuarantorBusiness\",className:\"col-sm-2\"},\"Business/Occup.\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"secondGuarantorBusiness\",type:\"text\",className:\"col-sm-8\",id:\"secondGuarantorBusiness\",value:guarantorData.secondGuarantorBusiness,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorBusiness:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"idType\",className:\"col-sm-2\"},\"Relationship\"),/*#__PURE__*/React.createElement(CSelect,{className:\"col-sm-8\",\"aria-CLabel\":\"Default select example\",value:guarantorData.secondGuarantorRelationship,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorRelationship:e.currentTarget.value}));}},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"\"},\"--Select--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Father\"},\"Father\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Mother\"},\"Mother\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Sibling\"},\"Sibling\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Family\"},\"Family\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Son\"},\"Son\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Daughter\"},\"Daughter\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Brother\"},\"Brother\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Sister\"},\"Sister\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Friend\"},\"Friend\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Spouse\"},\"Spouse\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Business Partner\"},\"Business Partner\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Work Colleague\"},\"Work Colleague\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Supervisor\"},\"Supervisor\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Pastor\"},\"Pastor\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"nextofkin\",className:\"col-sm-2\"},\"Person In Household\"),/*#__PURE__*/React.createElement(CInput,{name:\"Gphone\",autoComplete:\"off\",type:\"text\",className:\"col-sm-8\",id:\"household\",value:guarantorData.secondGuarantorHouseholdPerson,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorHouseholdPerson:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"householdPhone\",className:\"col-sm-2\"},\"Person's Phone\"),/*#__PURE__*/React.createElement(CInput,{autoComplete:\"off\",name:\"Gphone\",type:\"text\",className:\"col-sm-8\",id:\"householdPhone\",value:guarantorData.secondGuarantorHouseholdPersonPhone,onChange:function onChange(e){return setGuarantorData(_objectSpread(_objectSpread({},guarantorData),{},{secondGuarantorHouseholdPersonPhone:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(CButton,{onClick:handleSubmit,className:\"m-3 float-right\",color:\"success\"},\"Submit\")));};export default GuarantorTwo;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/guarantorTwo.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","baseUrl","auth","Swal","moment","apiUrl","Joi","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","GuarantorTwo","props","products","setProducts","disbursementId","customer","secondGuarantorName","secondGuarantorGpsAddress","secondGuarantorPhone","secondGuarantorBusiness","secondGuarantorIdType","secondGuarantorIdNumber","secondGuarantorRelationship","secondGuarantorHouseholdPerson","secondGuarantorHouseholdPersonPhone","guarantorData","setGuarantorData","getProducts","get","results","data","schemaMap","number","required","label","string","schema","object","validateForm","result","validate","error","details","message","handleSubmit","console","log","fire","put","status","e","currentTarget","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport moment from 'moment'\nimport { apiUrl } from '../../config.json'\nimport Joi from 'joi-browser'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst GuarantorTwo = (props) => {\n  const [products, setProducts] = useState([])\n  const [guarantorData, setGuarantorData] = useState({\n    disbursementId: 0,\n    customer: 0,\n    secondGuarantorName: '',\n    secondGuarantorGpsAddress: '',\n    secondGuarantorPhone: '',\n    secondGuarantorBusiness: '',\n    secondGuarantorIdType: '',\n    secondGuarantorIdNumber: '',\n    secondGuarantorRelationship: '',\n    secondGuarantorHouseholdPerson: '',\n    secondGuarantorHouseholdPersonPhone: '',\n\n    /*secondGuarantorName: '',\n    secondGuarantorGpsAddress: '',\n    secondGuarantorPhone: '',\n    secondGuarantorBusiness: '',\n    secondGuarantorIdType: '',\n    secondGuarantorIdNumber: '',\n    secondGuarantorRelationship: '',\n    secondGuarantorHouseholdPerson: '',\n    secondGuarantorHouseholdPersonPhone: '',\n    */\n  })\n\n  useEffect(() => {\n    async function getProducts() {\n      const results = await axios.get(baseUrl.apiUrl + '/setup/product')\n      setProducts(results.data)\n    }\n    getProducts()\n  }, [products])\n\n  /*const handlePrincipalEntry = (e) => {\n    setGuarantorData({\n      ...guarantorData,\n      principal: e.currentTarget.value,\n      customer: props.customer,\n      disbursementId: props.disbursementId,\n    })\n  }*/\n\n  const schemaMap = {\n    disbursementId: Joi.number().required().label('Disbursement ID'),\n    customer: Joi.number().required().label('Customer'),\n    secondGuarantorName: Joi.string().required().label('Name of Guarantor'),\n    secondGuarantorGpsAddress: Joi.string().required().label('Address'),\n    secondGuarantorPhone: Joi.string().required().label('Phone'),\n    secondGuarantorBusiness: Joi.string().required().label('Business'),\n    secondGuarantorIdType: Joi.string().required().label('ID Type'),\n    secondGuarantorIdNumber: Joi.string().required().label('ID Number'),\n    secondGuarantorRelationship: Joi.string().required().label('Relationship'),\n    secondGuarantorHouseholdPerson: Joi.string()\n      .required()\n      .label('House Hold Person'),\n    secondGuarantorHouseholdPersonPhone: Joi.string()\n      .required()\n      .label('House Hold Phone'),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(guarantorData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    console.log(guarantorData)\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.put(\n        apiUrl + '/loan/booking/guarantortwo',\n        guarantorData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Loan Guarantor Saved Successfully', 'success')\n\n        setGuarantorData({\n          disbursementId: 0,\n          customer: 0,\n          secondGuarantorName: '',\n          secondGuarantorGpsAddress: '',\n          secondGuarantorPhone: '',\n          secondGuarantorBusiness: '',\n          secondGuarantorIdType: '',\n          secondGuarantorIdNumber: '',\n          secondGuarantorRelationship: '',\n          secondGuarantorHouseholdPerson: '',\n          secondGuarantorHouseholdPersonPhone: '',\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ', 'Loan Guarantor NOT Saved', 'error')\n    }\n  }\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"secondGuarantorName\" className=\"col-sm-2\">\n          Name\n        </CLabel>\n        <CInput\n          name=\"secondGuarantorName\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"secondGuarantorName\"\n          value={guarantorData.secondGuarantorName}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorName: e.currentTarget.value,\n              customer: props.customer,\n              disbursementId: props.disbursementId,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"f\" className=\"form-label col-sm-2\">\n          Phone\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"secondGuarantorPhone\"\n          type=\"text\"\n          className=\"form-control col-sm-8\"\n          id=\"secondGuarantorPhone\"\n          value={guarantorData.secondGuarantorPhone}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorPhone: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"GPhone\" className=\"col-sm-2\">\n          GPS Address\n        </CLabel>\n        <CInput\n          name=\"Gphone\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-4\"\n          id=\"Gphone\"\n          value={guarantorData.secondGuarantorGpsAddress}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorGpsAddress: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"row mb-3\">\n        <CLabel htmlFor=\"idType\" className=\"col-sm-2\">\n          ID Type\n        </CLabel>\n        <CSelect\n          className=\"form-select col-sm-8\"\n          aria-CLabel=\"Default select example\"\n          value={guarantorData.secondGuarantorIdType}\n          onChange={(e) => {\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorIdType: e.currentTarget.value,\n            })\n          }}\n        >\n          <option defaultValue=\"\">--Select ID--</option>\n          <option value=\"National ID\">National ID</option>\n          <option value=\"Voter ID\">Voter ID</option>\n          <option value=\"Driver's License\">Driver's License</option>\n          <option value=\"Passport\">Passport</option>\n        </CSelect>\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"GPhone\" className=\"col-sm-2\">\n          ID Number\n        </CLabel>\n        <CInput\n          name=\"Gphone\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"Gphone\"\n          value={guarantorData.secondGuarantorIdNumber}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorIdNumber: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"secondGuarantorBusiness\" className=\"col-sm-2\">\n          Business/Occup.\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"secondGuarantorBusiness\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"secondGuarantorBusiness\"\n          value={guarantorData.secondGuarantorBusiness}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorBusiness: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      {/*<div className=\"mb-3 row\">\n        <CLabel htmlFor=\"dateofbirth\" className=\"col-sm-2\">\n          Date of Birth\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"Gphone\"\n          type=\"date\"\n          className=\"col-sm-8\"\n          id=\"dateofbirth\"\n          value={guarantorData.secondGuarantorDoB}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorDoB: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n        \n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"nextofkin\" className=\"col-sm-2\">\n          Next of Kin\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"Gphone\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"nextofkin\"\n          value={guarantorData.secondGuarantorNextOfKin}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorNextOfKin: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n        */}\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"idType\" className=\"col-sm-2\">\n          Relationship\n        </CLabel>\n        <CSelect\n          className=\"col-sm-8\"\n          aria-CLabel=\"Default select example\"\n          value={guarantorData.secondGuarantorRelationship}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorRelationship: e.currentTarget.value,\n            })\n          }\n        >\n          <option defaultValue=\"\">--Select--</option>\n          <option value=\"Father\">Father</option>\n          <option value=\"Mother\">Mother</option>\n          <option value=\"Sibling\">Sibling</option>\n          <option value=\"Family\">Family</option>\n          <option value=\"Son\">Son</option>\n          <option value=\"Daughter\">Daughter</option>\n          <option value=\"Brother\">Brother</option>\n          <option value=\"Sister\">Sister</option>\n          <option value=\"Friend\">Friend</option>\n          <option value=\"Spouse\">Spouse</option>\n          <option value=\"Business Partner\">Business Partner</option>\n          <option value=\"Work Colleague\">Work Colleague</option>\n          <option value=\"Supervisor\">Supervisor</option>\n          <option value=\"Pastor\">Pastor</option>\n        </CSelect>\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"nextofkin\" className=\"col-sm-2\">\n          Person In Household\n        </CLabel>\n        <CInput\n          name=\"Gphone\"\n          autoComplete=\"off\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"household\"\n          value={guarantorData.secondGuarantorHouseholdPerson}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorHouseholdPerson: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"mb-3 row\">\n        <CLabel htmlFor=\"householdPhone\" className=\"col-sm-2\">\n          Person's Phone\n        </CLabel>\n        <CInput\n          autoComplete=\"off\"\n          name=\"Gphone\"\n          type=\"text\"\n          className=\"col-sm-8\"\n          id=\"householdPhone\"\n          value={guarantorData.secondGuarantorHouseholdPersonPhone}\n          onChange={(e) =>\n            setGuarantorData({\n              ...guarantorData,\n              secondGuarantorHouseholdPersonPhone: e.currentTarget.value,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"justify-content-center\">\n        <CButton\n          onClick={handleSubmit}\n          className=\"m-3 float-right\"\n          color=\"success\"\n        >\n          Submit\n        </CButton>\n      </div>\n    </div>\n  )\n}\n\nexport default GuarantorTwo\n"]},"metadata":{},"sourceType":"module"}