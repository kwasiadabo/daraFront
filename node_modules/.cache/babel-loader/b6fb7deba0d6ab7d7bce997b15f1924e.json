{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import moment from'moment';import{apiUrl}from'../../config.json';import auth from'../../components/services/authService';import Joi from'joi-browser';import Swal from'sweetalert2';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';var Staff=function Staff(){var _useState=useState({nameOfStaff:'',phone:'',dob:'',dateEmployed:'',qualification:'',guarantorOne:'',guarantorOnePhone:'',guarantorTwo:'',guarantorTwoPhone:''}),_useState2=_slicedToArray(_useState,2),staff=_useState2[0],setStaff=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),staffData=_useState4[0],setStaffData=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearch=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),editMode=_useState10[0],setEditMode=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),render=_useState12[0],setRender=_useState12[1];useEffect(function(){function getStaff(){return _getStaff.apply(this,arguments);}function _getStaff(){_getStaff=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(apiUrl+'/setup/staff');case 2:results=_context.sent;setStaffData(results.data);//console.log(customers);\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return _getStaff.apply(this,arguments);}getStaff();console.log(staffData);},[staffData]);var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(apiUrl+'/setup/staff',staff);case 3:results=_context2.sent;if(!(results.status!==200)){_context2.next=8;break;}return _context2.abrupt(\"return\",Swal.fire('Failed','Submission Failed ! Check Entries and try again !','error'));case 8:Swal.fire('Success','Staff Saved Successfully','success');setStaff({nameOfStaff:'',phone:'',dob:'',dateEmployed:'',qualification:'',guarantorOne:'',guarantorOnePhone:'',guarantorTwo:'',guarantorTwoPhone:''});case 10:_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);Swal.fire('Error','OOPS ! '+_context2.t0.message,'error');case 15:case\"end\":return _context2.stop();}}},_callee2,null,[[0,12]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleSearch=function handleSearch(event){setSearch(event.target.value);};var data={sStaff:staffData.filter(function(item){return item.nameOfStaff.toLowerCase().includes(search.toLowerCase());})};var staffView=function staffView(s){console.log(s);};var handleOnEdit=function handleOnEdit(p){setEditMode(true);setStaff({nameOfStaff:p.nameOfStaff,phone:p.phone,dob:new Date(p.dob).toISOString().slice(0,10),dateEmployed:new Date(p.dateEmployed).toISOString().slice(0,10),qualification:p.qualification,guarantorOne:p.guarantorOne,guarantorOnePhone:p.guarantorOnePhone,guarantorTwo:p.guarantorTwo,guarantorTwoPhone:p.guarantorTwoPhone,id:p.id});setShow(!show);//setDisabled(!disabled);\n};var handleUpdate=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var results;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(staff);if(!(staff.nameOfStaff!=='')){_context3.next=21;break;}_context3.prev=2;_context3.next=5;return axios.put(apiUrl+'/setup/staff',staff);case 5:results=_context3.sent;if(!(results.status!==200)){_context3.next=10;break;}return _context3.abrupt(\"return\",Swal.fire('OOPS !','Submission Failed ! Check Entries and try again !','error'));case 10:Swal.fire('Success','Staff Updated Successfully','success');setStaff({nameOfStaff:'',phone:'',dob:'',dateEmployed:'',qualification:'',guarantorOne:'',guarantorOnePhone:'',guarantorTwo:'',guarantorTwoPhone:''});setEditMode(false);setRender(!render);case 14:_context3.next=19;break;case 16:_context3.prev=16;_context3.t0=_context3[\"catch\"](2);Swal.fire('OOPS ! '+_context3.t0.message,'error');case 19:_context3.next=22;break;case 21:return _context3.abrupt(\"return\",Swal.fire('OOPS','Enter all Details !','error'));case 22:case\"end\":return _context3.stop();}}},_callee3,null,[[2,16]]);}));return function handleUpdate(_x){return _ref2.apply(this,arguments);};}();var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var results;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(staff.nameOfStaff!=='')){_context4.next=20;break;}_context4.prev=1;_context4.next=4;return axios.delete(apiUrl+'/setup/staff/'+staff.id);case 4:results=_context4.sent;if(!(results.status!==200)){_context4.next=9;break;}return _context4.abrupt(\"return\",Swal.fire('OOPS !','Submission Failed ! Check Entries and try again !','error'));case 9:Swal.fire('Success','Staff Deleted Successfully','success');setStaff({nameOfStaff:'',phone:'',dob:'',dateEmployed:'',qualification:'',guarantorOne:'',guarantorOnePhone:'',guarantorTwo:'',guarantorTwoPhone:''});setEditMode(false);setRender(!render);case 13:_context4.next=18;break;case 15:_context4.prev=15;_context4.t0=_context4[\"catch\"](1);Swal.fire('OOPS ! '+_context4.t0.message,'error');case 18:_context4.next=21;break;case 20:return _context4.abrupt(\"return\",Swal.fire('OOPS','Select a Staff !','error'));case 21:case\"end\":return _context4.stop();}}},_callee4,null,[[1,15]]);}));return function handleDelete(){return _ref3.apply(this,arguments);};}();var dataTouse=search.length===0?staffData:data.sStaff;return/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 mt-3\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"centertext\"},\"Staff Details\"),/*#__PURE__*/React.createElement(\"p\",{className:\"staffp\"},\"People and their behaviors are what deliver results to your organization. Not systems, not processes, not computers, not machines.\",' ',/*#__PURE__*/React.createElement(\"br\",null),\"\\\"Mark Hortsman\\\"\"),/*#__PURE__*/React.createElement(\"div\",{className:\"centreStaff row \"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive\"},/*#__PURE__*/React.createElement(CButton,{type:\"submit\",className:\"btn btn-success btn-block col-sm-3 float-right btn-sm\",onClick:function onClick(){return setShow(!show);}},\"Enter New Staff\"),/*#__PURE__*/React.createElement(CInput,{className:\"mt-3 mb-3 col-4\",type:\"text\",placeholder:\"Search with Staff Name or Phone\",onChange:handleSearch}),/*#__PURE__*/React.createElement(Table,null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"fs-sm\"},/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date of Birth\"),/*#__PURE__*/React.createElement(\"th\",null,\"Phone\"),/*#__PURE__*/React.createElement(\"th\",null,\"Qualification\"),/*#__PURE__*/React.createElement(\"th\",{className:\"hidden-sm-down\"},\"Date Employed\"))),/*#__PURE__*/React.createElement(\"tbody\",null,dataTouse.map(function(s,index){return/*#__PURE__*/React.createElement(\"tr\",{key:s.id,Style:\"cursor: pointer;\",onClick:function onClick(){return handleOnEdit(s);}},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,s.nameOfStaff),/*#__PURE__*/React.createElement(\"td\",null,moment(s.dob).format('DD-MMMM-YYYY')),/*#__PURE__*/React.createElement(\"td\",null,s.phone),/*#__PURE__*/React.createElement(\"td\",null,s.qualification),/*#__PURE__*/React.createElement(\"td\",null,moment(s.dateEmployed).format('DD-MMMM-YYYY')));})))),/*#__PURE__*/React.createElement(CModal,{show:show,onClose:function onClose(){setShow(!show);},color:\"success\",size:\"lg\"},/*#__PURE__*/React.createElement(CModalHeader,{closeButton:true},/*#__PURE__*/React.createElement(CModalTitle,null,\"STAFF MGT | ADD STAFF \")),/*#__PURE__*/React.createElement(CModalBody,null,/*#__PURE__*/React.createElement(CFormGroup,null,/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"fullName\",className:\"form-Label col-sm-3\"},\"Staff Name\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"fullName\",value:staff.nameOfStaff,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{nameOfStaff:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dob\",className:\"form-label col-sm-3\"},\"Date of Birth\"),/*#__PURE__*/React.createElement(CInput,{type:\"date\",className:\"form-control col-sm-8\",id:\"dob\",value:staff.dob,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{dob:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"appdate\",className:\"form-label col-sm-3\"},\"Appointment Date\"),/*#__PURE__*/React.createElement(CInput,{type:\"date\",className:\"form-control col-sm-8\",id:\"appdate\",value:staff.dateEmployed,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{dateEmployed:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"phone\",className:\"form-label col-sm-3\"},\"Phone Number\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"phone\",value:staff.phone,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{phone:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"qualification\",className:\"form-label col-sm-3\"},\"Qualification\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"qualification\",value:staff.qualification,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{qualification:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"guarantor\",className:\"form-label col-sm-3\"},\"Guarantor 1\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"guarantor\",value:staff.guarantorOne,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{guarantorOne:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"phoneofgurantor1\",className:\"form-label col-sm-3\"},\"Phone of Guarantor 1\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"phoneofgurantor1\",value:staff.guarantorOnePhone,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{guarantorOnePhone:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"guarantor2\",className:\"form-label col-sm-3\"},\"Guarantor 2\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"guarantor2\",value:staff.guarantorTwo,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{guarantorTwo:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(CInputGroup,{className:\"mt-3\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"phoneofgurantor2\",className:\"form-label col-sm-3\"},\"Phone of Guarantor 2\"),/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control col-sm-8\",id:\"phoneofgurantor2\",value:staff.guarantorTwoPhone,onChange:function onChange(e){return setStaff(_objectSpread(_objectSpread({},staff),{},{guarantorTwoPhone:e.currentTarget.value}));}})),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-center mt-3 mb-3\"},!editMode?/*#__PURE__*/React.createElement(CButton,{className:\"btn btn-primary col-sm-2 mt-3 btn-sm\",onClick:handleSubmit},\"Submit\"):null,editMode?/*#__PURE__*/React.createElement(CButton,{className:\"btn-sm m-3 col-sm-2\",color:\"success\",onClick:handleUpdate},\"Update\"):null,editMode&&/*#__PURE__*/React.createElement(CButton,{className:\"btn btn-danger col-sm-2 m-3 btn-sm\",onClick:handleDelete},\"Delete\")))))));};export default Staff;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/staff.js"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","moment","apiUrl","auth","Joi","Swal","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","Staff","nameOfStaff","phone","dob","dateEmployed","qualification","guarantorOne","guarantorOnePhone","guarantorTwo","guarantorTwoPhone","staff","setStaff","staffData","setStaffData","search","setSearch","show","setShow","editMode","setEditMode","render","setRender","getStaff","get","results","data","console","log","handleSubmit","post","status","fire","message","handleSearch","event","target","value","sStaff","filter","item","toLowerCase","includes","staffView","s","handleOnEdit","p","Date","toISOString","slice","id","handleUpdate","e","put","handleDelete","delete","dataTouse","length","map","index","format","currentTarget"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport moment from 'moment';\nimport { apiUrl } from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Joi from 'joi-browser';\nimport Swal from 'sweetalert2';\n\nimport {\n\tCBadge,\n\tCCard,\n\tCCardBody,\n\t//CCardHeader,\n\tCCol,\n\tCDataTable,\n\tCRow,\n\tCButton,\n\tCModal,\n\tCModalFooter,\n\tCModalHeader,\n\tCModalBody,\n\tCCardHeader,\n\tCInputGroupAppend,\n\tCInputGroupPrepend,\n\tCDropdownItem,\n\tCForm,\n\t//CCardFooter,\n\tCDropdownToggle,\n\t//CInputRadio,\n\tCDropdown,\n\tCModalTitle,\n\t//CFormText,\n\t//CTextarea,\n\tCFormGroup,\n\tCLabel,\n\t// CSwitch,\n\tCInput,\n\t//CInputFile,\n\tCSelect,\n\tCDropdownMenu,\n\t//CCardFooter,\n\tCInputGroup,\n\t//CForm,\n} from '@coreui/react';\n\nimport {\n\tRow,\n\tCol,\n\tTable,\n\tProgress,\n\tButton,\n\tUncontrolledButtonDropdown,\n\tDropdownMenu,\n\tDropdownToggle,\n\tDropdownItem,\n\tInput,\n\tLabel,\n\tBadge,\n} from 'reactstrap';\n\nconst Staff = () => {\n\tconst [staff, setStaff] = useState({\n\t\tnameOfStaff: '',\n\t\tphone: '',\n\t\tdob: '',\n\t\tdateEmployed: '',\n\t\tqualification: '',\n\t\tguarantorOne: '',\n\t\tguarantorOnePhone: '',\n\t\tguarantorTwo: '',\n\t\tguarantorTwoPhone: '',\n\t});\n\tconst [staffData, setStaffData] = useState([]);\n\tconst [search, setSearch] = useState('');\n\tconst [show, setShow] = useState(false);\n\tconst [editMode, setEditMode] = useState(false);\n\tconst [render, setRender] = useState(false);\n\n\tuseEffect(() => {\n\t\tasync function getStaff() {\n\t\t\tconst results = await axios.get(apiUrl + '/setup/staff');\n\t\t\tsetStaffData(results.data);\n\t\t\t//console.log(customers);\n\t\t}\n\t\tgetStaff();\n\t\tconsole.log(staffData);\n\t}, [staffData]);\n\n\tconst handleSubmit = async () => {\n\t\ttry {\n\t\t\tconst results = await axios.post(apiUrl + '/setup/staff', staff);\n\n\t\t\tif (results.status !== 200) {\n\t\t\t\treturn Swal.fire(\n\t\t\t\t\t'Failed',\n\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t'error'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tSwal.fire('Success', 'Staff Saved Successfully', 'success');\n\t\t\t\tsetStaff({\n\t\t\t\t\tnameOfStaff: '',\n\t\t\t\t\tphone: '',\n\t\t\t\t\tdob: '',\n\t\t\t\t\tdateEmployed: '',\n\t\t\t\t\tqualification: '',\n\t\t\t\t\tguarantorOne: '',\n\t\t\t\t\tguarantorOnePhone: '',\n\t\t\t\t\tguarantorTwo: '',\n\t\t\t\t\tguarantorTwoPhone: '',\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tSwal.fire('Error', 'OOPS ! ' + err.message, 'error');\n\t\t}\n\t};\n\tconst handleSearch = (event) => {\n\t\tsetSearch(event.target.value);\n\t};\n\n\tconst data = {\n\t\tsStaff: staffData.filter((item) =>\n\t\t\titem.nameOfStaff.toLowerCase().includes(search.toLowerCase())\n\t\t),\n\t};\n\n\tconst staffView = (s) => {\n\t\tconsole.log(s);\n\t};\n\n\tconst handleOnEdit = (p) => {\n\t\tsetEditMode(true);\n\t\tsetStaff({\n\t\t\tnameOfStaff: p.nameOfStaff,\n\t\t\tphone: p.phone,\n\t\t\tdob: new Date(p.dob).toISOString().slice(0, 10),\n\t\t\tdateEmployed: new Date(p.dateEmployed).toISOString().slice(0, 10),\n\t\t\tqualification: p.qualification,\n\t\t\tguarantorOne: p.guarantorOne,\n\t\t\tguarantorOnePhone: p.guarantorOnePhone,\n\t\t\tguarantorTwo: p.guarantorTwo,\n\t\t\tguarantorTwoPhone: p.guarantorTwoPhone,\n\t\t\tid: p.id,\n\t\t});\n\t\tsetShow(!show);\n\t\t//setDisabled(!disabled);\n\t};\n\n\tconst handleUpdate = async (e) => {\n\t\tconsole.log(staff);\n\t\tif (staff.nameOfStaff !== '') {\n\t\t\ttry {\n\t\t\t\tconst results = await axios.put(apiUrl + '/setup/staff', staff);\n\t\t\t\tif (results.status !== 200) {\n\t\t\t\t\treturn Swal.fire(\n\t\t\t\t\t\t'OOPS !',\n\t\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire('Success', 'Staff Updated Successfully', 'success');\n\t\t\t\t\tsetStaff({\n\t\t\t\t\t\tnameOfStaff: '',\n\t\t\t\t\t\tphone: '',\n\t\t\t\t\t\tdob: '',\n\t\t\t\t\t\tdateEmployed: '',\n\t\t\t\t\t\tqualification: '',\n\t\t\t\t\t\tguarantorOne: '',\n\t\t\t\t\t\tguarantorOnePhone: '',\n\t\t\t\t\t\tguarantorTwo: '',\n\t\t\t\t\t\tguarantorTwoPhone: '',\n\t\t\t\t\t});\n\t\t\t\t\tsetEditMode(false);\n\t\t\t\t\tsetRender(!render);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tSwal.fire('OOPS ! ' + err.message, 'error');\n\t\t\t}\n\t\t} else {\n\t\t\treturn Swal.fire('OOPS', 'Enter all Details !', 'error');\n\t\t}\n\t};\n\n\tconst handleDelete = async () => {\n\t\tif (staff.nameOfStaff !== '') {\n\t\t\ttry {\n\t\t\t\tconst results = await axios.delete(apiUrl + '/setup/staff/' + staff.id);\n\t\t\t\tif (results.status !== 200) {\n\t\t\t\t\treturn Swal.fire(\n\t\t\t\t\t\t'OOPS !',\n\t\t\t\t\t\t'Submission Failed ! Check Entries and try again !',\n\t\t\t\t\t\t'error'\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tSwal.fire('Success', 'Staff Deleted Successfully', 'success');\n\t\t\t\t\tsetStaff({\n\t\t\t\t\t\tnameOfStaff: '',\n\t\t\t\t\t\tphone: '',\n\t\t\t\t\t\tdob: '',\n\t\t\t\t\t\tdateEmployed: '',\n\t\t\t\t\t\tqualification: '',\n\t\t\t\t\t\tguarantorOne: '',\n\t\t\t\t\t\tguarantorOnePhone: '',\n\t\t\t\t\t\tguarantorTwo: '',\n\t\t\t\t\t\tguarantorTwoPhone: '',\n\t\t\t\t\t});\n\t\t\t\t\tsetEditMode(false);\n\t\t\t\t\tsetRender(!render);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tSwal.fire('OOPS ! ' + err.message, 'error');\n\t\t\t}\n\t\t} else {\n\t\t\treturn Swal.fire('OOPS', 'Select a Staff !', 'error');\n\t\t}\n\t};\n\n\tconst dataTouse = search.length === 0 ? staffData : data.sStaff;\n\treturn (\n\t\t<div className=\"col-sm-12 mt-3\">\n\t\t\t<h1 className=\"centertext\">Staff Details</h1>\n\t\t\t<p className=\"staffp\">\n\t\t\t\tPeople and their behaviors are what deliver results to your\n\t\t\t\torganization. Not systems, not processes, not computers, not machines.{' '}\n\t\t\t\t<br />\n\t\t\t\t\"Mark Hortsman\"\n\t\t\t</p>\n\n\t\t\t<div className=\"centreStaff row \">\n\t\t\t\t<div className=\"table-responsive\">\n\t\t\t\t\t<CButton\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"btn btn-success btn-block col-sm-3 float-right btn-sm\"\n\t\t\t\t\t\tonClick={() => setShow(!show)}\n\t\t\t\t\t>\n\t\t\t\t\t\tEnter New Staff\n\t\t\t\t\t</CButton>\n\t\t\t\t\t<CInput\n\t\t\t\t\t\tclassName=\"mt-3 mb-3 col-4\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"Search with Staff Name or Phone\"\n\t\t\t\t\t\tonChange={handleSearch}\n\t\t\t\t\t/>\n\t\t\t\t\t<Table>\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr className=\"fs-sm\">\n\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t\t<th>Date of Birth</th>\n\t\t\t\t\t\t\t\t<th>Phone</th>\n\t\t\t\t\t\t\t\t<th>Qualification</th>\n\n\t\t\t\t\t\t\t\t<th className=\"hidden-sm-down\">Date Employed</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{dataTouse.map((s, index) => (\n\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\tkey={s.id}\n\t\t\t\t\t\t\t\t\tStyle=\"cursor: pointer;\"\n\t\t\t\t\t\t\t\t\tonClick={() => handleOnEdit(s)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<td>{index + 1}</td>\n\t\t\t\t\t\t\t\t\t<td>{s.nameOfStaff}</td>\n\t\t\t\t\t\t\t\t\t<td>{moment(s.dob).format('DD-MMMM-YYYY')}</td>\n\t\t\t\t\t\t\t\t\t<td>{s.phone}</td>\n\t\t\t\t\t\t\t\t\t<td>{s.qualification}</td>\n\t\t\t\t\t\t\t\t\t<td>{moment(s.dateEmployed).format('DD-MMMM-YYYY')}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</Table>\n\t\t\t\t</div>\n\n\t\t\t\t<CModal\n\t\t\t\t\tshow={show}\n\t\t\t\t\tonClose={() => {\n\t\t\t\t\t\tsetShow(!show);\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t>\n\t\t\t\t\t<CModalHeader closeButton>\n\t\t\t\t\t\t<CModalTitle>STAFF MGT | ADD STAFF </CModalTitle>\n\t\t\t\t\t</CModalHeader>\n\t\t\t\t\t<CModalBody>\n\t\t\t\t\t\t<CFormGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"fullName\" className=\"form-Label col-sm-3\">\n\t\t\t\t\t\t\t\t\tStaff Name\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"fullName\"\n\t\t\t\t\t\t\t\t\tvalue={staff.nameOfStaff}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tnameOfStaff: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"dob\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tDate of Birth\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"dob\"\n\t\t\t\t\t\t\t\t\tvalue={staff.dob}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tdob: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"appdate\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tAppointment Date\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"appdate\"\n\t\t\t\t\t\t\t\t\tvalue={staff.dateEmployed}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tdateEmployed: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"phone\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tPhone Number\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\tvalue={staff.phone}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tphone: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"qualification\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tQualification\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"qualification\"\n\t\t\t\t\t\t\t\t\tvalue={staff.qualification}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tqualification: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"guarantor\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tGuarantor 1\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"guarantor\"\n\t\t\t\t\t\t\t\t\tvalue={staff.guarantorOne}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tguarantorOne: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel\n\t\t\t\t\t\t\t\t\thtmlFor=\"phoneofgurantor1\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-label col-sm-3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPhone of Guarantor 1\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"phoneofgurantor1\"\n\t\t\t\t\t\t\t\t\tvalue={staff.guarantorOnePhone}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tguarantorOnePhone: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel htmlFor=\"guarantor2\" className=\"form-label col-sm-3\">\n\t\t\t\t\t\t\t\t\tGuarantor 2\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"guarantor2\"\n\t\t\t\t\t\t\t\t\tvalue={staff.guarantorTwo}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tguarantorTwo: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\n\t\t\t\t\t\t\t<CInputGroup className=\"mt-3\">\n\t\t\t\t\t\t\t\t<CLabel\n\t\t\t\t\t\t\t\t\thtmlFor=\"phoneofgurantor2\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-label col-sm-3\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPhone of Guarantor 2\n\t\t\t\t\t\t\t\t</CLabel>\n\t\t\t\t\t\t\t\t<CInput\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tclassName=\"form-control col-sm-8\"\n\t\t\t\t\t\t\t\t\tid=\"phoneofgurantor2\"\n\t\t\t\t\t\t\t\t\tvalue={staff.guarantorTwoPhone}\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\tsetStaff({\n\t\t\t\t\t\t\t\t\t\t\t...staff,\n\t\t\t\t\t\t\t\t\t\t\tguarantorTwoPhone: e.currentTarget.value,\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</CInputGroup>\n\n\t\t\t\t\t\t\t<div className=\"d-flex justify-content-center mt-3 mb-3\">\n\t\t\t\t\t\t\t\t{!editMode ? (\n\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-primary col-sm-2 mt-3 btn-sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t{editMode ? (\n\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn-sm m-3 col-sm-2\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleUpdate}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t) : null}\n\n\t\t\t\t\t\t\t\t{editMode && (\n\t\t\t\t\t\t\t\t\t<CButton\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger col-sm-2 m-3 btn-sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t\t\t\t</CButton>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</CFormGroup>\n\t\t\t\t\t</CModalBody>\n\t\t\t\t</CModal>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Staff;\n"]},"metadata":{},"sourceType":"module"}