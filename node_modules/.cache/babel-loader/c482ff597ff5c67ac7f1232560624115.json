{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Modal}from'react-bootstrap';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import moment from'moment';import Joi from'joi-browser';import CurrencyFormat from'react-currency-format';import Swal from'sweetalert2';import auth from'../../components/services/authService';import{apiUrl}from'../../config.json';import{reportUrl}from'../../config.json';import AdaboSelect from'react-select';import{Row,Col,Table,Progress,Button,UncontrolledButtonDropdown,DropdownMenu,DropdownToggle,DropdownItem,Input,Label,Badge}from'reactstrap';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n,CLink}from'@coreui/react';var IssuedCheque=function IssuedCheque(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),activeLoan=_useState4[0],setActiveLoan=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),render=_useState6[0],setRender=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),customers=_useState8[0],setCustomers=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),chequeNumber=_useState10[0],setChequeNumber=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),cheques=_useState12[0],setCheques=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),buffer=_useState14[0],setBuffer=_useState14[1];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),banks=_useState16[0],setBanks=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),bankAccounts=_useState18[0],setBankAccounts=_useState18[1];//const [user, setUser] = useState({})\nvar _useState19=useState([]),_useState20=_slicedToArray(_useState19,2),issuedCheques=_useState20[0],setIssuedCheques=_useState20[1];//const [totalAmt, setTotalAmt] = useState(0)\nvar _useState21=useState({nameOnCheque:'',bank:0,bankAccount:0,dateOnCheque:'',chequeNumber:'',amount:'',issuedBy:0,status:'Not Disbursed',bookingStatus:'Not Booked',entryDate:new Date()}),_useState22=_slicedToArray(_useState21,2),chequeData=_useState22[0],setChequeData=_useState22[1];var _useState23=useState(new Date().toISOString().slice(0,10)),_useState24=_slicedToArray(_useState23,2),startDate=_useState24[0],setStartDate=_useState24[1];var _useState25=useState(new Date().toISOString().slice(0,10)),_useState26=_slicedToArray(_useState25,2),endDate=_useState26[0],setEndDate=_useState26[1];var user=auth.getCurrentUser();var formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'GHS'// These options are needed to round to whole numbers if that's what you want.\n//minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n//maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});useEffect(function(){function getCustomers(){return _getCustomers.apply(this,arguments);}function _getCustomers(){_getCustomers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(apiUrl+'/customer');case 2:results=_context.sent;setCustomers(results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getCustomers.apply(this,arguments);}getCustomers();},[customers]);useEffect(function(){function getBanks(){return _getBanks.apply(this,arguments);}function _getBanks(){_getBanks=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var results;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(apiUrl+'/setup/bank');case 2:results=_context2.sent;setBanks(results.data);// setUser(auth.getCurrentUser)\ncase 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getBanks.apply(this,arguments);}getBanks();},[]);var handleBankChange=function handleBankChange(e){getBankAccounts(e.currentTarget.value);setChequeData(_objectSpread(_objectSpread({},chequeData),{},{bank:e.currentTarget.value}));};var getBankAccounts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(bank){var results;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(apiUrl+'/setup/bankaccount/'+bank);case 2:results=_context3.sent;setBankAccounts(results.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function getBankAccounts(_x){return _ref.apply(this,arguments);};}();useEffect(function(){function getIssuedCheques(){return _getIssuedCheques.apply(this,arguments);}function _getIssuedCheques(){_getIssuedCheques=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var results;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get(apiUrl+'/loan/issuedloancheques/'+startDate+'/'+endDate);case 2:results=_context4.sent;setIssuedCheques(results.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _getIssuedCheques.apply(this,arguments);}getIssuedCheques();// console.log(issuedCheques)\n},[startDate,endDate,render]);useEffect(function(){// setStartDate(new Date('2020-01-01'))\n// setEndDate(new Date())\nfunction getCheques(){return _getCheques.apply(this,arguments);}function _getCheques(){_getCheques=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var results;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return axios.get(apiUrl+'/loan/issuedloancheques/'+startDate+'/'+endDate);case 2:results=_context5.sent;setCheques(results.data);console.log(results.data);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return _getCheques.apply(this,arguments);}getCheques();console.log(cheques);},[render]);// async function checkActiveLoan(customer) {\n//   const results = await axios.get(\n//     apiUrl + '/loan/issuedloancheques/checkactiveloan/' + customer,\n//   )\n//   return results.data\n// }\nvar schemaMap={nameOnCheque:Joi.number().required().label('Name on Cheque'),bank:Joi.number().required().label('Bank'),bankAccount:Joi.number().required().label('Bank Account'),dateOnCheque:Joi.date().required().label('Date On Cheque'),chequeNumber:Joi.string().required().label('Cheque Number'),amount:Joi.string().required().label('Amount'),issuedBy:Joi.number().required(),entryDate:Joi.date().required(),status:Joi.string(),bookingStatus:Joi.any()};var schema=Joi.object(schemaMap);var validateForm=function validateForm(){var result=Joi.validate(chequeData,schema);if(result.error){return result.error.details[0].message;}else{return null;}};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var validate,results;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(!(activeLoan!==0)){_context6.next=2;break;}return _context6.abrupt(\"return\",Swal.fire('OOPS!','Active Loan Detected - Customer is servicing an active loan','error'));case 2:validate=validateForm();if(!(validate!==null)){_context6.next=5;break;}return _context6.abrupt(\"return\",Swal.fire('Validation',validate,'error'));case 5:_context6.prev=5;_context6.next=8;return axios.post(apiUrl+'/loan/issuedloancheques',chequeData);case 8:results=_context6.sent;if(!(results.status!==200)){_context6.next=13;break;}return _context6.abrupt(\"return\",Swal.fire('OOPs !','Submission Failed ! Check Entries and try again !','error'));case 13:Swal.fire('Good job!','Cheque Details Saved Successfully','success');setRender(!render);setChequeData({nameOnCheque:'',bank:0,bankAccount:'',dateOnCheque:'',chequeNumber:'',amount:'',issuedBy:0,status:'Not Disbursed',bookingStatus:'Not Booked',entryDate:new Date()});case 16:_context6.next=21;break;case 18:_context6.prev=18;_context6.t0=_context6[\"catch\"](5);Swal.fire('OOPS ! '+_context6.t0.message,'error');case 21:case\"end\":return _context6.stop();}}},_callee6,null,[[5,18]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var handleDelete=function handleDelete(c){Swal.fire({title:'Do you want to delete this issued Cheque?',showDenyButton:true,showCancelButton:true,confirmButtonText:'Yes',denyButtonText:\"No\"}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!result.isConfirmed){_context7.next=7;break;}_context7.next=3;return axios.delete(apiUrl+'/loan/issuedloancheques/'+c.id);case 3:Swal.fire('Deletion Confirmed !','','success');setRender(!render);_context7.next=8;break;case 7:if(result.isDenied){Swal.fire('Deletion NOT Confirmed','','info');}case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x2){return _ref3.apply(this,arguments);};}());};var money=new Intl.NumberFormat('de-CH',{style:'currency',currency:'CHF'});var customerName=customers.map(function(opt){return{label:opt.fullName+' - '+opt.accountNumber,value:opt.id};});var handleCustomerSelected=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(opt){var optValue,results;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:optValue=opt.value;setChequeData(_objectSpread(_objectSpread({},chequeData),{},{nameOnCheque:optValue}));_context8.next=4;return axios.get(apiUrl+'/loan/issuedloancheques/checkactiveloan/'+optValue);case 4:results=_context8.sent;setActiveLoan(results.data.length);// console.log(results.data.length)\ncase 6:case\"end\":return _context8.stop();}}},_callee8);}));return function handleCustomerSelected(_x3){return _ref4.apply(this,arguments);};}();var today=new Date();// returns the month (from 0 to 11)\nvar month=today.toLocaleString('default',{month:'long'});// returns the day of the month (from 1 to 31)\nvar day=today.getDate();// returns the year (four digits)\nvar year=today.getFullYear();function add(accumulator,a){return accumulator+a;}/* const totalAmt = filteredIssuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n*/ /*const handleFilter = (startDate, endDate) => {\n    return issuedCheques.filter(\n      (i) => i.entryDate >= startDate && i.entryDate <= endDate,\n    )\n  }*/ // const filteredIssuedCheques = handleFilter(startDate, endDate)\nvar totalAmt=issuedCheques.reduce(function(a,i){return a+i.amount;},0);var handleStartDateChange=function handleStartDateChange(e){setStartDate(e.currentTarget.value);};var handleEndDateChange=function handleEndDateChange(e){setEndDate(e.currentTarget.value);};var openCustomerListAsReport=function openCustomerListAsReport(url){var windowFeatures='left=100,top=100,width=320,height=320';window.open(url,'customerlist','popup',windowFeatures);};var handleChequeNumberChange=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(e){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:setChequeNumber(e.currentTarget.value);// console.log(issuedCheques)\ncase 1:case\"end\":return _context9.stop();}}},_callee9);}));return function handleChequeNumberChange(_x4){return _ref5.apply(this,arguments);};}();var data={scheques:issuedCheques.filter(function(i){return i.chequeNumber.includes(chequeNumber);})};var filteredCheques=chequeNumber.length===0?issuedCheques:data.scheques;return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"centertext mb-2\"},\"Loan Cheques Issuance\")),/*#__PURE__*/React.createElement(\"p\",{className:\"centertext m-2 p\"},\"Issuing cheque means you are paying to someone. That's why your bank should be credited as it reduces your bank balance.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3\"},/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row mt-5 col-sm-12\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"Start Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:startDate,onChange:handleStartDateChange})),/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"End Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:endDate,onChange:handleEndDateChange})),/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"chequeNumber\",className:\"form-label\"},\"Cheque Number\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"chequeNumber\",value:chequeNumber,onChange:handleChequeNumberChange})),/*#__PURE__*/React.createElement(CLink,{className:\"btn-block col-sm-3 float-left btn-sm mb-3 mt-3\",onClick:function onClick(){return openCustomerListAsReport(reportUrl+'/issuedLoanCheques.aspx?'+startDate+'?'+endDate);}},\"View as Report\")),/*#__PURE__*/React.createElement(CButton,{color:\"success\",className:\"btn-sm float-right mb-3\",onClick:function onClick(){return setShow(!show);},title:\"Make New Entry\"},\"+ Issue Cheque\"),/*#__PURE__*/React.createElement(\"div\",{className:\"sm mt-3\"},\"Number of Cheques :\",'  ',/*#__PURE__*/React.createElement(\"strong\",null,\" \",issuedCheques.length)),/*#__PURE__*/React.createElement(\"div\",{className:\"sm mt-3\"},\"Total of Amount (GHS) :\",'  ',/*#__PURE__*/React.createElement(\"strong\",null,formatter.format(totalAmt))),/*#__PURE__*/React.createElement(Table,{className:\"table-lg\"},/*#__PURE__*/React.createElement(\"caption\",null,\"Issued Cheques: \",moment(startDate).format('DD-MMMM-YYYY'),\" -\",' ',moment(endDate).format('DD-MMMM-YYYY')),/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",{className:\"fs-sm\"},/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Name on Cheque\"),/*#__PURE__*/React.createElement(\"th\",null,\"Bank\"),/*#__PURE__*/React.createElement(\"th\",null,\"Bank Account\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date on Cheque\"),/*#__PURE__*/React.createElement(\"th\",null,\"Cheque No.\"),/*#__PURE__*/React.createElement(\"th\",null,\"Amount (GHC)\"),/*#__PURE__*/React.createElement(\"th\",null,\"Issued By\"),/*#__PURE__*/React.createElement(\"th\",null,\"Date Issued\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,filteredCheques.map(function(c,index){return/*#__PURE__*/React.createElement(\"tr\",{key:c.id},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,c.nameOnCheque),/*#__PURE__*/React.createElement(\"td\",null,c.bank),/*#__PURE__*/React.createElement(\"td\",null,c.accountNumber),/*#__PURE__*/React.createElement(\"td\",null,moment(c.dateOnCheque).format('DD-MMMM-YYYY')),/*#__PURE__*/React.createElement(\"td\",null,c.chequeNumber),/*#__PURE__*/React.createElement(\"td\",null,formatter.format(c.amount)),/*#__PURE__*/React.createElement(\"td\",null,c.issuedBy),/*#__PURE__*/React.createElement(\"td\",null,moment(c.entryDate).format('DD-MMMM-YYYY')),/*#__PURE__*/React.createElement(\"td\",null,c.status==='Not Disbursed'&&/*#__PURE__*/React.createElement(CButton,{color:\"danger\",className:\"btn-sm\",onClick:function onClick(){return handleDelete(c);},title:\"Cheques Issued Entry\"},\"Delete\")));})))),/*#__PURE__*/React.createElement(CModal,{className:\"modal fade col-sm-10\",size:\"lg\",show:show,color:\"success\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",onClose:function onClose(){setShow(!show);}},/*#__PURE__*/React.createElement(CModalHeader,{className:\"modal-header\",closeButton:true},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"centertext\"},\"ISSUE LOAN CHEQUE\"))),/*#__PURE__*/React.createElement(CModalBody,{className:\"modal-body col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"nameOfCustomer\",className:\"col-sm-3 col-form-label\"},\"Name of Customer\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(AdaboSelect,{className:\"form-control-xl mb-2 mt-2\",options:customerName,onChange:handleCustomerSelected}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"bank\",className:\"col-sm-3 col-form-label\"},\"Bank\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CSelect,{id:\"bank\",className:\"form-select\",\"aria-label\":\"Default select example\",value:chequeData.bank,onChange:handleBankChange},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"\"},\"--Select Bank--\"),banks.map(function(b){return/*#__PURE__*/React.createElement(\"option\",{key:b.id,value:b.id,id:b.id},b.bank);})))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{for:\"bankAccount\",class:\"col-sm-3 col-form-label\"},\"Bank Account\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CSelect,{id:\"bankAccount\",className:\"form-select\",\"aria-label\":\"Default select example\",value:chequeData.bankAccount,onChange:function onChange(e){return setChequeData(_objectSpread(_objectSpread({},chequeData),{},{bankAccount:e.currentTarget.value,issuedBy:user.id}));}},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"\"},\"--Select Bank Account--\"),bankAccounts.map(function(b){return/*#__PURE__*/React.createElement(\"option\",{key:b.id,value:b.id,id:b.id},b.accountNumber);})))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"col-sm-3 col-form-label\"},\"Date on Cheque\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:chequeData.dateOnCheque,onChange:function onChange(e){return setChequeData(_objectSpread(_objectSpread({},chequeData),{},{dateOnCheque:e.currentTarget.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"chequeNumber\",className:\"col-sm-3 col-form-label\"},\"Cheque No.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control\",id:\"chequeNumber\",value:chequeData.chequeNumber,onChange:function onChange(e){return setChequeData(_objectSpread(_objectSpread({},chequeData),{},{chequeNumber:e.currentTarget.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"amount\",className:\"col-sm-3\"},\"Amount (GHS)\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{id:\"amount\",className:\"form-control\",type:\"text\",value:chequeData.amount,onChange:function onChange(e){return setChequeData(_objectSpread(_objectSpread({},chequeData),{},{amount:e.currentTarget.value}));}})))),/*#__PURE__*/React.createElement(CModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-center\"},/*#__PURE__*/React.createElement(CButton,{onClick:handleSubmit,className:\"m-3\",color:\"success\"},\"Submit\"),/*#__PURE__*/React.createElement(CButton,{onClick:function onClick(){return setShow(!show);},className:\"m-3\",color:\"danger\"},\"Close\")))));};export default IssuedCheque;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/issueLoanCheque.jsx"],"names":["React","useState","useEffect","Modal","Link","useNavigate","Navigate","axios","moment","Joi","CurrencyFormat","Swal","auth","apiUrl","reportUrl","AdaboSelect","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","CLink","IssuedCheque","show","setShow","activeLoan","setActiveLoan","render","setRender","customers","setCustomers","chequeNumber","setChequeNumber","cheques","setCheques","buffer","setBuffer","banks","setBanks","bankAccounts","setBankAccounts","issuedCheques","setIssuedCheques","nameOnCheque","bank","bankAccount","dateOnCheque","amount","issuedBy","status","bookingStatus","entryDate","Date","chequeData","setChequeData","toISOString","slice","startDate","setStartDate","endDate","setEndDate","user","getCurrentUser","formatter","Intl","NumberFormat","style","currency","getCustomers","get","results","data","getBanks","handleBankChange","e","getBankAccounts","currentTarget","value","getIssuedCheques","getCheques","console","log","schemaMap","number","required","label","date","string","any","schema","object","validateForm","result","validate","error","details","message","handleSubmit","fire","post","handleDelete","c","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","then","isConfirmed","delete","id","isDenied","money","customerName","map","opt","fullName","accountNumber","handleCustomerSelected","optValue","length","today","month","toLocaleString","day","getDate","year","getFullYear","add","accumulator","a","totalAmt","reduce","i","handleStartDateChange","handleEndDateChange","openCustomerListAsReport","url","windowFeatures","window","open","handleChequeNumberChange","scheques","filter","includes","filteredCheques","format","index","b"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Modal } from 'react-bootstrap'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport Joi from 'joi-browser'\nimport CurrencyFormat from 'react-currency-format'\nimport Swal from 'sweetalert2'\nimport auth from '../../components/services/authService'\nimport { apiUrl } from '../../config.json'\nimport { reportUrl } from '../../config.json'\nimport AdaboSelect from 'react-select'\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n  CLink,\n} from '@coreui/react'\n\nconst IssuedCheque = () => {\n  const [show, setShow] = useState(false)\n  const [activeLoan, setActiveLoan] = useState('')\n  const [render, setRender] = useState(false)\n  const [customers, setCustomers] = useState([])\n  const [chequeNumber, setChequeNumber] = useState('')\n  const [cheques, setCheques] = useState([])\n  const [buffer, setBuffer] = useState('')\n  const [banks, setBanks] = useState([])\n  const [bankAccounts, setBankAccounts] = useState([])\n  //const [user, setUser] = useState({})\n  const [issuedCheques, setIssuedCheques] = useState([])\n  //const [totalAmt, setTotalAmt] = useState(0)\n  const [chequeData, setChequeData] = useState({\n    nameOnCheque: '',\n    bank: 0,\n    bankAccount: 0,\n    dateOnCheque: '',\n    chequeNumber: '',\n    amount: '',\n    issuedBy: 0,\n    status: 'Not Disbursed',\n    bookingStatus: 'Not Booked',\n    entryDate: new Date(),\n  })\n\n  const [startDate, setStartDate] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n  const [endDate, setEndDate] = useState(new Date().toISOString().slice(0, 10))\n  const user = auth.getCurrentUser()\n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS',\n\n    // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n  })\n\n  useEffect(() => {\n    async function getCustomers() {\n      const results = await axios.get(apiUrl + '/customer')\n      setCustomers(results.data)\n    }\n    getCustomers()\n  }, [customers])\n\n  useEffect(() => {\n    async function getBanks() {\n      const results = await axios.get(apiUrl + '/setup/bank')\n      setBanks(results.data)\n      // setUser(auth.getCurrentUser)\n    }\n    getBanks()\n  }, [])\n\n  const handleBankChange = (e) => {\n    getBankAccounts(e.currentTarget.value)\n    setChequeData({\n      ...chequeData,\n      bank: e.currentTarget.value,\n    })\n  }\n\n  const getBankAccounts = async (bank) => {\n    const results = await axios.get(apiUrl + '/setup/bankaccount/' + bank)\n    setBankAccounts(results.data)\n  }\n\n  useEffect(() => {\n    async function getIssuedCheques() {\n      const results = await axios.get(\n        apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate,\n      )\n      setIssuedCheques(results.data)\n    }\n    getIssuedCheques()\n    // console.log(issuedCheques)\n  }, [startDate, endDate, render])\n\n  useEffect(() => {\n    // setStartDate(new Date('2020-01-01'))\n    // setEndDate(new Date())\n    async function getCheques() {\n      const results = await axios.get(\n        apiUrl + '/loan/issuedloancheques/' + startDate + '/' + endDate,\n      )\n      setCheques(results.data)\n      console.log(results.data)\n    }\n    getCheques()\n    console.log(cheques)\n  }, [render])\n\n  // async function checkActiveLoan(customer) {\n  //   const results = await axios.get(\n  //     apiUrl + '/loan/issuedloancheques/checkactiveloan/' + customer,\n  //   )\n  //   return results.data\n  // }\n\n  const schemaMap = {\n    nameOnCheque: Joi.number().required().label('Name on Cheque'),\n    bank: Joi.number().required().label('Bank'),\n    bankAccount: Joi.number().required().label('Bank Account'),\n    dateOnCheque: Joi.date().required().label('Date On Cheque'),\n    chequeNumber: Joi.string().required().label('Cheque Number'),\n    amount: Joi.string().required().label('Amount'),\n    issuedBy: Joi.number().required(),\n    entryDate: Joi.date().required(),\n    status: Joi.string(),\n    bookingStatus: Joi.any(),\n  }\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(chequeData, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const handleSubmit = async () => {\n    //console.log(activeLoan)\n    if (activeLoan !== 0) {\n      return Swal.fire(\n        'OOPS!',\n        'Active Loan Detected - Customer is servicing an active loan',\n        'error',\n      )\n    }\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('Validation', validate, 'error')\n    }\n    try {\n      const results = await axios.post(\n        apiUrl + '/loan/issuedloancheques',\n        chequeData,\n      )\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPs !',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Good job!', 'Cheque Details Saved Successfully', 'success')\n        setRender(!render)\n        setChequeData({\n          nameOnCheque: '',\n          bank: 0,\n          bankAccount: '',\n          dateOnCheque: '',\n          chequeNumber: '',\n          amount: '',\n          issuedBy: 0,\n          status: 'Not Disbursed',\n          bookingStatus: 'Not Booked',\n          entryDate: new Date(),\n        })\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ' + err.message, 'error')\n    }\n  }\n\n  const handleDelete = (c) => {\n    Swal.fire({\n      title: 'Do you want to delete this issued Cheque?',\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: 'Yes',\n      denyButtonText: `No`,\n    }).then(async (result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        await axios.delete(apiUrl + '/loan/issuedloancheques/' + c.id)\n        Swal.fire('Deletion Confirmed !', '', 'success')\n        setRender(!render)\n      } else if (result.isDenied) {\n        Swal.fire('Deletion NOT Confirmed', '', 'info')\n      }\n    })\n  }\n\n  const money = new Intl.NumberFormat('de-CH', {\n    style: 'currency',\n    currency: 'CHF',\n  })\n\n  const customerName = customers.map((opt) => ({\n    label: opt.fullName + ' - ' + opt.accountNumber,\n    value: opt.id,\n  }))\n\n  const handleCustomerSelected = async (opt) => {\n    const optValue = opt.value\n    setChequeData({ ...chequeData, nameOnCheque: optValue })\n    const results = await axios.get(\n      apiUrl + '/loan/issuedloancheques/checkactiveloan/' + optValue,\n    )\n    setActiveLoan(results.data.length)\n    // console.log(results.data.length)\n  }\n\n  var today = new Date()\n\n  // returns the month (from 0 to 11)\n  const month = today.toLocaleString('default', { month: 'long' })\n\n  // returns the day of the month (from 1 to 31)\n  const day = today.getDate()\n\n  // returns the year (four digits)\n  const year = today.getFullYear()\n\n  function add(accumulator, a) {\n    return accumulator + a\n  }\n\n  /* const totalAmt = filteredIssuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n*/\n  /*const handleFilter = (startDate, endDate) => {\n    return issuedCheques.filter(\n      (i) => i.entryDate >= startDate && i.entryDate <= endDate,\n    )\n  }*/\n\n  // const filteredIssuedCheques = handleFilter(startDate, endDate)\n\n  const totalAmt = issuedCheques.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n\n  const handleStartDateChange = (e) => {\n    setStartDate(e.currentTarget.value)\n  }\n  const handleEndDateChange = (e) => {\n    setEndDate(e.currentTarget.value)\n  }\n  const openCustomerListAsReport = (url) => {\n    const windowFeatures = 'left=100,top=100,width=320,height=320'\n    window.open(url, 'customerlist', 'popup', windowFeatures)\n  }\n\n  const handleChequeNumberChange = async (e) => {\n    setChequeNumber(e.currentTarget.value)\n    // console.log(issuedCheques)\n  }\n\n  const data = {\n    scheques: issuedCheques.filter((i) =>\n      i.chequeNumber.includes(chequeNumber),\n    ),\n  }\n\n  const filteredCheques =\n    chequeNumber.length === 0 ? issuedCheques : data.scheques\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row justify-content-center\">\n        <h4 className=\"centertext mb-2\">Loan Cheques Issuance</h4>\n      </div>\n      <p className=\"centertext m-2 p\">\n        Issuing cheque means you are paying to someone. That's why your bank\n        should be credited as it reduces your bank balance.\n      </p>\n      <div className=\"mb-3\">\n        <div class=\"mb-3 row mt-5 col-sm-12\">\n          <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n            Start Date\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"date\"\n              class=\"form-control\"\n              id=\"dateOnCheque\"\n              value={startDate}\n              onChange={handleStartDateChange}\n            />\n          </div>\n          <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n            End Date\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"date\"\n              class=\"form-control\"\n              id=\"dateOnCheque\"\n              value={endDate}\n              onChange={handleEndDateChange}\n            />\n          </div>\n          <CLabel htmlFor=\"chequeNumber\" className=\"form-label\">\n            Cheque Number\n          </CLabel>\n          <div className=\"col-sm-3\">\n            <CInput\n              type=\"text\"\n              class=\"form-control\"\n              id=\"chequeNumber\"\n              value={chequeNumber}\n              onChange={handleChequeNumberChange}\n            />\n          </div>\n          <CLink\n            className=\"btn-block col-sm-3 float-left btn-sm mb-3 mt-3\"\n            onClick={() =>\n              openCustomerListAsReport(\n                reportUrl +\n                  '/issuedLoanCheques.aspx?' +\n                  startDate +\n                  '?' +\n                  endDate,\n              )\n            }\n          >\n            View as Report\n          </CLink>\n        </div>\n\n        <CButton\n          color=\"success\"\n          className=\"btn-sm float-right mb-3\"\n          onClick={() => setShow(!show)}\n          title=\"Make New Entry\"\n        >\n          + Issue Cheque\n        </CButton>\n\n        <div className=\"sm mt-3\">\n          Number of Cheques :{'  '}\n          <strong> {issuedCheques.length}</strong>\n        </div>\n        <div className=\"sm mt-3\">\n          Total of Amount (GHS) :{'  '}\n          <strong>{formatter.format(totalAmt)}</strong>\n        </div>\n\n        <Table className=\"table-lg\">\n          <caption>\n            Issued Cheques: {moment(startDate).format('DD-MMMM-YYYY')} -{' '}\n            {moment(endDate).format('DD-MMMM-YYYY')}\n          </caption>\n          <thead>\n            <tr className=\"fs-sm\">\n              <th></th>\n              <th>Name on Cheque</th>\n              <th>Bank</th>\n              <th>Bank Account</th>\n              <th>Date on Cheque</th>\n              <th>Cheque No.</th>\n              <th>Amount (GHC)</th>\n              <th>Issued By</th>\n              <th>Date Issued</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredCheques.map((c, index) => (\n              <tr key={c.id}>\n                <td>{index + 1}</td>\n                <td>{c.nameOnCheque}</td>\n                <td>{c.bank}</td>\n                <td>{c.accountNumber}</td>\n                <td>{moment(c.dateOnCheque).format('DD-MMMM-YYYY')}</td>\n                <td>{c.chequeNumber}</td>\n                <td>{formatter.format(c.amount)}</td>\n                <td>{c.issuedBy}</td>\n                <td>{moment(c.entryDate).format('DD-MMMM-YYYY')}</td>\n                <td>\n                  {c.status === 'Not Disbursed' && (\n                    <CButton\n                      color=\"danger\"\n                      className=\"btn-sm\"\n                      onClick={() => handleDelete(c)}\n                      title=\"Cheques Issued Entry\"\n                    >\n                      Delete\n                    </CButton>\n                  )}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </div>\n\n      <CModal\n        className=\"modal fade col-sm-10\"\n        size=\"lg\"\n        show={show}\n        color=\"success\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n        onClose={() => {\n          setShow(!show)\n        }}\n      >\n        <CModalHeader className=\"modal-header\" closeButton>\n          <p>\n            <h3 className=\"centertext\">ISSUE LOAN CHEQUE</h3>\n          </p>\n        </CModalHeader>\n\n        <CModalBody className=\"modal-body col-sm-12\">\n          <div class=\"mb-3 row\">\n            <CLabel\n              htmlFor=\"nameOfCustomer\"\n              className=\"col-sm-3 col-form-label\"\n            >\n              Name of Customer\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <AdaboSelect\n                className=\"form-control-xl mb-2 mt-2\"\n                options={customerName}\n                onChange={handleCustomerSelected}\n              />\n              {/*<CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={chequeData.nameOnCheque}\n                autoComplete=\"off\"\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    nameOnCheque: e.currentTarget.value,\n                    issuedBy: user.id,\n                  })\n                }\n              />*/}\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"bank\" className=\"col-sm-3 col-form-label\">\n              Bank\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                id=\"bank\"\n                className=\"form-select\"\n                aria-label=\"Default select example\"\n                value={chequeData.bank}\n                onChange={handleBankChange}\n              >\n                <option defaultValue=\"\">--Select Bank--</option>\n                {banks.map((b) => (\n                  <option key={b.id} value={b.id} id={b.id}>\n                    {b.bank}\n                  </option>\n                ))}\n              </CSelect>\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Bank Account\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                id=\"bankAccount\"\n                className=\"form-select\"\n                aria-label=\"Default select example\"\n                value={chequeData.bankAccount}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    bankAccount: e.currentTarget.value,\n                    issuedBy: user.id,\n                  })\n                }\n              >\n                <option defaultValue=\"\">--Select Bank Account--</option>\n                {bankAccounts.map((b) => (\n                  <option key={b.id} value={b.id} id={b.id}>\n                    {b.accountNumber}\n                  </option>\n                ))}\n              </CSelect>\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateOnCheque\" className=\"col-sm-3 col-form-label\">\n              Date on Cheque\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"date\"\n                class=\"form-control\"\n                id=\"dateOnCheque\"\n                value={chequeData.dateOnCheque}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    dateOnCheque: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Cheque No.\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={chequeData.chequeNumber}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    chequeNumber: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"amount\" className=\"col-sm-3\">\n              Amount (GHS)\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                id=\"amount\"\n                className=\"form-control\"\n                type=\"text\"\n                value={chequeData.amount}\n                onChange={(e) =>\n                  setChequeData({\n                    ...chequeData,\n                    amount: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n        </CModalBody>\n\n        <CModalFooter>\n          <div className=\"justify-content-center\">\n            <CButton onClick={handleSubmit} className=\"m-3\" color=\"success\">\n              Submit\n            </CButton>\n            <CButton\n              onClick={() => setShow(!show)}\n              className=\"m-3\"\n              color=\"danger\"\n            >\n              Close\n            </CButton>\n          </div>\n        </CModalFooter>\n      </CModal>\n    </div>\n  )\n}\n\nexport default IssuedCheque\n"]},"metadata":{},"sourceType":"module"}