{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/paymentsReschedule.jsx\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport { apiUrl } from '../../config.json';\nimport { reportUrl } from '../../config.json';\nimport { Table //Modal,\n} from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CDropdownDivider, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\nimport { LineChart, BarChart, Line, CartesianGrid, XAxis, YAxis, Tooltip, Bar, Cell, Label, Legend, ResponsiveContainer } from 'recharts';\nimport { GiSatelliteCommunication } from 'react-icons/gi';\n\nvar PaymentReschedule = function PaymentReschedule() {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      show = _useState2[0],\n      setShow = _useState2[1];\n\n  var _useState3 = useState(auth.getCurrentUser),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      expenses = _useState6[0],\n      setExpenses = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      bookedLoans = _useState8[0],\n      setBookedLoans = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      render = _useState10[0],\n      setRender = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      search = _useState12[0],\n      setSearch = _useState12[1];\n\n  var _useState13 = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10)\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      selected = _useState14[0],\n      setSelected = _useState14[1];\n\n  var _useState15 = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10),\n    duration: 0,\n    customer: 0,\n    disbursementId: 0,\n    bookingId: 0,\n    chequeId: 0,\n    amount: 0,\n    interestRate: 0,\n    frequency: ''\n  }),\n      _useState16 = _slicedToArray(_useState15, 2),\n      loanDetails = _useState16[0],\n      setLoanDetails = _useState16[1];\n\n  var _useState17 = useState(new Date().toISOString().slice(0, 10)),\n      _useState18 = _slicedToArray(_useState17, 2),\n      dateCompleted = _useState18[0],\n      setDateCompleted = _useState18[1];\n\n  var _useState19 = useState(new Date().toISOString().slice(0, 10)),\n      _useState20 = _slicedToArray(_useState19, 2),\n      startDate = _useState20[0],\n      setStartDate = _useState20[1];\n\n  var _useState21 = useState(new Date().toISOString().slice(0, 10)),\n      _useState22 = _slicedToArray(_useState21, 2),\n      endDate = _useState22[0],\n      setEndDate = _useState22[1];\n\n  var navigate = useHistory();\n  useEffect(function () {\n    function getBookedLoans() {\n      return _getBookedLoans.apply(this, arguments);\n    }\n\n    function _getBookedLoans() {\n      _getBookedLoans = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(apiUrl + '/loan/booking/reschedule/' + startDate + '/' + endDate);\n\n              case 2:\n                results = _context.sent;\n                setBookedLoans(results.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getBookedLoans.apply(this, arguments);\n    }\n\n    getBookedLoans();\n  }, [startDate, endDate, render]);\n\n  var handleSearch = function handleSearch(event) {\n    setSearch(event.target.value);\n  };\n\n  var data = {\n    allBooked: bookedLoans.filter(function (item) {\n      return item.fullName.toLowerCase().includes(search.toLowerCase());\n    })\n  };\n  var dataTouse = search.length === 0 ? bookedLoans : data.allBooked;\n  var formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS' // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n\n  });\n  var totalAmt = expenses.reduce(function (a, i) {\n    return a + i.amount;\n  }, 0);\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(c) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // console.log(c.id)\n              Swal.fire({\n                title: 'Do you want to REMOVE this BOOKING ?',\n                showDenyButton: true,\n                showCancelButton: true,\n                confirmButtonText: 'Remove',\n                denyButtonText: \"Don't\"\n              }).then( /*#__PURE__*/function () {\n                var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result) {\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          if (!result.isConfirmed) {\n                            _context2.next = 7;\n                            break;\n                          }\n\n                          _context2.next = 3;\n                          return axios.delete(apiUrl + '/loan/booking/' + c.id);\n\n                        case 3:\n                          Swal.fire('Removed!', '', 'success');\n                          setRender(!render);\n                          _context2.next = 8;\n                          break;\n\n                        case 7:\n                          if (result.isDenied) {\n                            Swal.fire('Cancelled', '', 'info');\n                          }\n\n                        case 8:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2);\n                }));\n\n                return function (_x2) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n\n            case 1:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handleDelete(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleStartDateChange = function handleStartDateChange(e) {\n    setStartDate(e.currentTarget.value);\n  };\n\n  var handleEndDateChange = function handleEndDateChange(e) {\n    setEndDate(e.currentTarget.value);\n  };\n\n  var handleSelected = function handleSelected(c) {\n    setSelected(c);\n    console.log(c);\n    setLoanDetails({\n      dateCompleted: c.dateCompleted,\n      duration: c.duration,\n      customer: c.customer,\n      disbursementId: c.disbursementId,\n      bookingId: c.bookingId,\n      chequeId: c.chequeId,\n      amount: c.principal,\n      interestRate: c.interestRate,\n      frequency: c.frequency\n    });\n    setShow(!show);\n  };\n\n  var handleReschedule = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var result;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log(loanDetails);\n              _context4.next = 3;\n              return axios.post(apiUrl + '/loan/booking/reschedule', {\n                dateCompleted: loanDetails.dateCompleted,\n                duration: loanDetails.duration,\n                customer: loanDetails.customer,\n                disbursementId: loanDetails.disbursementId,\n                bookingId: loanDetails.bookingId,\n                chequeId: loanDetails.chequeId,\n                amount: loanDetails.amount,\n                interestRate: loanDetails.interestRate,\n                frequency: loanDetails.frequency\n              });\n\n            case 3:\n              result = _context4.sent;\n\n              if (result.status = 200) {\n                Swal.fire('Loan Rescheduled!', '', 'success'); //setShow(!show)\n              }\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleReschedule() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"centertext mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"RESCHEDULE BOOKED LOANS\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, \"NB: Booked Loans can be removed from here. Only booked loans without payments or payments not yet started will appear in the list.\\u201D\")), /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, \"Start Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"dateOnCheque\",\n    value: startDate,\n    onChange: handleStartDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  }, \"End Date\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    class: \"form-control\",\n    id: \"dateOnCheque\",\n    value: endDate,\n    onChange: handleEndDateChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    name: \"searchCustomer\",\n    className: \"form-control\",\n    id: \"searchCustomer\",\n    value: null,\n    onChange: handleSearch,\n    placeholder: \"Search booked loans\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-12 mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"table-sm col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    className: \"\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 17\n    }\n  }, \"Date Booked\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }\n  }, \"Customer\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, \"Account Number\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 17\n    }\n  }, \"Product\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 17\n    }\n  }, \"Loan ID\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 17\n    }\n  }, \"Principal\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 13\n    }\n  }, dataTouse.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 19\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 19\n      }\n    }, c.dateCompleted), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 19\n      }\n    }, c.fullName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 19\n      }\n    }, c.accountNumber), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 19\n      }\n    }, c.product), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, c.loanId), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 19\n      }\n    }, formatter.format(c.principal)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CButton, {\n      onClick: function onClick() {\n        return handleSelected(c);\n      },\n      className: \"btn-sm\",\n      color: \"success\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 23\n      }\n    }, \"Reschedule\")));\n  }))))), /*#__PURE__*/React.createElement(CModal, {\n    className: \"modal fade col-sm-10\",\n    size: \"md\",\n    show: show,\n    color: \"success\",\n    \"data-backdrop\": \"static\",\n    \"data-keyboard\": \"false\",\n    onClose: function onClose() {\n      setShow(!show);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CModalHeader, {\n    className: \"modal-header\",\n    closeButton: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"centertext\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 13\n    }\n  }, \"RESCHEDULE BOOKED LOAN\"))), /*#__PURE__*/React.createElement(CModalBody, {\n    className: \"modal-body col-sm-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"chequeNumber\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 13\n    }\n  }, \"Loan ID\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"chequeNumber\",\n    value: selected.loanId,\n    onChange: function onChange(e) {\n      return setSelected(_objectSpread(_objectSpread({}, selected), {}, {\n        loanId: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateCompleted\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }\n  }, \"Date Booked\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"date\",\n    className: \"form-control\",\n    id: \"dateCompleted\",\n    value: loanDetails.dateCompleted,\n    onChange: function onChange(e) {\n      return setLoanDetails(_objectSpread(_objectSpread({}, loanDetails), {}, {\n        dateCompleted: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"accountNumber\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 13\n    }\n  }, \"Account Number\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"accountNumber\",\n    value: selected.accountNumber,\n    autoComplete: \"off\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"nameOfCustomer\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 13\n    }\n  }, \"Name of Customer\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"nameOfCustomer\",\n    value: selected.fullName,\n    autoComplete: \"off\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"bank\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 13\n    }\n  }, \"Product\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"nameOfCustomer\",\n    value: selected.product // onChange={(e) =>\n    //   setSelected({ ...selected, product: e.currentTarget.value })\n    // }\n    ,\n    autoComplete: \"off\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"bankAccount\",\n    class: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 13\n    }\n  }, \"Frequency\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CSelect, {\n    className: \"form-select col-sm-12\",\n    \"aria-label\": \"Default select example\",\n    value: loanDetails.frequency,\n    onChange: function onChange(e) {\n      return setLoanDetails(_objectSpread(_objectSpread({}, loanDetails), {}, {\n        frequency: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    defaultValue: \"Daily\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 17\n    }\n  }, \"Daily\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Weekly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 17\n    }\n  }, \"Weekly\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Monthly\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 17\n    }\n  }, \"Monthly\")))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    for: \"bankAccount\",\n    class: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 13\n    }\n  }, \"Duration\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"nameOfCustomer\",\n    value: loanDetails.duration,\n    autoComplete: \"off\",\n    onChange: function onChange(e) {\n      return setLoanDetails(_objectSpread(_objectSpread({}, loanDetails), {}, {\n        duration: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"dateOnCheque\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 13\n    }\n  }, \"Principal\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    class: \"form-control\",\n    id: \"dateOnCheque\" //readOnly\n    ,\n    value: loanDetails.amount // onChange={(e) =>\n    //   setLoanDetails({\n    //     ...loanDetails,\n    //     amount: e.currentTarget.value,\n    //   })\n    // }\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3 row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"chequeNumber\",\n    className: \"col-sm-3 col-form-label\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 13\n    }\n  }, \"Interest Rate\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-sm-8\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"chequeNumber\",\n    value: loanDetails.interestRate,\n    onChange: function onChange(e) {\n      return setLoanDetails(_objectSpread(_objectSpread({}, loanDetails), {}, {\n        interestRate: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(CModalFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CButton, {\n    onClick: handleReschedule,\n    color: \"success\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 13\n    }\n  }, \"Re-schedule\"), /*#__PURE__*/React.createElement(CButton, {\n    onClick: function onClick() {\n      return setShow(!show);\n    },\n    color: \"danger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 13\n    }\n  }, \"Close\")))));\n};\n\nexport default PaymentReschedule;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/paymentsReschedule.jsx"],"names":["React","useState","useEffect","useHistory","axios","auth","Swal","apiUrl","reportUrl","Table","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CDropdownDivider","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","LineChart","BarChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Bar","Cell","Label","Legend","ResponsiveContainer","GiSatelliteCommunication","PaymentReschedule","show","setShow","getCurrentUser","user","setUser","expenses","setExpenses","bookedLoans","setBookedLoans","render","setRender","search","setSearch","dateCompleted","Date","toISOString","slice","selected","setSelected","duration","customer","disbursementId","bookingId","chequeId","amount","interestRate","frequency","loanDetails","setLoanDetails","setDateCompleted","startDate","setStartDate","endDate","setEndDate","navigate","getBookedLoans","get","results","data","handleSearch","event","target","value","allBooked","filter","item","fullName","toLowerCase","includes","dataTouse","length","formatter","Intl","NumberFormat","style","currency","totalAmt","reduce","a","i","handleDelete","c","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","then","result","isConfirmed","delete","id","isDenied","handleStartDateChange","e","currentTarget","handleEndDateChange","handleSelected","console","log","principal","handleReschedule","post","status","map","index","accountNumber","product","loanId","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport { apiUrl } from '../../config.json'\nimport { reportUrl } from '../../config.json'\n\nimport {\n  Table,\n  //Modal,\n} from 'reactstrap'\n\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CDropdownDivider,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nimport {\n  LineChart,\n  BarChart,\n  Line,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Bar,\n  Cell,\n  Label,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts'\nimport { GiSatelliteCommunication } from 'react-icons/gi'\n\nconst PaymentReschedule = () => {\n  const [show, setShow] = useState(false)\n  const [user, setUser] = useState(auth.getCurrentUser)\n  const [expenses, setExpenses] = useState([])\n  const [bookedLoans, setBookedLoans] = useState([])\n  const [render, setRender] = useState(false)\n  const [search, setSearch] = useState('')\n  const [selected, setSelected] = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10),\n  })\n  const [loanDetails, setLoanDetails] = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10),\n    duration: 0,\n    customer: 0,\n    disbursementId: 0,\n    bookingId: 0,\n    chequeId: 0,\n    amount: 0,\n    interestRate: 0,\n    frequency: '',\n  })\n\n  const [dateCompleted, setDateCompleted] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n\n  const [startDate, setStartDate] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n  const [endDate, setEndDate] = useState(new Date().toISOString().slice(0, 10))\n  let navigate = useHistory()\n\n  useEffect(() => {\n    async function getBookedLoans() {\n      const results = await axios.get(\n        apiUrl + '/loan/booking/reschedule/' + startDate + '/' + endDate,\n      )\n      setBookedLoans(results.data)\n    }\n    getBookedLoans()\n  }, [startDate, endDate, render])\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const data = {\n    allBooked: bookedLoans.filter((item) =>\n      item.fullName.toLowerCase().includes(search.toLowerCase()),\n    ),\n  }\n\n  const dataTouse = search.length === 0 ? bookedLoans : data.allBooked\n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS',\n\n    // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n  })\n\n  const totalAmt = expenses.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n\n  const handleDelete = async (c) => {\n    // console.log(c.id)\n    Swal.fire({\n      title: 'Do you want to REMOVE this BOOKING ?',\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: 'Remove',\n      denyButtonText: `Don't`,\n    }).then(async (result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        await axios.delete(apiUrl + '/loan/booking/' + c.id)\n        Swal.fire('Removed!', '', 'success')\n        setRender(!render)\n      } else if (result.isDenied) {\n        Swal.fire('Cancelled', '', 'info')\n      }\n    })\n  }\n  const handleStartDateChange = (e) => {\n    setStartDate(e.currentTarget.value)\n  }\n  const handleEndDateChange = (e) => {\n    setEndDate(e.currentTarget.value)\n  }\n\n  const handleSelected = (c) => {\n    setSelected(c)\n    console.log(c)\n    setLoanDetails({\n      dateCompleted: c.dateCompleted,\n      duration: c.duration,\n      customer: c.customer,\n      disbursementId: c.disbursementId,\n      bookingId: c.bookingId,\n      chequeId: c.chequeId,\n      amount: c.principal,\n      interestRate: c.interestRate,\n      frequency: c.frequency,\n    })\n    setShow(!show)\n  }\n\n  const handleReschedule = async () => {\n    console.log(loanDetails)\n    const result = await axios.post(apiUrl + '/loan/booking/reschedule', {\n      dateCompleted: loanDetails.dateCompleted,\n      duration: loanDetails.duration,\n      customer: loanDetails.customer,\n      disbursementId: loanDetails.disbursementId,\n      bookingId: loanDetails.bookingId,\n      chequeId: loanDetails.chequeId,\n      amount: loanDetails.amount,\n      interestRate: loanDetails.interestRate,\n      frequency: loanDetails.frequency,\n    })\n    if ((result.status = 200)) {\n      Swal.fire('Loan Rescheduled!', '', 'success')\n      //setShow(!show)\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"row justify-content-center\">\n            <h4 className=\"centertext mb-3\">RESCHEDULE BOOKED LOANS</h4>\n          </div>\n\n          <p className=\"text-center\">\n            NB: Booked Loans can be removed from here. Only booked loans without\n            payments or payments not yet started will appear in the list.”\n          </p>\n        </div>\n        <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n          Start Date\n        </CLabel>\n        <div className=\"col-sm-3\">\n          <CInput\n            type=\"date\"\n            class=\"form-control\"\n            id=\"dateOnCheque\"\n            value={startDate}\n            onChange={handleStartDateChange}\n          />\n        </div>\n        <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n          End Date\n        </CLabel>\n        <div className=\"col-sm-3\">\n          <CInput\n            type=\"date\"\n            class=\"form-control\"\n            id=\"dateOnCheque\"\n            value={endDate}\n            onChange={handleEndDateChange}\n          />\n        </div>\n        <div className=\"col-sm-4\">\n          <CInput\n            type=\"text\"\n            name=\"searchCustomer\"\n            className=\"form-control\"\n            id=\"searchCustomer\"\n            value={null}\n            onChange={handleSearch}\n            placeholder=\"Search booked loans\"\n          />\n        </div>\n        <div className=\"col-sm-12 mt-3\">\n          <Table className=\"table-sm col-sm-12\">\n            <thead className=\"\">\n              <tr className=\"fs-sm\">\n                <th></th>\n                <th>Date Booked</th>\n                <th>Customer</th>\n                <th>Account Number</th>\n                <th>Product</th>\n                <th>Loan ID</th>\n                <th>Principal</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {dataTouse.map((c, index) => (\n                <tr key={c.id}>\n                  <td>{index + 1}</td>\n                  <td>{c.dateCompleted}</td>\n                  <td>{c.fullName}</td>\n                  <td>{c.accountNumber}</td>\n                  <td>{c.product}</td>\n                  <td>{c.loanId}</td>\n                  <td>{formatter.format(c.principal)}</td>\n                  <td>\n                    {\n                      <CButton\n                        onClick={() => handleSelected(c)}\n                        className=\"btn-sm\"\n                        color=\"success\"\n                      >\n                        Reschedule\n                      </CButton>\n                    }\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n      <CModal\n        className=\"modal fade col-sm-10\"\n        size=\"md\"\n        show={show}\n        color=\"success\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n        onClose={() => {\n          setShow(!show)\n        }}\n      >\n        <CModalHeader className=\"modal-header\" closeButton>\n          <p>\n            <h3 className=\"centertext\">RESCHEDULE BOOKED LOAN</h3>\n          </p>\n        </CModalHeader>\n\n        <CModalBody className=\"modal-body col-sm-12\">\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Loan ID\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={selected.loanId}\n                onChange={(e) =>\n                  setSelected({ ...selected, loanId: e.currentTarget.value })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateCompleted\" className=\"col-sm-3 col-form-label\">\n              Date Booked\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"date\"\n                className=\"form-control\"\n                id=\"dateCompleted\"\n                value={loanDetails.dateCompleted}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    dateCompleted: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"accountNumber\" className=\"col-sm-3 col-form-label\">\n              Account Number\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"accountNumber\"\n                value={selected.accountNumber}\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel\n              htmlFor=\"nameOfCustomer\"\n              className=\"col-sm-3 col-form-label\"\n            >\n              Name of Customer\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.fullName}\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"bank\" className=\"col-sm-3 col-form-label\">\n              Product\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.product}\n                // onChange={(e) =>\n                //   setSelected({ ...selected, product: e.currentTarget.value })\n                // }\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Frequency\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                className=\"form-select col-sm-12\"\n                aria-label=\"Default select example\"\n                value={loanDetails.frequency}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    frequency: e.currentTarget.value,\n                  })\n                }\n              >\n                <option defaultValue=\"Daily\">Daily</option>\n                <option value=\"Weekly\">Weekly</option>\n                <option value=\"Monthly\">Monthly</option>\n              </CSelect>\n              {/* <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.frequency}\n                autoComplete=\"off\"\n              /> */}\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Duration\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={loanDetails.duration}\n                autoComplete=\"off\"\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    duration: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateOnCheque\" className=\"col-sm-3 col-form-label\">\n              Principal\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"dateOnCheque\"\n                //readOnly\n                value={loanDetails.amount}\n                // onChange={(e) =>\n                //   setLoanDetails({\n                //     ...loanDetails,\n                //     amount: e.currentTarget.value,\n                //   })\n                // }\n              />\n            </div>\n          </div>\n\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Interest Rate\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={loanDetails.interestRate}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    interestRate: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n        </CModalBody>\n\n        <CModalFooter>\n          <CRow>\n            <CButton onClick={handleReschedule} color=\"success\">\n              Re-schedule\n            </CButton>\n\n            <CButton onClick={() => setShow(!show)} color=\"danger\">\n              Close\n            </CButton>\n          </CRow>\n        </CModalFooter>\n      </CModal>\n    </div>\n  )\n}\n\nexport default PaymentReschedule\n"]},"metadata":{},"sourceType":"module"}