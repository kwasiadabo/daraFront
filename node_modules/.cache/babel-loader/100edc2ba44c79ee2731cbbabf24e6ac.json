{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import axios from'axios';import auth from'../../components/services/authService';import Swal from'sweetalert2';import{apiUrl}from'../../config.json';import{reportUrl}from'../../config.json';import{Table//Modal,\n}from'reactstrap';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CDropdownDivider,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n,CSelect,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';import{LineChart,BarChart,Line,CartesianGrid,XAxis,YAxis,Tooltip,Bar,Cell,Label,Legend,ResponsiveContainer}from'recharts';import{GiSatelliteCommunication}from'react-icons/gi';var PaymentReschedule=function PaymentReschedule(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];var _useState3=useState(auth.getCurrentUser),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),expenses=_useState6[0],setExpenses=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),bookedLoans=_useState8[0],setBookedLoans=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),render=_useState10[0],setRender=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],setSearch=_useState12[1];var _useState13=useState({dateCompleted:new Date().toISOString().slice(0,10)}),_useState14=_slicedToArray(_useState13,2),selected=_useState14[0],setSelected=_useState14[1];var _useState15=useState({dateCompleted:new Date().toISOString().slice(0,10),duration:0,customer:0,disbursementId:0,bookingId:0,chequeId:0,amount:0,interestRate:0,frequency:''}),_useState16=_slicedToArray(_useState15,2),loanDetails=_useState16[0],setLoanDetails=_useState16[1];var _useState17=useState(new Date().toISOString().slice(0,10)),_useState18=_slicedToArray(_useState17,2),dateCompleted=_useState18[0],setDateCompleted=_useState18[1];var _useState19=useState(new Date().toISOString().slice(0,10)),_useState20=_slicedToArray(_useState19,2),startDate=_useState20[0],setStartDate=_useState20[1];var _useState21=useState(new Date().toISOString().slice(0,10)),_useState22=_slicedToArray(_useState21,2),endDate=_useState22[0],setEndDate=_useState22[1];var navigate=useHistory();useEffect(function(){function getBookedLoans(){return _getBookedLoans.apply(this,arguments);}function _getBookedLoans(){_getBookedLoans=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(apiUrl+'/loan/booking/reschedule/'+startDate+'/'+endDate);case 2:results=_context.sent;setBookedLoans(results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getBookedLoans.apply(this,arguments);}getBookedLoans();},[startDate,endDate,render]);var handleSearch=function handleSearch(event){setSearch(event.target.value);};var data={allBooked:bookedLoans.filter(function(item){return item.fullName.toLowerCase().includes(search.toLowerCase());})};var dataTouse=search.length===0?bookedLoans:data.allBooked;var formatter=new Intl.NumberFormat('en-US',{style:'currency',currency:'GHS'// These options are needed to round to whole numbers if that's what you want.\n//minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n//maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n});var totalAmt=expenses.reduce(function(a,i){return a+i.amount;},0);var handleDelete=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(c){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// console.log(c.id)\nSwal.fire({title:'Do you want to REMOVE this BOOKING ?',showDenyButton:true,showCancelButton:true,confirmButtonText:'Remove',denyButtonText:\"Don't\"}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!result.isConfirmed){_context2.next=7;break;}_context2.next=3;return axios.delete(apiUrl+'/loan/booking/'+c.id);case 3:Swal.fire('Removed!','','success');setRender(!render);_context2.next=8;break;case 7:if(result.isDenied){Swal.fire('Cancelled','','info');}case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function handleDelete(_x){return _ref.apply(this,arguments);};}();var handleStartDateChange=function handleStartDateChange(e){setStartDate(e.currentTarget.value);};var handleEndDateChange=function handleEndDateChange(e){setEndDate(e.currentTarget.value);};var handleSelected=function handleSelected(c){setSelected(c);console.log(c);setLoanDetails({dateCompleted:c.dateCompleted,duration:c.duration,customer:c.customer,disbursementId:c.disbursementId,bookingId:c.bookingId,chequeId:c.chequeId,amount:c.principal,interestRate:c.interestRate,frequency:c.frequency});setShow(!show);};var handleReschedule=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(loanDetails);_context4.next=3;return axios.post(apiUrl+'/loan/booking/reschedule',{dateCompleted:loanDetails.dateCompleted,duration:loanDetails.duration,customer:loanDetails.customer,disbursementId:loanDetails.disbursementId,bookingId:loanDetails.bookingId,chequeId:loanDetails.chequeId,amount:loanDetails.amount,interestRate:loanDetails.interestRate,frequency:loanDetails.frequency});case 3:result=_context4.sent;if(result.status=200){Swal.fire('Loan Rescheduled!','','success');//setShow(!show)\n}case 5:case\"end\":return _context4.stop();}}},_callee4);}));return function handleReschedule(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"centertext mb-3\"},\"RESCHEDULE BOOKED LOANS\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-center\"},\"NB: Booked Loans can be removed from here. Only booked loans without payments or payments not yet started will appear in the list.\\u201D\")),/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"Start Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:startDate,onChange:handleStartDateChange})),/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"form-label\"},\"End Date\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-3\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",class:\"form-control\",id:\"dateOnCheque\",value:endDate,onChange:handleEndDateChange})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-4\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",name:\"searchCustomer\",className:\"form-control\",id:\"searchCustomer\",value:null,onChange:handleSearch,placeholder:\"Search booked loans\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-12 mt-3\"},/*#__PURE__*/React.createElement(Table,{className:\"table-sm col-sm-12\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"\"},/*#__PURE__*/React.createElement(\"tr\",{className:\"fs-sm\"},/*#__PURE__*/React.createElement(\"th\",null),/*#__PURE__*/React.createElement(\"th\",null,\"Date Booked\"),/*#__PURE__*/React.createElement(\"th\",null,\"Customer\"),/*#__PURE__*/React.createElement(\"th\",null,\"Account Number\"),/*#__PURE__*/React.createElement(\"th\",null,\"Product\"),/*#__PURE__*/React.createElement(\"th\",null,\"Loan ID\"),/*#__PURE__*/React.createElement(\"th\",null,\"Principal\"),/*#__PURE__*/React.createElement(\"th\",null))),/*#__PURE__*/React.createElement(\"tbody\",null,dataTouse.map(function(c,index){return/*#__PURE__*/React.createElement(\"tr\",{key:c.id},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,c.dateCompleted),/*#__PURE__*/React.createElement(\"td\",null,c.fullName),/*#__PURE__*/React.createElement(\"td\",null,c.accountNumber),/*#__PURE__*/React.createElement(\"td\",null,c.product),/*#__PURE__*/React.createElement(\"td\",null,c.loanId),/*#__PURE__*/React.createElement(\"td\",null,formatter.format(c.principal)),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(CButton,{onClick:function onClick(){return handleSelected(c);},className:\"btn-sm\",color:\"success\"},\"Reschedule\")));}))))),/*#__PURE__*/React.createElement(CModal,{className:\"modal fade col-sm-10\",size:\"md\",show:show,color:\"success\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",onClose:function onClose(){setShow(!show);}},/*#__PURE__*/React.createElement(CModalHeader,{className:\"modal-header\",closeButton:true},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"h3\",{className:\"centertext\"},\"RESCHEDULE BOOKED LOAN\"))),/*#__PURE__*/React.createElement(CModalBody,{className:\"modal-body col-sm-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"chequeNumber\",className:\"col-sm-3 col-form-label\"},\"Loan ID\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control\",id:\"chequeNumber\",value:selected.loanId,onChange:function onChange(e){return setSelected(_objectSpread(_objectSpread({},selected),{},{loanId:e.currentTarget.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateCompleted\",className:\"col-sm-3 col-form-label\"},\"Date Booked\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"date\",className:\"form-control\",id:\"dateCompleted\",value:loanDetails.dateCompleted,onChange:function onChange(e){return setLoanDetails(_objectSpread(_objectSpread({},loanDetails),{},{dateCompleted:e.currentTarget.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"accountNumber\",className:\"col-sm-3 col-form-label\"},\"Account Number\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"accountNumber\",value:selected.accountNumber,autoComplete:\"off\"}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"nameOfCustomer\",className:\"col-sm-3 col-form-label\"},\"Name of Customer\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"nameOfCustomer\",value:selected.fullName,autoComplete:\"off\"}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"bank\",className:\"col-sm-3 col-form-label\"},\"Product\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"nameOfCustomer\",value:selected.product// onChange={(e) =>\n//   setSelected({ ...selected, product: e.currentTarget.value })\n// }\n,autoComplete:\"off\"}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{for:\"bankAccount\",class:\"col-sm-3 col-form-label\"},\"Frequency\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CSelect,{className:\"form-select col-sm-12\",\"aria-label\":\"Default select example\",value:loanDetails.frequency,onChange:function onChange(e){return setLoanDetails(_objectSpread(_objectSpread({},loanDetails),{},{frequency:e.currentTarget.value}));}},/*#__PURE__*/React.createElement(\"option\",{defaultValue:\"Daily\"},\"Daily\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Weekly\"},\"Weekly\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Monthly\"},\"Monthly\")))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{for:\"bankAccount\",class:\"col-sm-3 col-form-label\"},\"Duration\"),/*#__PURE__*/React.createElement(\"div\",{class:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"nameOfCustomer\",value:loanDetails.duration,autoComplete:\"off\",onChange:function onChange(e){return setLoanDetails(_objectSpread(_objectSpread({},loanDetails),{},{duration:e.currentTarget.value}));}}))),/*#__PURE__*/React.createElement(\"div\",{class:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"dateOnCheque\",className:\"col-sm-3 col-form-label\"},\"Principal\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",class:\"form-control\",id:\"dateOnCheque\"//readOnly\n,value:loanDetails.amount// onChange={(e) =>\n//   setLoanDetails({\n//     ...loanDetails,\n//     amount: e.currentTarget.value,\n//   })\n// }\n}))),/*#__PURE__*/React.createElement(\"div\",{className:\"mb-3 row\"},/*#__PURE__*/React.createElement(CLabel,{htmlFor:\"chequeNumber\",className:\"col-sm-3 col-form-label\"},\"Interest Rate\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8\"},/*#__PURE__*/React.createElement(CInput,{type:\"text\",className:\"form-control\",id:\"chequeNumber\",value:loanDetails.interestRate,onChange:function onChange(e){return setLoanDetails(_objectSpread(_objectSpread({},loanDetails),{},{interestRate:e.currentTarget.value}));}})))),/*#__PURE__*/React.createElement(CModalFooter,null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CButton,{onClick:handleReschedule,color:\"success\"},\"Re-schedule\"),/*#__PURE__*/React.createElement(CButton,{onClick:function onClick(){return setShow(!show);},color:\"danger\"},\"Close\")))));};export default PaymentReschedule;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/paymentsReschedule.jsx"],"names":["React","useState","useEffect","useHistory","axios","auth","Swal","apiUrl","reportUrl","Table","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CDropdownDivider","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","LineChart","BarChart","Line","CartesianGrid","XAxis","YAxis","Tooltip","Bar","Cell","Label","Legend","ResponsiveContainer","GiSatelliteCommunication","PaymentReschedule","show","setShow","getCurrentUser","user","setUser","expenses","setExpenses","bookedLoans","setBookedLoans","render","setRender","search","setSearch","dateCompleted","Date","toISOString","slice","selected","setSelected","duration","customer","disbursementId","bookingId","chequeId","amount","interestRate","frequency","loanDetails","setLoanDetails","setDateCompleted","startDate","setStartDate","endDate","setEndDate","navigate","getBookedLoans","get","results","data","handleSearch","event","target","value","allBooked","filter","item","fullName","toLowerCase","includes","dataTouse","length","formatter","Intl","NumberFormat","style","currency","totalAmt","reduce","a","i","handleDelete","c","fire","title","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","then","result","isConfirmed","delete","id","isDenied","handleStartDateChange","e","currentTarget","handleEndDateChange","handleSelected","console","log","principal","handleReschedule","post","status","map","index","accountNumber","product","loanId","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport axios from 'axios'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\nimport { apiUrl } from '../../config.json'\nimport { reportUrl } from '../../config.json'\n\nimport {\n  Table,\n  //Modal,\n} from 'reactstrap'\n\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CDropdownDivider,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nimport {\n  LineChart,\n  BarChart,\n  Line,\n  CartesianGrid,\n  XAxis,\n  YAxis,\n  Tooltip,\n  Bar,\n  Cell,\n  Label,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts'\nimport { GiSatelliteCommunication } from 'react-icons/gi'\n\nconst PaymentReschedule = () => {\n  const [show, setShow] = useState(false)\n  const [user, setUser] = useState(auth.getCurrentUser)\n  const [expenses, setExpenses] = useState([])\n  const [bookedLoans, setBookedLoans] = useState([])\n  const [render, setRender] = useState(false)\n  const [search, setSearch] = useState('')\n  const [selected, setSelected] = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10),\n  })\n  const [loanDetails, setLoanDetails] = useState({\n    dateCompleted: new Date().toISOString().slice(0, 10),\n    duration: 0,\n    customer: 0,\n    disbursementId: 0,\n    bookingId: 0,\n    chequeId: 0,\n    amount: 0,\n    interestRate: 0,\n    frequency: '',\n  })\n\n  const [dateCompleted, setDateCompleted] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n\n  const [startDate, setStartDate] = useState(\n    new Date().toISOString().slice(0, 10),\n  )\n  const [endDate, setEndDate] = useState(new Date().toISOString().slice(0, 10))\n  let navigate = useHistory()\n\n  useEffect(() => {\n    async function getBookedLoans() {\n      const results = await axios.get(\n        apiUrl + '/loan/booking/reschedule/' + startDate + '/' + endDate,\n      )\n      setBookedLoans(results.data)\n    }\n    getBookedLoans()\n  }, [startDate, endDate, render])\n\n  const handleSearch = (event) => {\n    setSearch(event.target.value)\n  }\n\n  const data = {\n    allBooked: bookedLoans.filter((item) =>\n      item.fullName.toLowerCase().includes(search.toLowerCase()),\n    ),\n  }\n\n  const dataTouse = search.length === 0 ? bookedLoans : data.allBooked\n\n  let formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'GHS',\n\n    // These options are needed to round to whole numbers if that's what you want.\n    //minimumFractionDigits: 0, // (this suffices for whole numbers, but will print 2500.10 as $2,500.1)\n    //maximumFractionDigits: 0, // (causes 2500.99 to be printed as $2,501)\n  })\n\n  const totalAmt = expenses.reduce((a, i) => {\n    return a + i.amount\n  }, 0)\n\n  const handleDelete = async (c) => {\n    // console.log(c.id)\n    Swal.fire({\n      title: 'Do you want to REMOVE this BOOKING ?',\n      showDenyButton: true,\n      showCancelButton: true,\n      confirmButtonText: 'Remove',\n      denyButtonText: `Don't`,\n    }).then(async (result) => {\n      /* Read more about isConfirmed, isDenied below */\n      if (result.isConfirmed) {\n        await axios.delete(apiUrl + '/loan/booking/' + c.id)\n        Swal.fire('Removed!', '', 'success')\n        setRender(!render)\n      } else if (result.isDenied) {\n        Swal.fire('Cancelled', '', 'info')\n      }\n    })\n  }\n  const handleStartDateChange = (e) => {\n    setStartDate(e.currentTarget.value)\n  }\n  const handleEndDateChange = (e) => {\n    setEndDate(e.currentTarget.value)\n  }\n\n  const handleSelected = (c) => {\n    setSelected(c)\n    console.log(c)\n    setLoanDetails({\n      dateCompleted: c.dateCompleted,\n      duration: c.duration,\n      customer: c.customer,\n      disbursementId: c.disbursementId,\n      bookingId: c.bookingId,\n      chequeId: c.chequeId,\n      amount: c.principal,\n      interestRate: c.interestRate,\n      frequency: c.frequency,\n    })\n    setShow(!show)\n  }\n\n  const handleReschedule = async () => {\n    console.log(loanDetails)\n    const result = await axios.post(apiUrl + '/loan/booking/reschedule', {\n      dateCompleted: loanDetails.dateCompleted,\n      duration: loanDetails.duration,\n      customer: loanDetails.customer,\n      disbursementId: loanDetails.disbursementId,\n      bookingId: loanDetails.bookingId,\n      chequeId: loanDetails.chequeId,\n      amount: loanDetails.amount,\n      interestRate: loanDetails.interestRate,\n      frequency: loanDetails.frequency,\n    })\n    if ((result.status = 200)) {\n      Swal.fire('Loan Rescheduled!', '', 'success')\n      //setShow(!show)\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-sm-12\">\n          <div className=\"row justify-content-center\">\n            <h4 className=\"centertext mb-3\">RESCHEDULE BOOKED LOANS</h4>\n          </div>\n\n          <p className=\"text-center\">\n            NB: Booked Loans can be removed from here. Only booked loans without\n            payments or payments not yet started will appear in the list.‚Äù\n          </p>\n        </div>\n        <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n          Start Date\n        </CLabel>\n        <div className=\"col-sm-3\">\n          <CInput\n            type=\"date\"\n            class=\"form-control\"\n            id=\"dateOnCheque\"\n            value={startDate}\n            onChange={handleStartDateChange}\n          />\n        </div>\n        <CLabel htmlFor=\"dateOnCheque\" className=\"form-label\">\n          End Date\n        </CLabel>\n        <div className=\"col-sm-3\">\n          <CInput\n            type=\"date\"\n            class=\"form-control\"\n            id=\"dateOnCheque\"\n            value={endDate}\n            onChange={handleEndDateChange}\n          />\n        </div>\n        <div className=\"col-sm-4\">\n          <CInput\n            type=\"text\"\n            name=\"searchCustomer\"\n            className=\"form-control\"\n            id=\"searchCustomer\"\n            value={null}\n            onChange={handleSearch}\n            placeholder=\"Search booked loans\"\n          />\n        </div>\n        <div className=\"col-sm-12 mt-3\">\n          <Table className=\"table-sm col-sm-12\">\n            <thead className=\"\">\n              <tr className=\"fs-sm\">\n                <th></th>\n                <th>Date Booked</th>\n                <th>Customer</th>\n                <th>Account Number</th>\n                <th>Product</th>\n                <th>Loan ID</th>\n                <th>Principal</th>\n                <th></th>\n              </tr>\n            </thead>\n            <tbody>\n              {dataTouse.map((c, index) => (\n                <tr key={c.id}>\n                  <td>{index + 1}</td>\n                  <td>{c.dateCompleted}</td>\n                  <td>{c.fullName}</td>\n                  <td>{c.accountNumber}</td>\n                  <td>{c.product}</td>\n                  <td>{c.loanId}</td>\n                  <td>{formatter.format(c.principal)}</td>\n                  <td>\n                    {\n                      <CButton\n                        onClick={() => handleSelected(c)}\n                        className=\"btn-sm\"\n                        color=\"success\"\n                      >\n                        Reschedule\n                      </CButton>\n                    }\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </Table>\n        </div>\n      </div>\n      <CModal\n        className=\"modal fade col-sm-10\"\n        size=\"md\"\n        show={show}\n        color=\"success\"\n        data-backdrop=\"static\"\n        data-keyboard=\"false\"\n        onClose={() => {\n          setShow(!show)\n        }}\n      >\n        <CModalHeader className=\"modal-header\" closeButton>\n          <p>\n            <h3 className=\"centertext\">RESCHEDULE BOOKED LOAN</h3>\n          </p>\n        </CModalHeader>\n\n        <CModalBody className=\"modal-body col-sm-12\">\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Loan ID\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={selected.loanId}\n                onChange={(e) =>\n                  setSelected({ ...selected, loanId: e.currentTarget.value })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateCompleted\" className=\"col-sm-3 col-form-label\">\n              Date Booked\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"date\"\n                className=\"form-control\"\n                id=\"dateCompleted\"\n                value={loanDetails.dateCompleted}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    dateCompleted: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"accountNumber\" className=\"col-sm-3 col-form-label\">\n              Account Number\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"accountNumber\"\n                value={selected.accountNumber}\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n          <div class=\"mb-3 row\">\n            <CLabel\n              htmlFor=\"nameOfCustomer\"\n              className=\"col-sm-3 col-form-label\"\n            >\n              Name of Customer\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.fullName}\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"bank\" className=\"col-sm-3 col-form-label\">\n              Product\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.product}\n                // onChange={(e) =>\n                //   setSelected({ ...selected, product: e.currentTarget.value })\n                // }\n                autoComplete=\"off\"\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Frequency\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CSelect\n                className=\"form-select col-sm-12\"\n                aria-label=\"Default select example\"\n                value={loanDetails.frequency}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    frequency: e.currentTarget.value,\n                  })\n                }\n              >\n                <option defaultValue=\"Daily\">Daily</option>\n                <option value=\"Weekly\">Weekly</option>\n                <option value=\"Monthly\">Monthly</option>\n              </CSelect>\n              {/* <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={selected.frequency}\n                autoComplete=\"off\"\n              /> */}\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel for=\"bankAccount\" class=\"col-sm-3 col-form-label\">\n              Duration\n            </CLabel>\n            <div class=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"nameOfCustomer\"\n                value={loanDetails.duration}\n                autoComplete=\"off\"\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    duration: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n\n          <div class=\"mb-3 row\">\n            <CLabel htmlFor=\"dateOnCheque\" className=\"col-sm-3 col-form-label\">\n              Principal\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                class=\"form-control\"\n                id=\"dateOnCheque\"\n                //readOnly\n                value={loanDetails.amount}\n                // onChange={(e) =>\n                //   setLoanDetails({\n                //     ...loanDetails,\n                //     amount: e.currentTarget.value,\n                //   })\n                // }\n              />\n            </div>\n          </div>\n\n          <div className=\"mb-3 row\">\n            <CLabel htmlFor=\"chequeNumber\" className=\"col-sm-3 col-form-label\">\n              Interest Rate\n            </CLabel>\n            <div className=\"col-sm-8\">\n              <CInput\n                type=\"text\"\n                className=\"form-control\"\n                id=\"chequeNumber\"\n                value={loanDetails.interestRate}\n                onChange={(e) =>\n                  setLoanDetails({\n                    ...loanDetails,\n                    interestRate: e.currentTarget.value,\n                  })\n                }\n              />\n            </div>\n          </div>\n        </CModalBody>\n\n        <CModalFooter>\n          <CRow>\n            <CButton onClick={handleReschedule} color=\"success\">\n              Re-schedule\n            </CButton>\n\n            <CButton onClick={() => setShow(!show)} color=\"danger\">\n              Close\n            </CButton>\n          </CRow>\n        </CModalFooter>\n      </CModal>\n    </div>\n  )\n}\n\nexport default PaymentReschedule\n"]},"metadata":{},"sourceType":"module"}