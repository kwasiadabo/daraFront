{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,useNavigate,Navigate}from'react-router-dom';import axios from'axios';import moment from'moment';import{apiUrl}from'../../config.json';import formData from'form-data';import auth from'../../components/services/authService';import noImg from'../../assets/icons/noImg.png';import Joi from'joi-browser';import Swal from'sweetalert2';import{CBadge,CCard,CCardBody//CCardHeader,\n,CCol,CDataTable,CRow,CButton,CModal,CModalFooter,CModalHeader,CModalBody,CCardHeader,CInputGroupAppend,CInputGroupPrepend,CDropdownItem,CForm//CCardFooter,\n,CDropdownToggle//CInputRadio,\n,CDropdown,CModalTitle//CFormText,\n//CTextarea,\n,CFormGroup,CLabel// CSwitch,\n,CInput//CInputFile,\n//CSelect,\n,CDropdownMenu//CCardFooter,\n,CInputGroup//CForm,\n}from'@coreui/react';var Customer=function Customer(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplay=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),allStaff=_useState6[0],setAllStaff=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),user=_useState8[0],setUser=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),groups=_useState10[0],setGroups=_useState10[1];var _useState11=useState({fullName:'',dob:'',phone:'',hometown:'',placeOfBirth:'',occupation:'',nationality:'',gender:'',residentialAddress:'',ghanaPostGPS:'',residence:'',idType:'',idNumber:'',tinNumber:'',marritalStatus:'',nameOfSpouse:'',phoneOfSpouse:'',occupationOfSpouse:'',religion:'',placeOfWorship:'',nameOfChurchLeader:'',phoneOfChurchLeader:'',//selectedFile: \"\",\nofficer:'',group:''}),_useState12=_slicedToArray(_useState11,2),customer=_useState12[0],setCustomer=_useState12[1];useEffect(function(){var getIsAdmin=function getIsAdmin(){setUser(auth.getCurrentUser);};getIsAdmin();},[]);useEffect(function(){function getGroups(){return _getGroups.apply(this,arguments);}function _getGroups(){_getGroups=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(apiUrl+'/group');case 2:results=_context.sent;setGroups(results.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getGroups.apply(this,arguments);}getGroups();},[groups]);useEffect(function(){function getStaff(){return _getStaff.apply(this,arguments);}function _getStaff(){_getStaff=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var staff;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(apiUrl+'/staff');case 2:staff=_context2.sent;setAllStaff(staff.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getStaff.apply(this,arguments);}getStaff();},[allStaff]);var schemaMap={fullName:Joi.string().required().label('FullName'),dob:Joi.date().required().label('Date of Birth'),phone:Joi.string().required().label('Phone Number'),hometown:Joi.string().allow(''),placeOfBirth:Joi.string().allow(''),nationality:Joi.string().allow(''),occupation:Joi.string().required().label('Occupation'),gender:Joi.string().required().label('Gender'),residentialAddress:Joi.string().required().label('Residential Address'),ghanaPostGPS:Joi.string().required().label('GPS'),residence:Joi.string().allow(''),idType:Joi.string().required().label('ID Type'),idNumber:Joi.string().required().label('ID Number'),tinNumber:Joi.string().required().label('TIN NUmber'),marritalStatus:Joi.string().allow(''),nameOfSpouse:Joi.string().allow(''),phoneOfSpouse:Joi.string().allow(''),occupationOfSpouse:Joi.string().allow(''),religion:Joi.string().allow(''),placeOfWorship:Joi.string().allow(''),nameOfChurchLeader:Joi.string().allow(''),phoneOfChurchLeader:Joi.string().allow(''),officer:Joi.string().required().label('Officer'),group:Joi.string().allow('').label('Group')//createdBy: Joi.string().label(\"Created By\"),\n};var onImageChange=function onImageChange(event){if(event.target.files&&event.target.files[0]){setImage(event.target.files[0]);setDisplay(URL.createObjectURL(event.target.files[0]));//setCustomer({ ...customer, img: event.currentTarget.files[0] });\n}};var schema=Joi.object(schemaMap);var validateForm=function validateForm(){var result=Joi.validate(customer,schema);if(result.error){return result.error.details[0].message;}else{return null;}};var onSubmit=function onSubmit(e){e.preventDefault();// console.log(customer);\nif(image===null)return Swal.fire('OOPS','Image is Required','error');var validate=validateForm();if(validate!==null){return Swal.fire('OOPS',validate,'error');}try{var fd=new formData();fd.append('fullName',customer.fullName);fd.append('img',image);fd.append('dob',customer.dob);fd.append('phone',customer.phone);fd.append('hometown',customer.hometown);fd.append('placeOfBirth',customer.placeOfBirth);fd.append('nationality',customer.nationality);fd.append('occupation',customer.occupation);fd.append('gender',customer.gender);fd.append('residentialAddress',customer.residentialAddress);fd.append('ghanaPostGPS',customer.ghanaPostGPS);fd.append('residence',customer.residence);fd.append('idType',customer.idType);fd.append('idNumber',customer.idNumber);fd.append('tin',customer.tinNumber);fd.append('maritalStatus',customer.maritalStatus);fd.append('nameOfSpouse',customer.nameOfSpouse);fd.append('phoneOfSpouse',customer.phoneOfSpouse);fd.append('occupationOfSpouse',customer.occupationOfSpouse);fd.append('religion',customer.religion);fd.append('placeOfWorship',customer.placeOfWorship);fd.append('leaderOfPlaceOfWorship',customer.nameOfChurchLeader);fd.append('contactOfPlaceOfWorship',customer.phoneOfChurchLeader);fd.append('officer',customer.officer);fd.append('group',customer.group);fd.append('createdBy',user._id);/*for (let [key, value] of fd.entries()) {\n        console.log(key, value);\n      }*/ //fd.append(\"img\", image);\naxios.post('http://localhost:49155/api/customer',fd,{headers:{'Content-Type':'application/x-www-form-urlencoded'}}).then(function(res){Swal.fire('Success','Customer Details Submitted Successfully','success');setCustomer({fullName:'',dob:'',phone:'',hometown:'',placeOfBirth:'',occupation:'',nationality:'',gender:'',residentialAddress:'',ghanaPostGPS:'',residence:'',idType:'',idNumber:'',tinNumber:'',maritalStatus:'',nameOfSpouse:'',phoneOfSpouse:'',occupationOfSpouse:'',religion:'',placeOfWorship:'',nameOfChurchLeader:'',phoneOfChurchLeader:'',//selectedFile: \"\",\nofficer:'',group:''});setDisplay(null);}).catch(function(err){Swal.fire('OOPS ! '+err.message+'  [ Customer Details Not Saved]','error');});}catch(ex){return Swal.fire('OOPS',ex+'  [ Customer Details Not Saved]','error');}/* const validate = validateForm();\n    if (validate !== null) {\n      return Swal.fire(\"OOPS\", validate, \"error\");\n    }\n*/};/* axios.post(\"http://localhost:49155/api/customer\", customer, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },*/return/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(CCard,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CCol,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"mb-5\"},\"Customer Registration\"))))));};export default Customer;/*\n  <CInputGroup>\n                  <img src={display} className=\"m-3\" alt=\"preview image\" />\n\n                  <CInput\n                    type=\"file\"\n                    onChange={onImageChange}\n                    className=\"form-control-sm col-sm-4 mt-3\"\n                    id=\"group_image\"\n                    name=\"img\"\n                  />\n                </CInputGroup>\n\n                <CInputGroup className=\"mt-3\">\n                  <CLabel htmlFor=\"fullName\" className=\"form-label m-3\">\n                    Full Name *\n                  </CLabel>\n\n                  <CInput\n                    name=\"fullName\"\n                    type=\"text\"\n                    className=\"form-control col-sm-4\"\n                    id=\"fullName\"\n                    value={customer.fullName}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        fullName: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup className=\"mt-3\">\n                  <label htmlFor=\"hometown\" className=\"form-label custlabel\">\n                    Hometown\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control col-sm-4\"\n                    id=\"hometown\"\n                    value={customer.hometown}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        hometown: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"Dob\" className=\"form-label custlabel\">\n                    Date of Birth *\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    id=\"Dob\"\n                    placeholder=\"dd-mm-yyyy\"\n                    min=\"1940-01-01\"\n                    value={customer.dob}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        dob: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"placeofbirth\"\n                    className=\"form-label custlabel\"\n                  >\n                    Place of Birth\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"placeofBirth\"\n                    value={customer.placeOfBirth}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        placeOfBirth: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"occupation\" className=\"form-label custlabel\">\n                    Occupation *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"occupation\"\n                    value={customer.occupation}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        occupation: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"phone\" className=\"form-label custlabel\">\n                    Phone *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"Phone\"\n                    value={customer.phone}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phone: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"nationality\" className=\"form-label custlabel\">\n                    Nationality\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"nationality\"\n                    value={customer.value}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nationality: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"gender\" className=\"form-label custlabel\">\n                    Gender *\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.gender}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        gender: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Select Gender--</option>\n                    <option value=\"Male\">Male</option>\n                    <option value=\"Female\">Female</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"resaddress\" className=\"form-label custlabel\">\n                    Residential Address *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"resaddress\"\n                    value={customer.residentialAddress}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        residentialAddress: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"gps\" className=\"form-label custlabel\">\n                    Ghana Post GPS *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.ghanaPostGPS}\n                    className=\"form-control\"\n                    id=\"gps\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        ghanaPostGPS: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"suburb\" className=\"form-label custlabel\">\n                    Suburb / Land Mark / Directions\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.residence}\n                    className=\"form-control\"\n                    id=\"suburb\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        residence: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"idType\" className=\"form-label custlabel\">\n                    ID Type *\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.idType}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        idType: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Select ID--</option>\n                    <option value=\"National ID\">National ID</option>\n                    <option value=\"Voter ID\">Voter ID</option>\n                    <option value=\"Driver's License\">Driver's License</option>\n                    <option value=\"Passport\">Passport</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"idNumber\" className=\"form-label custlabel\">\n                    ID Number *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.idNumber}\n                    className=\"form-control\"\n                    id=\"idNumber\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        idNumber: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"tin\" className=\"form-label custlabel\">\n                    TIN *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.tinNumber}\n                    className=\"form-control\"\n                    id=\"tin\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        tinNumber: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"married\" className=\"form-label custlabel\">\n                    Marrital Status\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.maritalStatus}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        maritalStatus: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Marital Status--</option>\n                    <option value=\"Married\">Married</option>\n                    <option value=\"Single\">Single</option>\n                    <option value=\"Divorced\">Divorced</option>\n                    <option value=\"Widowed\">Widowed</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"nameofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Name of Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"nameofspouse\"\n                    value={customer.nameOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nameOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Phone of Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"phoneofspouse\"\n                    value={customer.phoneOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phoneOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"occupationofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Occu. Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"occupationofspouse\"\n                    value={customer.occupationOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        occupationOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"religion\" className=\"form-label custlabel\">\n                    Religion\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.religion}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        religion: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Religion--</option>\n                    <option value=\"Christian\">Christian</option>\n                    <option value=\"Muslim\">Muslim</option>\n                    <option value=\"Traditionalist\">Traditionalist</option>\n                    <option value=\"Other\">Other</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"placeofworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Place of Worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.placeholder}\n                    className=\"form-control\"\n                    id=\"placeofworship\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        placeOfWorship: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"worshipleader\"\n                    className=\"form-label custlabel\"\n                  >\n                    Leader of Place of Worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.nameOfChurchLeader}\n                    className=\"form-control\"\n                    id=\"worshipleader\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nameOfChurchLeader: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Phone, Place of worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.phoneOfChurchLeader}\n                    className=\"form-control\"\n                    id=\"phoneworship\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phoneOfChurchLeader: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Assigned Officer *\n                  </label>\n                  <select\n                    className=\"form-select mb-5\"\n                    aria-label=\"Default select example\"\n                    value={customer.officer}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        officer: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option value=\"\">Officer *</option>\n                    {allStaff.map((s) => (\n                      <option key={s._id} value={s._id} id={s._id}>\n                        {s.nameOfStaff}\n                      </option>\n                    ))}\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Group *\n                  </label>\n                  <select\n                    className=\"form-select mb-5\"\n                    aria-label=\"Default select example\"\n                    value={customer.group}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        group: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option value=\"\">Group *</option>\n                    {groups.map((s) => (\n                      <option key={s._id} value={s._id} id={s._id}>\n                        {s.group}\n                      </option>\n                    ))}\n                  </select>\n                </CInputGroup>\n              </CFormGroup>\n\n              <div className=\"d-flex justify-content-center mt-3 mb-3\">\n                <button className=\"button col-md-5 ms-5\" type=\"submit\">\n                  Submit\n                </button>\n              </div>\n\n*/","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/customer.jsx"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","moment","apiUrl","formData","auth","noImg","Joi","Swal","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CDropdownMenu","CInputGroup","Customer","image","setImage","display","setDisplay","allStaff","setAllStaff","user","setUser","groups","setGroups","fullName","dob","phone","hometown","placeOfBirth","occupation","nationality","gender","residentialAddress","ghanaPostGPS","residence","idType","idNumber","tinNumber","marritalStatus","nameOfSpouse","phoneOfSpouse","occupationOfSpouse","religion","placeOfWorship","nameOfChurchLeader","phoneOfChurchLeader","officer","group","customer","setCustomer","getIsAdmin","getCurrentUser","getGroups","get","results","data","getStaff","staff","schemaMap","string","required","label","date","allow","onImageChange","event","target","files","URL","createObjectURL","schema","object","validateForm","result","validate","error","details","message","onSubmit","e","preventDefault","fire","fd","append","maritalStatus","_id","post","headers","then","res","catch","err","ex"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport moment from 'moment'\nimport { apiUrl } from '../../config.json'\nimport formData from 'form-data'\nimport auth from '../../components/services/authService'\nimport noImg from '../../assets/icons/noImg.png'\nimport Joi from 'joi-browser'\n\nimport Swal from 'sweetalert2'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  //CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\nconst Customer = () => {\n  const [image, setImage] = useState(null)\n  const [display, setDisplay] = useState(null)\n  const [allStaff, setAllStaff] = useState([])\n  const [user, setUser] = useState({})\n\n  const [groups, setGroups] = useState([])\n  const [customer, setCustomer] = useState({\n    fullName: '',\n    dob: '',\n    phone: '',\n    hometown: '',\n    placeOfBirth: '',\n    occupation: '',\n    nationality: '',\n    gender: '',\n    residentialAddress: '',\n    ghanaPostGPS: '',\n    residence: '',\n    idType: '',\n    idNumber: '',\n    tinNumber: '',\n    marritalStatus: '',\n    nameOfSpouse: '',\n    phoneOfSpouse: '',\n    occupationOfSpouse: '',\n    religion: '',\n    placeOfWorship: '',\n    nameOfChurchLeader: '',\n    phoneOfChurchLeader: '',\n    //selectedFile: \"\",\n    officer: '',\n    group: '',\n  })\n\n  useEffect(() => {\n    const getIsAdmin = () => {\n      setUser(auth.getCurrentUser)\n    }\n\n    getIsAdmin()\n  }, [])\n\n  useEffect(() => {\n    async function getGroups() {\n      const results = await axios.get(apiUrl + '/group')\n      setGroups(results.data)\n    }\n    getGroups()\n  }, [groups])\n\n  useEffect(() => {\n    async function getStaff() {\n      const staff = await axios.get(apiUrl + '/staff')\n      setAllStaff(staff.data)\n    }\n    getStaff()\n  }, [allStaff])\n\n  const schemaMap = {\n    fullName: Joi.string().required().label('FullName'),\n    dob: Joi.date().required().label('Date of Birth'),\n    phone: Joi.string().required().label('Phone Number'),\n    hometown: Joi.string().allow(''),\n    placeOfBirth: Joi.string().allow(''),\n    nationality: Joi.string().allow(''),\n    occupation: Joi.string().required().label('Occupation'),\n    gender: Joi.string().required().label('Gender'),\n    residentialAddress: Joi.string().required().label('Residential Address'),\n    ghanaPostGPS: Joi.string().required().label('GPS'),\n    residence: Joi.string().allow(''),\n\n    idType: Joi.string().required().label('ID Type'),\n    idNumber: Joi.string().required().label('ID Number'),\n    tinNumber: Joi.string().required().label('TIN NUmber'),\n    marritalStatus: Joi.string().allow(''),\n    nameOfSpouse: Joi.string().allow(''),\n    phoneOfSpouse: Joi.string().allow(''),\n    occupationOfSpouse: Joi.string().allow(''),\n    religion: Joi.string().allow(''),\n    placeOfWorship: Joi.string().allow(''),\n    nameOfChurchLeader: Joi.string().allow(''),\n    phoneOfChurchLeader: Joi.string().allow(''),\n    officer: Joi.string().required().label('Officer'),\n    group: Joi.string().allow('').label('Group'),\n    //createdBy: Joi.string().label(\"Created By\"),\n  }\n\n  const onImageChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      setImage(event.target.files[0])\n      setDisplay(URL.createObjectURL(event.target.files[0]))\n      //setCustomer({ ...customer, img: event.currentTarget.files[0] });\n    }\n  }\n\n  const schema = Joi.object(schemaMap)\n\n  const validateForm = () => {\n    const result = Joi.validate(customer, schema)\n    if (result.error) {\n      return result.error.details[0].message\n    } else {\n      return null\n    }\n  }\n\n  const onSubmit = (e) => {\n    e.preventDefault()\n    // console.log(customer);\n    if (image === null) return Swal.fire('OOPS', 'Image is Required', 'error')\n\n    const validate = validateForm()\n    if (validate !== null) {\n      return Swal.fire('OOPS', validate, 'error')\n    }\n    try {\n      const fd = new formData()\n      fd.append('fullName', customer.fullName)\n      fd.append('img', image)\n      fd.append('dob', customer.dob)\n      fd.append('phone', customer.phone)\n      fd.append('hometown', customer.hometown)\n      fd.append('placeOfBirth', customer.placeOfBirth)\n      fd.append('nationality', customer.nationality)\n      fd.append('occupation', customer.occupation)\n      fd.append('gender', customer.gender)\n      fd.append('residentialAddress', customer.residentialAddress)\n      fd.append('ghanaPostGPS', customer.ghanaPostGPS)\n      fd.append('residence', customer.residence)\n      fd.append('idType', customer.idType)\n      fd.append('idNumber', customer.idNumber)\n      fd.append('tin', customer.tinNumber)\n      fd.append('maritalStatus', customer.maritalStatus)\n      fd.append('nameOfSpouse', customer.nameOfSpouse)\n      fd.append('phoneOfSpouse', customer.phoneOfSpouse)\n      fd.append('occupationOfSpouse', customer.occupationOfSpouse)\n      fd.append('religion', customer.religion)\n      fd.append('placeOfWorship', customer.placeOfWorship)\n      fd.append('leaderOfPlaceOfWorship', customer.nameOfChurchLeader)\n      fd.append('contactOfPlaceOfWorship', customer.phoneOfChurchLeader)\n      fd.append('officer', customer.officer)\n      fd.append('group', customer.group)\n      fd.append('createdBy', user._id)\n\n      /*for (let [key, value] of fd.entries()) {\n        console.log(key, value);\n      }*/\n\n      //fd.append(\"img\", image);\n      axios\n        .post('http://localhost:49155/api/customer', fd, {\n          headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n          },\n        })\n        .then((res) => {\n          Swal.fire(\n            'Success',\n            'Customer Details Submitted Successfully',\n            'success',\n          )\n          setCustomer({\n            fullName: '',\n            dob: '',\n            phone: '',\n            hometown: '',\n            placeOfBirth: '',\n            occupation: '',\n            nationality: '',\n            gender: '',\n            residentialAddress: '',\n            ghanaPostGPS: '',\n            residence: '',\n            idType: '',\n            idNumber: '',\n            tinNumber: '',\n            maritalStatus: '',\n            nameOfSpouse: '',\n            phoneOfSpouse: '',\n            occupationOfSpouse: '',\n            religion: '',\n            placeOfWorship: '',\n            nameOfChurchLeader: '',\n            phoneOfChurchLeader: '',\n            //selectedFile: \"\",\n            officer: '',\n            group: '',\n          })\n          setDisplay(null)\n        })\n        .catch((err) => {\n          Swal.fire(\n            'OOPS ! ' + err.message + '  [ Customer Details Not Saved]',\n            'error',\n          )\n        })\n    } catch (ex) {\n      return Swal.fire('OOPS', ex + '  [ Customer Details Not Saved]', 'error')\n    }\n\n    /* const validate = validateForm();\n    if (validate !== null) {\n      return Swal.fire(\"OOPS\", validate, \"error\");\n    }\n*/\n  }\n  /* axios.post(\"http://localhost:49155/api/customer\", customer, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n      },*/\n\n  return (\n    <CRow>\n      <CCol>\n        <CCard>\n          <div>\n            <CCol>\n              <h1 className=\"mb-5\">Customer Registration</h1>\n            </CCol>\n          </div>\n        </CCard>\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default Customer\n\n/*\n  <CInputGroup>\n                  <img src={display} className=\"m-3\" alt=\"preview image\" />\n\n                  <CInput\n                    type=\"file\"\n                    onChange={onImageChange}\n                    className=\"form-control-sm col-sm-4 mt-3\"\n                    id=\"group_image\"\n                    name=\"img\"\n                  />\n                </CInputGroup>\n\n                <CInputGroup className=\"mt-3\">\n                  <CLabel htmlFor=\"fullName\" className=\"form-label m-3\">\n                    Full Name *\n                  </CLabel>\n\n                  <CInput\n                    name=\"fullName\"\n                    type=\"text\"\n                    className=\"form-control col-sm-4\"\n                    id=\"fullName\"\n                    value={customer.fullName}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        fullName: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup className=\"mt-3\">\n                  <label htmlFor=\"hometown\" className=\"form-label custlabel\">\n                    Hometown\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control col-sm-4\"\n                    id=\"hometown\"\n                    value={customer.hometown}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        hometown: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"Dob\" className=\"form-label custlabel\">\n                    Date of Birth *\n                  </label>\n                  <input\n                    type=\"date\"\n                    className=\"form-control\"\n                    id=\"Dob\"\n                    placeholder=\"dd-mm-yyyy\"\n                    min=\"1940-01-01\"\n                    value={customer.dob}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        dob: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"placeofbirth\"\n                    className=\"form-label custlabel\"\n                  >\n                    Place of Birth\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"placeofBirth\"\n                    value={customer.placeOfBirth}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        placeOfBirth: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"occupation\" className=\"form-label custlabel\">\n                    Occupation *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"occupation\"\n                    value={customer.occupation}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        occupation: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"phone\" className=\"form-label custlabel\">\n                    Phone *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"Phone\"\n                    value={customer.phone}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phone: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"nationality\" className=\"form-label custlabel\">\n                    Nationality\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"nationality\"\n                    value={customer.value}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nationality: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"gender\" className=\"form-label custlabel\">\n                    Gender *\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.gender}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        gender: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Select Gender--</option>\n                    <option value=\"Male\">Male</option>\n                    <option value=\"Female\">Female</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"resaddress\" className=\"form-label custlabel\">\n                    Residential Address *\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"resaddress\"\n                    value={customer.residentialAddress}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        residentialAddress: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"gps\" className=\"form-label custlabel\">\n                    Ghana Post GPS *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.ghanaPostGPS}\n                    className=\"form-control\"\n                    id=\"gps\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        ghanaPostGPS: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"suburb\" className=\"form-label custlabel\">\n                    Suburb / Land Mark / Directions\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.residence}\n                    className=\"form-control\"\n                    id=\"suburb\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        residence: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"idType\" className=\"form-label custlabel\">\n                    ID Type *\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.idType}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        idType: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Select ID--</option>\n                    <option value=\"National ID\">National ID</option>\n                    <option value=\"Voter ID\">Voter ID</option>\n                    <option value=\"Driver's License\">Driver's License</option>\n                    <option value=\"Passport\">Passport</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"idNumber\" className=\"form-label custlabel\">\n                    ID Number *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.idNumber}\n                    className=\"form-control\"\n                    id=\"idNumber\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        idNumber: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"tin\" className=\"form-label custlabel\">\n                    TIN *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.tinNumber}\n                    className=\"form-control\"\n                    id=\"tin\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        tinNumber: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"married\" className=\"form-label custlabel\">\n                    Marrital Status\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.maritalStatus}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        maritalStatus: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Marital Status--</option>\n                    <option value=\"Married\">Married</option>\n                    <option value=\"Single\">Single</option>\n                    <option value=\"Divorced\">Divorced</option>\n                    <option value=\"Widowed\">Widowed</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"nameofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Name of Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"nameofspouse\"\n                    value={customer.nameOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nameOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Phone of Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"phoneofspouse\"\n                    value={customer.phoneOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phoneOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"occupationofspouse\"\n                    className=\"form-label custlabel\"\n                  >\n                    Occu. Spouse\n                  </label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"occupationofspouse\"\n                    value={customer.occupationOfSpouse}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        occupationOfSpouse: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label htmlFor=\"religion\" className=\"form-label custlabel\">\n                    Religion\n                  </label>\n                  <select\n                    className=\"form-select\"\n                    aria-label=\"Default select example\"\n                    value={customer.religion}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        religion: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option defaultValue=\"\">--Religion--</option>\n                    <option value=\"Christian\">Christian</option>\n                    <option value=\"Muslim\">Muslim</option>\n                    <option value=\"Traditionalist\">Traditionalist</option>\n                    <option value=\"Other\">Other</option>\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"placeofworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Place of Worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.placeholder}\n                    className=\"form-control\"\n                    id=\"placeofworship\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        placeOfWorship: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"worshipleader\"\n                    className=\"form-label custlabel\"\n                  >\n                    Leader of Place of Worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.nameOfChurchLeader}\n                    className=\"form-control\"\n                    id=\"worshipleader\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        nameOfChurchLeader: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Phone, Place of worship\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={customer.phoneOfChurchLeader}\n                    className=\"form-control\"\n                    id=\"phoneworship\"\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        phoneOfChurchLeader: e.currentTarget.value,\n                      })\n                    }\n                  />\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Assigned Officer *\n                  </label>\n                  <select\n                    className=\"form-select mb-5\"\n                    aria-label=\"Default select example\"\n                    value={customer.officer}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        officer: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option value=\"\">Officer *</option>\n                    {allStaff.map((s) => (\n                      <option key={s._id} value={s._id} id={s._id}>\n                        {s.nameOfStaff}\n                      </option>\n                    ))}\n                  </select>\n                </CInputGroup>\n                <CInputGroup>\n                  <label\n                    htmlFor=\"phoneworship\"\n                    className=\"form-label custlabel\"\n                  >\n                    Group *\n                  </label>\n                  <select\n                    className=\"form-select mb-5\"\n                    aria-label=\"Default select example\"\n                    value={customer.group}\n                    onChange={(e) =>\n                      setCustomer({\n                        ...customer,\n                        group: e.currentTarget.value,\n                      })\n                    }\n                  >\n                    <option value=\"\">Group *</option>\n                    {groups.map((s) => (\n                      <option key={s._id} value={s._id} id={s._id}>\n                        {s.group}\n                      </option>\n                    ))}\n                  </select>\n                </CInputGroup>\n              </CFormGroup>\n\n              <div className=\"d-flex justify-content-center mt-3 mb-3\">\n                <button className=\"button col-md-5 ms-5\" type=\"submit\">\n                  Submit\n                </button>\n              </div>\n\n*/\n"]},"metadata":{},"sourceType":"module"}