{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/containers/TheContent.js\",\n    _this = this;\n\nimport React, { Suspense } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { CContainer, CFade } from '@coreui/react';\nimport auth from '../components/services/authService';\nimport { useHistory } from 'react-router-dom';\nimport { useIdleTimer } from 'react-idle-timer'; // routes config\n\nimport routes from '../routes';\nvar loading = /*#__PURE__*/React.createElement(\"div\", {\n  className: \"pt-3 text-center\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: \"sk-spinner sk-spinner-pulse\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}));\n\nvar TheContent = function TheContent() {\n  var history = useHistory();\n\n  var onIdle = function onIdle() {\n    auth.logout();\n    history.push('/login');\n  };\n\n  var _useIdleTimer = useIdleTimer({\n    onIdle: onIdle,\n    timeout: 2000 * 60 * 1\n  }),\n      isIdle = _useIdleTimer.isIdle;\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"c-main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CContainer, {\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Suspense, {\n    fallback: loading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, routes.map(function (route, idx) {\n    return route.component && /*#__PURE__*/React.createElement(Route, {\n      key: idx,\n      path: route.path,\n      exact: route.exact,\n      name: route.name,\n      render: function render(props) {\n        return /*#__PURE__*/React.createElement(CFade, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 23\n          }\n        }, localStorage.getItem('token') ? /*#__PURE__*/React.createElement(route.component, Object.assign({}, props, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 27\n          }\n        })) : Redirect('/login'));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 19\n      }\n    });\n  }), /*#__PURE__*/React.createElement(Redirect, {\n    from: \"/\",\n    to: \"/dashboard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default React.memo(TheContent);","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/containers/TheContent.js"],"names":["React","Suspense","Redirect","Route","Switch","CContainer","CFade","auth","useHistory","useIdleTimer","routes","loading","TheContent","history","onIdle","logout","push","timeout","isIdle","map","route","idx","component","path","exact","name","props","localStorage","getItem","memo"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,QAAT,EAAmBC,KAAnB,EAA0BC,MAA1B,QAAwC,kBAAxC;AACA,SAASC,UAAT,EAAqBC,KAArB,QAAkC,eAAlC;AACA,OAAOC,IAAP,MAAiB,oCAAjB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,YAAT,QAA6B,kBAA7B,C,CACA;;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,IAAMC,OAAO,gBACX;AAAK,EAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACE;AAAK,EAAA,SAAS,EAAC,6BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EADF,CADF;;AAMA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,MAAIC,OAAO,GAAGL,UAAU,EAAxB;;AAEA,MAAMM,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBP,IAAAA,IAAI,CAACQ,MAAL;AACAF,IAAAA,OAAO,CAACG,IAAR,CAAa,QAAb;AACD,GAHD;;AAHuB,sBAQJP,YAAY,CAAC;AAAEK,IAAAA,MAAM,EAANA,MAAF;AAAUG,IAAAA,OAAO,EAAE,OAAO,EAAP,GAAY;AAA/B,GAAD,CARR;AAAA,MAQfC,MARe,iBAQfA,MARe;;AAUvB,sBACE;AAAM,IAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,KAAK,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,QAAQ,EAAEP,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGD,MAAM,CAACS,GAAP,CAAW,UAACC,KAAD,EAAQC,GAAR,EAAgB;AAC1B,WACED,KAAK,CAACE,SAAN,iBACE,oBAAC,KAAD;AACE,MAAA,GAAG,EAAED,GADP;AAEE,MAAA,IAAI,EAAED,KAAK,CAACG,IAFd;AAGE,MAAA,KAAK,EAAEH,KAAK,CAACI,KAHf;AAIE,MAAA,IAAI,EAAEJ,KAAK,CAACK,IAJd;AAKE,MAAA,MAAM,EAAE,gBAACC,KAAD;AAAA,4BACN,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACGC,YAAY,CAACC,OAAb,CAAqB,OAArB,iBACC,oBAAC,KAAD,CAAO,SAAP,oBAAqBF,KAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADD,GAGCxB,QAAQ,CAAC,QAAD,CAJZ,CADM;AAAA,OALV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ;AAmBD,GApBA,CADH,eAsBE,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAC,GAAf;AAAmB,IAAA,EAAE,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAtBF,CADF,CADF,CADF,CADF;AAgCD,CA1CD;;AA4CA,eAAeF,KAAK,CAAC6B,IAAN,CAAWjB,UAAX,CAAf","sourcesContent":["import React, { Suspense } from 'react'\nimport { Redirect, Route, Switch } from 'react-router-dom'\nimport { CContainer, CFade } from '@coreui/react'\nimport auth from '../components/services/authService'\nimport { useHistory } from 'react-router-dom'\nimport { useIdleTimer } from 'react-idle-timer'\n// routes config\nimport routes from '../routes'\n\nconst loading = (\n  <div className=\"pt-3 text-center\">\n    <div className=\"sk-spinner sk-spinner-pulse\"></div>\n  </div>\n)\n\nconst TheContent = () => {\n  let history = useHistory()\n\n  const onIdle = () => {\n    auth.logout()\n    history.push('/login')\n  }\n\n  const { isIdle } = useIdleTimer({ onIdle, timeout: 2000 * 60 * 1 })\n\n  return (\n    <main className=\"c-main\">\n      <CContainer fluid>\n        <Suspense fallback={loading}>\n          <Switch>\n            {routes.map((route, idx) => {\n              return (\n                route.component && (\n                  <Route\n                    key={idx}\n                    path={route.path}\n                    exact={route.exact}\n                    name={route.name}\n                    render={(props) => (\n                      <CFade>\n                        {localStorage.getItem('token') ? (\n                          <route.component {...props} />\n                        ) : (\n                          Redirect('/login')\n                        )}\n                      </CFade>\n                    )}\n                  />\n                )\n              )\n            })}\n            <Redirect from=\"/\" to=\"/dashboard\" />\n          </Switch>\n        </Suspense>\n      </CContainer>\n    </main>\n  )\n}\n\nexport default React.memo(TheContent)\n"]},"metadata":{},"sourceType":"module"}