{"ast":null,"code":"import _objectSpread from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/bank.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport baseUrl from '../../config.json';\nimport auth from '../../components/services/authService';\nimport Swal from 'sweetalert2';\nimport { Row, Col, Table, Progress, Button, UncontrolledButtonDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input, Label, Badge } from 'reactstrap';\nimport { CBadge, CCard, CCardBody //CCardHeader,\n, CCol, CDataTable, CRow, CButton, CModal, CModalFooter, CModalHeader, CModalBody, CCardHeader, CInputGroupAppend, CInputGroupPrepend, CDropdownItem, CForm //CCardFooter,\n, CDropdownToggle //CInputRadio,\n, CDropdown, CModalTitle //CFormText,\n//CTextarea,\n, CFormGroup, CLabel // CSwitch,\n, CInput //CInputFile,\n, CSelect, CDropdownMenu //CCardFooter,\n, CInputGroup //CForm,\n} from '@coreui/react';\n\nvar Bank = function Bank() {\n  var _useState = useState({\n    bank: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      bank = _useState2[0],\n      setBank = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      banks = _useState4[0],\n      setBanks = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      editMode = _useState6[0],\n      setEditMode = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      render = _useState8[0],\n      setRender = _useState8[1];\n\n  useEffect(function () {\n    function getBanks() {\n      return _getBanks.apply(this, arguments);\n    }\n\n    function _getBanks() {\n      _getBanks = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get(baseUrl.apiUrl + '/setup/bank');\n\n              case 2:\n                results = _context.sent;\n                setBanks(results.data);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _getBanks.apply(this, arguments);\n    }\n\n    getBanks(); //console.log(banks)\n  }, [render]);\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.post(baseUrl.apiUrl + '/setup/bank', bank);\n\n            case 3:\n              results = _context2.sent;\n\n              if (!(results.status !== 200)) {\n                _context2.next = 8;\n                break;\n              }\n\n              return _context2.abrupt(\"return\", Swal.fire('OOPS', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 8:\n              Swal.fire('Success', 'Bank Name Saved Successfully', 'success');\n              setBank({\n                bank: ''\n              });\n              setRender(!render);\n\n            case 11:\n              _context2.next = 16;\n              break;\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2[\"catch\"](0);\n              Swal.fire('OOPS ! ' + _context2.t0.message, 'error');\n\n            case 16:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 13]]);\n    }));\n\n    return function handleSubmit() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleOnEdit = function handleOnEdit(p) {\n    setEditMode(true);\n    setBank({\n      bank: p.bank,\n      id: p.id\n    }); //setDisabled(!disabled);\n  };\n\n  var handleUpdate = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(bank.bank !== '')) {\n                _context3.next = 20;\n                break;\n              }\n\n              _context3.prev = 1;\n              _context3.next = 4;\n              return axios.put(baseUrl.apiUrl + '/setup/bank', bank);\n\n            case 4:\n              results = _context3.sent;\n\n              if (!(results.status !== 200)) {\n                _context3.next = 9;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'Bank Updated Successfully', 'success');\n              setBank({\n                bank: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 13:\n              _context3.next = 18;\n              break;\n\n            case 15:\n              _context3.prev = 15;\n              _context3.t0 = _context3[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context3.t0.message, 'error');\n\n            case 18:\n              _context3.next = 21;\n              break;\n\n            case 20:\n              return _context3.abrupt(\"return\", Swal.fire('OOPS', 'Enter all Details !', 'error'));\n\n            case 21:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 15]]);\n    }));\n\n    return function handleUpdate(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var results;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(bank.bank !== '')) {\n                _context4.next = 20;\n                break;\n              }\n\n              _context4.prev = 1;\n              _context4.next = 4;\n              return axios.delete(baseUrl.apiUrl + '/setup/bank/' + bank.id);\n\n            case 4:\n              results = _context4.sent;\n\n              if (!(results.status !== 200)) {\n                _context4.next = 9;\n                break;\n              }\n\n              return _context4.abrupt(\"return\", Swal.fire('OOPS !', 'Submission Failed ! Check Entries and try again !', 'error'));\n\n            case 9:\n              Swal.fire('Success', 'Bank Deleted Successfully', 'success');\n              setBank({\n                bank: ''\n              });\n              setEditMode(false);\n              setRender(!render);\n\n            case 13:\n              _context4.next = 18;\n              break;\n\n            case 15:\n              _context4.prev = 15;\n              _context4.t0 = _context4[\"catch\"](1);\n              Swal.fire('OOPS ! ' + _context4.t0.message, 'error');\n\n            case 18:\n              _context4.next = 21;\n              break;\n\n            case 20:\n              return _context4.abrupt(\"return\", Swal.fire('OOPS', 'Select a Bank !', 'error'));\n\n            case 21:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[1, 15]]);\n    }));\n\n    return function handleDelete() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container-fluid\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10 mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"centertext\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, \"Our Banks\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"staffp\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, \"The banks we transact business with\"), /*#__PURE__*/React.createElement(CLabel, {\n    htmlFor: \"Bank\",\n    className: \"form-label \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, \"Bank\"), /*#__PURE__*/React.createElement(CInputGroup, {\n    className: \"mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CInput, {\n    type: \"text\",\n    className: \"form-control col-sm-10\",\n    id: \"Bank\",\n    value: bank.bank,\n    onChange: function onChange(e) {\n      return setBank(_objectSpread(_objectSpread({}, bank), {}, {\n        bank: e.currentTarget.value\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mb-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, !editMode ? /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-primary col-2 mt-3 btn-sm\",\n    onClick: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, \"Submit\") : null, editMode ? /*#__PURE__*/React.createElement(CButton, {\n    type: \"submit\",\n    class: \"btn btn-success col-2 ms-5 mt-3 btn-sm\",\n    onClick: handleUpdate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }\n  }, \"Update Bank\") : null, editMode && /*#__PURE__*/React.createElement(CButton, {\n    className: \"btn btn-danger mr-3 col-sm-2 mt-3 mb-3 float-left btn-sm\",\n    onClick: handleDelete,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Table, {\n    className: \"table-sm col-sm-6 mt-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"caption\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"Click on any bank to update or delete\"), /*#__PURE__*/React.createElement(\"thead\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"fs-sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 15\n    }\n  }, \"Bank\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 11\n    }\n  }, banks.map(function (c, index) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      Style: \"cursor: pointer;\",\n      onClick: function onClick() {\n        return handleOnEdit(c);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }\n    }, c.bank));\n  })))));\n};\n\nexport default Bank;","map":{"version":3,"sources":["/Users/mac/Documents/Dara/daraPlusApp/daraFront/src/views/pages/bank.js"],"names":["React","useState","useEffect","Link","useNavigate","Navigate","axios","baseUrl","auth","Swal","Row","Col","Table","Progress","Button","UncontrolledButtonDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","Label","Badge","CBadge","CCard","CCardBody","CCol","CDataTable","CRow","CButton","CModal","CModalFooter","CModalHeader","CModalBody","CCardHeader","CInputGroupAppend","CInputGroupPrepend","CDropdownItem","CForm","CDropdownToggle","CDropdown","CModalTitle","CFormGroup","CLabel","CInput","CSelect","CDropdownMenu","CInputGroup","Bank","bank","setBank","banks","setBanks","editMode","setEditMode","render","setRender","getBanks","get","apiUrl","results","data","handleSubmit","post","status","fire","message","handleOnEdit","p","id","handleUpdate","e","put","handleDelete","delete","currentTarget","value","map","c","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useNavigate, Navigate } from 'react-router-dom'\nimport axios from 'axios'\nimport baseUrl from '../../config.json'\nimport auth from '../../components/services/authService'\nimport Swal from 'sweetalert2'\n\nimport {\n  Row,\n  Col,\n  Table,\n  Progress,\n  Button,\n  UncontrolledButtonDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input,\n  Label,\n  Badge,\n} from 'reactstrap'\nimport {\n  CBadge,\n  CCard,\n  CCardBody,\n  //CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CButton,\n  CModal,\n  CModalFooter,\n  CModalHeader,\n  CModalBody,\n  CCardHeader,\n  CInputGroupAppend,\n  CInputGroupPrepend,\n  CDropdownItem,\n  CForm,\n  //CCardFooter,\n  CDropdownToggle,\n  //CInputRadio,\n  CDropdown,\n  CModalTitle,\n  //CFormText,\n  //CTextarea,\n  CFormGroup,\n  CLabel,\n  // CSwitch,\n  CInput,\n  //CInputFile,\n  CSelect,\n  CDropdownMenu,\n  //CCardFooter,\n  CInputGroup,\n  //CForm,\n} from '@coreui/react'\n\nconst Bank = () => {\n  const [bank, setBank] = useState({\n    bank: '',\n  })\n  const [banks, setBanks] = useState([])\n  const [editMode, setEditMode] = useState(false)\n  const [render, setRender] = useState(false)\n\n  useEffect(() => {\n    async function getBanks() {\n      const results = await axios.get(baseUrl.apiUrl + '/setup/bank')\n      setBanks(results.data)\n    }\n    getBanks()\n    //console.log(banks)\n  }, [render])\n\n  const handleSubmit = async () => {\n    try {\n      const results = await axios.post(baseUrl.apiUrl + '/setup/bank', bank)\n\n      if (results.status !== 200) {\n        return Swal.fire(\n          'OOPS',\n          'Submission Failed ! Check Entries and try again !',\n          'error',\n        )\n      } else {\n        Swal.fire('Success', 'Bank Name Saved Successfully', 'success')\n        setBank({\n          bank: '',\n        })\n        setRender(!render)\n      }\n    } catch (err) {\n      Swal.fire('OOPS ! ' + err.message, 'error')\n    }\n  }\n  const handleOnEdit = (p) => {\n    setEditMode(true)\n    setBank({\n      bank: p.bank,\n      id: p.id,\n    })\n    //setDisabled(!disabled);\n  }\n\n  const handleUpdate = async (e) => {\n    if (bank.bank !== '') {\n      try {\n        const results = await axios.put(baseUrl.apiUrl + '/setup/bank', bank)\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Bank Updated Successfully', 'success')\n          setBank({\n            bank: '',\n          })\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Enter all Details !', 'error')\n    }\n  }\n\n  const handleDelete = async () => {\n    if (bank.bank !== '') {\n      try {\n        const results = await axios.delete(\n          baseUrl.apiUrl + '/setup/bank/' + bank.id,\n        )\n        if (results.status !== 200) {\n          return Swal.fire(\n            'OOPS !',\n            'Submission Failed ! Check Entries and try again !',\n            'error',\n          )\n        } else {\n          Swal.fire('Success', 'Bank Deleted Successfully', 'success')\n          setBank({\n            bank: '',\n          })\n          setEditMode(false)\n          setRender(!render)\n        }\n      } catch (err) {\n        Swal.fire('OOPS ! ' + err.message, 'error')\n      }\n    } else {\n      return Swal.fire('OOPS', 'Select a Bank !', 'error')\n    }\n  }\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"col-10 mt-3\">\n        <h1 className=\"centertext\">Our Banks</h1>\n        <p className=\"staffp\">The banks we transact business with</p>\n\n        <CLabel htmlFor=\"Bank\" className=\"form-label \">\n          Bank\n        </CLabel>\n        <CInputGroup className=\"mt-3\">\n          <CInput\n            type=\"text\"\n            className=\"form-control col-sm-10\"\n            id=\"Bank\"\n            value={bank.bank}\n            onChange={(e) =>\n              setBank({\n                ...bank,\n                bank: e.currentTarget.value,\n              })\n            }\n          />\n        </CInputGroup>\n        <div className=\"mb-3\">\n          {!editMode ? (\n            <CButton\n              className=\"btn btn-primary col-2 mt-3 btn-sm\"\n              onClick={handleSubmit}\n            >\n              Submit\n            </CButton>\n          ) : null}\n          {editMode ? (\n            <CButton\n              type=\"submit\"\n              class=\"btn btn-success col-2 ms-5 mt-3 btn-sm\"\n              onClick={handleUpdate}\n            >\n              Update Bank\n            </CButton>\n          ) : null}\n\n          {editMode && (\n            <CButton\n              className=\"btn btn-danger mr-3 col-sm-2 mt-3 mb-3 float-left btn-sm\"\n              onClick={handleDelete}\n            >\n              Delete\n            </CButton>\n          )}\n        </div>\n\n        <Table className=\"table-sm col-sm-6 mt-3\">\n          <caption>Click on any bank to update or delete</caption>\n          <thead>\n            <tr className=\"fs-sm\">\n              <th></th>\n              <th>Bank</th>\n            </tr>\n          </thead>\n          <tbody>\n            {banks.map((c, index) => (\n              <tr\n                key={c.id}\n                Style=\"cursor: pointer;\"\n                onClick={() => handleOnEdit(c)}\n              >\n                <td>{index + 1}</td>\n                <td>{c.bank}</td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </div>\n    </div>\n  )\n}\n\nexport default Bank\n"]},"metadata":{},"sourceType":"module"}